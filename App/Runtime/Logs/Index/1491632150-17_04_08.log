[ 2017-04-08T11:44:51+08:00 ] 122.190.2.36 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491623091436035
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000209s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000226s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: YuNvn123OpdL48t4kFTsbRaJx3LK63Ove4-Bft1LSSCYBmHKvdT501nH51b-AWDlSl9Gu1zrO6vUpKLAuwIBvKLzhvYVogj-xe6HIOCru5qfTUeeziY1j1IEq4lp8oEqHMFcAEAXCV
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491623091436035' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491623091436035','ln1491623091436035','ln1491623091436035','1491623091','1491623091','8478','22222','22222','1','1491623091','0','29','182.146.214.213','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491623091436035' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":1,"username":"","uid":19623091,"sex":1,"openid":"ln1491623091436035","cps_app_id":"1000000001","reg_type":1,"reg_time":1491623091,"reg_ip":3063076565}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8478: reg:31 pay:20
DEBUG: reg--pay2-8478 randrate: 1.805
DEBUG: reg--pay2-8478 nowrate: 1.55
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','1','','19623091','1','ln1491623091436035','1000000001','1','1491623091','3063076565') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491623091436035

[ 2017-04-08T11:44:52+08:00 ] 116.31.126.153 /Pay/link?uid=8478&code=021eLGoM0BXTK52uDqsM0cHYoM0eLGo8&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: YuNvn123OpdL48t4kFTsbRaJx3LK63Ove4-Bft1LSSCYBmHKvdT501nH51b-AWDlSl9Gu1zrO6vUpKLAuwIBvKLzhvYVogj-xe6HIOCru5qfTUeeziY1j1IEq4lp8oEqHMFcAEAXCV
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040811445264ad5f6ad80691526910',`openid`='oLiX9wHqhhEfUDLjuvS-b8hvi1aI' WHERE ( orderid='ln1491623091436035' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002969s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002983s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000100s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000112s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000283s ]
INFO: [ app_end ] --END-- [ RunTime:0.000299s ]

[ 2017-04-08T11:44:53+08:00 ] 101.71.55.105 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000263s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000065s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000082s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000084s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000097s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000273s ]
INFO: [ app_end ] --END-- [ RunTime:0.000289s ]

[ 2017-04-08T11:45:33+08:00 ] 122.190.2.30 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000268s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000289s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491622849486180' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491622887',`transaction_id`='4006272001201704086269761318',`status`='1' WHERE `orderid` = 'ln1491622849486180' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000283s ]
INFO: [ app_end ] --END-- [ RunTime:0.000307s ]

[ 2017-04-08T11:46:02+08:00 ] 58.211.2.18 /Pay/link?uid=8455&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491623161956987
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000227s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: YuNvn123OpdL48t4kFTsbRaJx3LK63Ove4-Bft1LSSCYBmHKvdT501nH51b-AWDlSl9Gu1zrO6vUpKLAuwIBvKLzhvYVogj-xe6HIOCru5qfTUeeziY1j1IEq4lp8oEqHMFcAEAXCV
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491623161956987' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491623161956987','ln1491623161956987','ln1491623161956987','1491623162','1491623162','8455','22222','22222','1','1491623162','0','32','183.248.63.180','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491623161956987' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0009s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8455 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8455","ref2_name":"1008","account":0,"username":"","uid":19623162,"sex":1,"openid":"ln1491623161956987","cps_app_id":"1000000001","reg_type":1,"reg_time":1491623162,"reg_ip":3086499764}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8455' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8455' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8455: reg:3 pay:2
DEBUG: reg--pay2-8455 randrate: 1.832
DEBUG: reg--pay2-8455 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8455','1008','0','','19623162','1','ln1491623161956987','1000000001','1','1491623162','3086499764') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8455&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491623161956987

[ 2017-04-08T11:46:02+08:00 ] 58.211.2.18 /Pay/link?uid=8455&code=001ziOEs0nzvKc1dTjDs0shxEs0ziOEn&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000282s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000301s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: YuNvn123OpdL48t4kFTsbRaJx3LK63Ove4-Bft1LSSCYBmHKvdT501nH51b-AWDlSl9Gu1zrO6vUpKLAuwIBvKLzhvYVogj-xe6HIOCru5qfTUeeziY1j1IEq4lp8oEqHMFcAEAXCV
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0011s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040811460223184477350106627734',`openid`='oLiX9wDlg8tbDjVA9lepzjwG7O3M' WHERE ( orderid='ln1491623161956987' ) [ RunTime:0.0009s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000044s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000069s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003254s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003274s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000121s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000138s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000426s ]
INFO: [ app_end ] --END-- [ RunTime:0.000449s ]

[ 2017-04-08T11:46:11+08:00 ] 58.211.2.120 /Pay/link?uid=8455&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491623171862018
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: YuNvn123OpdL48t4kFTsbRaJx3LK63Ove4-Bft1LSSCYBmHKvdT501nH51b-AWDlSl9Gu1zrO6vUpKLAuwIBvKLzhvYVogj-xe6HIOCru5qfTUeeziY1j1IEq4lp8oEqHMFcAEAXCV
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491623171862018' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491623171862018','ln1491623171862018','ln1491623171862018','1491623171','1491623171','8455','22222','22222','1','1491623171','0','32','101.226.33.202','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491623171862018' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8455 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8455","ref2_name":"1008","account":0,"username":"","uid":19623171,"sex":1,"openid":"ln1491623171862018","cps_app_id":"1000000001","reg_type":1,"reg_time":1491623171,"reg_ip":1709318602}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8455' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8455' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8455: reg:3 pay:2
DEBUG: reg--pay2-8455 randrate: 2.267
DEBUG: reg--pay2-8455 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8455','1008','0','','19623171','1','ln1491623171862018','1000000001','1','1491623171','1709318602') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8455&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491623171862018

[ 2017-04-08T11:46:12+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491623161956987' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491623172',`transaction_id`='4001202001201704086272988833',`status`='1' WHERE `orderid` = 'ln1491623161956987' [ RunTime:0.0006s ]
DEBUG: order: {"id":"5488","refid":"8455","prepayid":"wx2017040811460223184477350106627734","orderid":"ln1491623161956987","pay_orderid":"ln1491623161956987","openid":"oLiX9wDlg8tbDjVA9lepzjwG7O3M","uid":"1491623162","gid":"1","time":"1491623162","status":"0","money":"32","ip":"183.248.63.180","call_url":"http:\/\/www.wxaso.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 5488 LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491623161956987' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8455 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: bili:1--22222 -- 2017-04-06 21:42:16
DEBUG: {"account":1,"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8455","ref2_name":"1008","uid":"ln1491623161956987","username":"","cps_app_id":"1000000001","pay_serial":"ln1491623161956987","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4001202001201704086272988833","pay_channel":"1","pay_amount":"32","pay_type":1,"pay_time":"1491623172","pay_time_ymd":"2017-04-08","pay_time_h":"11","pay_time_ymdh":"2017040811","pay_ip":"183.248.63.180"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8389','mrpei','8455','1008','ln1491623161956987','','1000000001','ln1491623161956987','22222','22222','4001202001201704086272988833','1','32','1','1491623172','2017-04-08','11','2017040811','183.248.63.180') [ RunTime:0.0006s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-08T11:46:15+08:00 ] 58.211.2.18 /Pay/link?type=jscall&orderid=ln1491623161956987&isvip=ln1491623161956987&uiver=&money=32&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000208s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000246s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: YuNvn123OpdL48t4kFTsbRaJx3LK63Ove4-Bft1LSSCYBmHKvdT501nH51b-AWDlSl9Gu1zrO6vUpKLAuwIBvKLzhvYVogj-xe6HIOCru5qfTUeeziY1j1IEq4lp8oEqHMFcAEAXCV
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491623161956987' LIMIT 1   [ RunTime:0.0005s ]

[ 2017-04-08T11:46:27+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000238s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491623161956987' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491623172',`transaction_id`='4001202001201704086272988833',`status`='1' WHERE `orderid` = 'ln1491623161956987' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000287s ]
INFO: [ app_end ] --END-- [ RunTime:0.000308s ]

[ 2017-04-08T11:46:44+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000178s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000258s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000277s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491623161956987' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491623172',`transaction_id`='4001202001201704086272988833',`status`='1' WHERE `orderid` = 'ln1491623161956987' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000279s ]
INFO: [ app_end ] --END-- [ RunTime:0.000301s ]

[ 2017-04-08T11:47:15+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491623161956987' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491623172',`transaction_id`='4001202001201704086272988833',`status`='1' WHERE `orderid` = 'ln1491623161956987' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000267s ]
INFO: [ app_end ] --END-- [ RunTime:0.000288s ]

[ 2017-04-08T11:48:52+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000242s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000261s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491615867345842' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491615880',`transaction_id`='4007132001201704086257520324',`status`='1' WHERE `orderid` = 'ln1491615867345842' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000257s ]
INFO: [ app_end ] --END-- [ RunTime:0.000279s ]

[ 2017-04-08T11:48:52+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000239s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000257s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149161226890365' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491612279',`transaction_id`='4004972001201704086253374280',`status`='1' WHERE `orderid` = 'ln149161226890365' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000271s ]
INFO: [ app_end ] --END-- [ RunTime:0.000292s ]

[ 2017-04-08T11:49:01+08:00 ] 122.190.2.48 /Pay/link?uid%3D8493%26code%3D011JrmQi27ZobG0HfPPi2wBxQi2JrmQB%26state%3DSTATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000288s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000307s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: YuNvn123OpdL48t4kFTsbRaJx3LK63Ove4-Bft1LSSCYBmHKvdT501nH51b-AWDlSl9Gu1zrO6vUpKLAuwIBvKLzhvYVogj-xe6HIOCru5qfTUeeziY1j1IEq4lp8oEqHMFcAEAXCV
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
NOTIC: [8] Undefined index: uid /data/www/pay/App/Index/Controller/PayController.class.php 第 141 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491623341_154609' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: uid /data/www/pay/App/Index/Controller/PayController.class.php 第 633 行.
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491623341_154609','ln1491623341_154609','ln1491623341_154609','1491623341','1491623341',NULL,'22222','22222','1','1491623341','0','39','119.147.207.158','ceshi','1',NULL,'','') [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: uid /data/www/pay/App/Index/Controller/PayController.class.php 第 654 行.
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491623341_154609' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"account":0,"ref1_id":0,"ext":null,"username":"","uid":19623341,"sex":1,"openid":"ln1491623341_154609","cps_app_id":"1000000001","reg_type":1,"reg_time":1491623341,"reg_ip":2006175646,"ref2_id":0}
SQL: INSERT INTO `qw_register_log` (`account`,`ref1_id`,`ext`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('0','0',NULL,'','19623341','1','ln1491623341_154609','1000000001','1','1491623341','2006175646','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid%3D8493%26code%3D011JrmQi27ZobG0HfPPi2wBxQi2JrmQB%26state%3DSTATE

[ 2017-04-08T11:49:06+08:00 ] 58.211.2.24 /Pay/link?uid%3D8493%26code%3D011JrmQi27ZobG0HfPPi2wBxQi2JrmQB%26state%3DSTATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000257s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000275s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: YuNvn123OpdL48t4kFTsbRaJx3LK63Ove4-Bft1LSSCYBmHKvdT501nH51b-AWDlSl9Gu1zrO6vUpKLAuwIBvKLzhvYVogj-xe6HIOCru5qfTUeeziY1j1IEq4lp8oEqHMFcAEAXCV
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
NOTIC: [8] Undefined index: uid /data/www/pay/App/Index/Controller/PayController.class.php 第 141 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491623346_596422' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: uid /data/www/pay/App/Index/Controller/PayController.class.php 第 633 行.
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491623346_596422','ln1491623346_596422','ln1491623346_596422','1491623346','1491623346',NULL,'22222','22222','1','1491623346','0','39','61.151.217.45','ceshi','1',NULL,'','') [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: uid /data/www/pay/App/Index/Controller/PayController.class.php 第 654 行.
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491623346_596422' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"account":0,"ref1_id":0,"ext":null,"username":"","uid":19623346,"sex":1,"openid":"ln1491623346_596422","cps_app_id":"1000000001","reg_type":1,"reg_time":1491623346,"reg_ip":1033361709,"ref2_id":0}
SQL: INSERT INTO `qw_register_log` (`account`,`ref1_id`,`ext`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('0','0',NULL,'','19623346','1','ln1491623346_596422','1000000001','1','1491623346','1033361709','0') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid%3D8493%26code%3D011JrmQi27ZobG0HfPPi2wBxQi2JrmQB%26state%3DSTATE

[ 2017-04-08T11:49:14+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000254s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000278s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491617700_8499601838' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491617710',`transaction_id`='4003502001201704086264315448',`status`='1' WHERE `orderid` = 'ln1491617700_8499601838' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000298s ]
INFO: [ app_end ] --END-- [ RunTime:0.000321s ]

[ 2017-04-08T11:49:19+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000279s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000297s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491619497_8451483903' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491619513',`transaction_id`='4001472001201704086265098560',`status`='1' WHERE `orderid` = 'ln1491619497_8451483903' [ RunTime:0.0008s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000287s ]
INFO: [ app_end ] --END-- [ RunTime:0.000308s ]

[ 2017-04-08T11:50:18+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000250s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000269s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491623161956987' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491623172',`transaction_id`='4001202001201704086272988833',`status`='1' WHERE `orderid` = 'ln1491623161956987' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000258s ]
INFO: [ app_end ] --END-- [ RunTime:0.000278s ]

[ 2017-04-08T11:50:42+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000183s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000249s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000269s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491617738_8499735657' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491617792',`transaction_id`='4003502001201704086258284173',`status`='1' WHERE `orderid` = 'ln1491617738_8499735657' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000265s ]
INFO: [ app_end ] --END-- [ RunTime:0.000289s ]

[ 2017-04-08T11:51:13+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000243s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000261s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491619614282195' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491619621',`transaction_id`='4002882001201704086265142954',`status`='1' WHERE `orderid` = 'ln1491619614282195' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000262s ]
INFO: [ app_end ] --END-- [ RunTime:0.000286s ]

[ 2017-04-08T11:51:16+08:00 ] 58.211.2.96 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491623475818543
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000192s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000254s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000275s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: YuNvn123OpdL48t4kFTsbRaJx3LK63Ove4-Bft1LSSCYBmHKvdT501nH51b-AWDlSl9Gu1zrO6vUpKLAuwIBvKLzhvYVogj-xe6HIOCru5qfTUeeziY1j1IEq4lp8oEqHMFcAEAXCV
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491623475818543' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491623475818543','ln1491623475818543','ln1491623475818543','1491623476','1491623476','8478','22222','22222','1','1491623476','0','29','175.162.193.112','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491623475818543' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0010s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":0,"username":"","uid":19623476,"sex":1,"openid":"ln1491623475818543","cps_app_id":"1000000001","reg_type":1,"reg_time":1491623476,"reg_ip":2946679152}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8478: reg:32 pay:20
DEBUG: reg--pay2-8478 randrate: 1.509
DEBUG: reg--pay2-8478 nowrate: 1.6
DEBUG: reg--pay2-8478 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','0','','19623476','1','ln1491623475818543','1000000001','1','1491623476','2946679152') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491623475818543

[ 2017-04-08T11:51:17+08:00 ] 58.211.2.96 /Pay/link?uid=8478&code=001IloJn0oV2mo1MCMLn0LTeJn0IloJr&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000013s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000266s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000287s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: YuNvn123OpdL48t4kFTsbRaJx3LK63Ove4-Bft1LSSCYBmHKvdT501nH51b-AWDlSl9Gu1zrO6vUpKLAuwIBvKLzhvYVogj-xe6HIOCru5qfTUeeziY1j1IEq4lp8oEqHMFcAEAXCV
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081151177704d3a7570737239027',`openid`='oLiX9wGeBBZ6MCt3Y79RFlGQy0zU' WHERE ( orderid='ln1491623475818543' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000038s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000061s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003004s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003018s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000099s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000113s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000275s ]
INFO: [ app_end ] --END-- [ RunTime:0.000291s ]

[ 2017-04-08T11:51:26+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491623475818543' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491623485',`transaction_id`='4005682001201704086270092752',`status`='1' WHERE `orderid` = 'ln1491623475818543' [ RunTime:0.0007s ]
DEBUG: order: {"id":"5492","refid":"8478","prepayid":"wx201704081151177704d3a7570737239027","orderid":"ln1491623475818543","pay_orderid":"ln1491623475818543","openid":"oLiX9wGeBBZ6MCt3Y79RFlGQy0zU","uid":"1491623476","gid":"1","time":"1491623476","status":"0","money":"29","ip":"175.162.193.112","call_url":"http:\/\/www.wxaso.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 5492 LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491623475818543' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: bili:1--22222 -- 2017-04-06 22:14:26
DEBUG: {"account":1,"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","uid":"ln1491623475818543","username":"","cps_app_id":"1000000001","pay_serial":"ln1491623475818543","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4005682001201704086270092752","pay_channel":"1","pay_amount":"29","pay_type":1,"pay_time":"1491623485","pay_time_ymd":"2017-04-08","pay_time_h":"11","pay_time_ymdh":"2017040811","pay_ip":"175.162.193.112"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8389','mrpei','8478','1031','ln1491623475818543','','1000000001','ln1491623475818543','22222','22222','4005682001201704086270092752','1','29','1','1491623485','2017-04-08','11','2017040811','175.162.193.112') [ RunTime:0.0005s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-08T11:51:30+08:00 ] 117.34.13.96 /Pay/link?type=jscall&orderid=ln1491623475818543&isvip=ln1491623475818543&uiver=&money=29&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000232s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000225s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000245s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: YuNvn123OpdL48t4kFTsbRaJx3LK63Ove4-Bft1LSSCYBmHKvdT501nH51b-AWDlSl9Gu1zrO6vUpKLAuwIBvKLzhvYVogj-xe6HIOCru5qfTUeeziY1j1IEq4lp8oEqHMFcAEAXCV
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491623475818543' LIMIT 1   [ RunTime:0.0005s ]

[ 2017-04-08T11:51:36+08:00 ] 122.190.2.72 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000249s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000268s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491623475818543' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491623485',`transaction_id`='4005682001201704086270092752',`status`='1' WHERE `orderid` = 'ln1491623475818543' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000367s ]
INFO: [ app_end ] --END-- [ RunTime:0.000394s ]

[ 2017-04-08T11:51:54+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491623475818543' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491623485',`transaction_id`='4005682001201704086270092752',`status`='1' WHERE `orderid` = 'ln1491623475818543' [ RunTime:0.0007s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000246s ]
INFO: [ app_end ] --END-- [ RunTime:0.000269s ]

[ 2017-04-08T11:51:56+08:00 ] 122.190.2.42 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491623516_8478351449
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000218s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000222s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000244s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: YuNvn123OpdL48t4kFTsbRaJx3LK63Ove4-Bft1LSSCYBmHKvdT501nH51b-AWDlSl9Gu1zrO6vUpKLAuwIBvKLzhvYVogj-xe6HIOCru5qfTUeeziY1j1IEq4lp8oEqHMFcAEAXCV
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491623475818543' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491623516_8478351449' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491623516_8478351449','ln1491623516_8478351449','ln1491623516_8478351449','1491623516','1491623516','8478','22222','22222','1','1491623516','0','29','175.162.193.112','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491623516_8478351449' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":0,"username":"","uid":19623516,"sex":1,"openid":"ln1491623516_8478351449","cps_app_id":"1000000001","reg_type":1,"reg_time":1491623516,"reg_ip":2946679152}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8478: reg:32 pay:21
DEBUG: reg--pay2-8478 randrate: 2.303
DEBUG: reg--pay2-8478 nowrate: 1.5238095238095
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','0','','19623516','1','ln1491623516_8478351449','1000000001','1','1491623516','2946679152') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln149162351563580

[ 2017-04-08T11:51:56+08:00 ] 117.34.13.96 /Pay/link?uid=8478&code=001NetLn0LbLjo10fcLn013SLn0NetL5&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000209s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000225s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: YuNvn123OpdL48t4kFTsbRaJx3LK63Ove4-Bft1LSSCYBmHKvdT501nH51b-AWDlSl9Gu1zrO6vUpKLAuwIBvKLzhvYVogj-xe6HIOCru5qfTUeeziY1j1IEq4lp8oEqHMFcAEAXCV
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408115156a80d4ff7060832105645',`openid`='oLiX9wGeBBZ6MCt3Y79RFlGQy0zU' WHERE ( orderid='ln1491623516_8478351449' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002876s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002890s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000100s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000112s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000263s ]
INFO: [ app_end ] --END-- [ RunTime:0.000277s ]

[ 2017-04-08T11:51:57+08:00 ] 117.34.13.96 /Pay/link?uid=8478&code=021BomV809gS5K1c6VU803FEV80BomV6&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000200s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: YuNvn123OpdL48t4kFTsbRaJx3LK63Ove4-Bft1LSSCYBmHKvdT501nH51b-AWDlSl9Gu1zrO6vUpKLAuwIBvKLzhvYVogj-xe6HIOCru5qfTUeeziY1j1IEq4lp8oEqHMFcAEAXCV
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408115157361f16233b0467472541',`openid`='oLiX9wGeBBZ6MCt3Y79RFlGQy0zU' WHERE ( orderid='ln1491623516_8478351449' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002750s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002763s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000094s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000118s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000283s ]
INFO: [ app_end ] --END-- [ RunTime:0.000298s ]

[ 2017-04-08T11:52:25+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000257s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491623475818543' AND `status` = 0 LIMIT 1   [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491623485',`transaction_id`='4005682001201704086270092752',`status`='1' WHERE `orderid` = 'ln1491623475818543' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000267s ]
INFO: [ app_end ] --END-- [ RunTime:0.000294s ]

[ 2017-04-08T11:53:39+08:00 ] 58.211.2.6 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491623618319950
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: YuNvn123OpdL48t4kFTsbRaJx3LK63Ove4-Bft1LSSCYBmHKvdT501nH51b-AWDlSl9Gu1zrO6vUpKLAuwIBvKLzhvYVogj-xe6HIOCru5qfTUeeziY1j1IEq4lp8oEqHMFcAEAXCV
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491623618319950' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491623618319950','ln1491623618319950','ln1491623618319950','1491623619','1491623619','8478','22222','22222','1','1491623619','0','21','117.44.35.148','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491623618319950' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0009s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":0,"username":"","uid":19623619,"sex":1,"openid":"ln1491623618319950","cps_app_id":"1000000001","reg_type":1,"reg_time":1491623619,"reg_ip":1965826964}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8478: reg:32 pay:21
DEBUG: reg--pay2-8478 randrate: 1.966
DEBUG: reg--pay2-8478 nowrate: 1.5238095238095
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','0','','19623619','1','ln1491623618319950','1000000001','1','1491623619','1965826964') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491623618319950

[ 2017-04-08T11:53:39+08:00 ] 58.211.2.6 /Pay/link?uid=8478&code=0319wN2D1qgh600Kzv2D1R3U2D19wN2I&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000198s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000253s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000285s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: YuNvn123OpdL48t4kFTsbRaJx3LK63Ove4-Bft1LSSCYBmHKvdT501nH51b-AWDlSl9Gu1zrO6vUpKLAuwIBvKLzhvYVogj-xe6HIOCru5qfTUeeziY1j1IEq4lp8oEqHMFcAEAXCV
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040811533999130a6b310271235620',`openid`='oLiX9wPwK89ELI-SpYlx8L2JNy_A' WHERE ( orderid='ln1491623618319950' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000028s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000052s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.004160s ]
INFO: [ view_parse ] --END-- [ RunTime:0.004182s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000125s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000139s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000334s ]
INFO: [ app_end ] --END-- [ RunTime:0.000354s ]

[ 2017-04-08T11:54:09+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000178s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000341s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000363s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491619787351816' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491619802',`transaction_id`='4002232001201704086265294004',`status`='1' WHERE `orderid` = 'ln1491619787351816' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000309s ]
INFO: [ app_end ] --END-- [ RunTime:0.000333s ]

[ 2017-04-08T11:54:57+08:00 ] 58.211.2.138 /Pay/link?uid=8461&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491623697402309
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000268s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000286s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: YuNvn123OpdL48t4kFTsbRaJx3LK63Ove4-Bft1LSSCYBmHKvdT501nH51b-AWDlSl9Gu1zrO6vUpKLAuwIBvKLzhvYVogj-xe6HIOCru5qfTUeeziY1j1IEq4lp8oEqHMFcAEAXCV
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491623697402309' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491623697402309','ln1491623697402309','ln1491623697402309','1491623697','1491623697','8461','22222','22222','1','1491623697','0','21','112.123.63.210','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491623697402309' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8461 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8461","ref2_name":"1014","account":1,"username":"","uid":19623697,"sex":1,"openid":"ln1491623697402309","cps_app_id":"1000000001","reg_type":1,"reg_time":1491623697,"reg_ip":1887125458}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8461' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8461' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8461: reg:6 pay:4
DEBUG: reg--pay2-8461 randrate: 1.999
DEBUG: reg--pay2-8461 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8461','1014','1','','19623697','1','ln1491623697402309','1000000001','1','1491623697','1887125458') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8461&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491623697402309

[ 2017-04-08T11:54:58+08:00 ] 58.211.2.138 /Pay/link?uid=8461&code=021Sg82M1DAqA11bk11M19Zd2M1Sg82H&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000183s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000209s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000226s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: YuNvn123OpdL48t4kFTsbRaJx3LK63Ove4-Bft1LSSCYBmHKvdT501nH51b-AWDlSl9Gu1zrO6vUpKLAuwIBvKLzhvYVogj-xe6HIOCru5qfTUeeziY1j1IEq4lp8oEqHMFcAEAXCV
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040811545844b706b8f50291654729',`openid`='oLiX9wHE_tdD7tGRn4CKug8KQZEk' WHERE ( orderid='ln1491623697402309' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003147s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003163s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000098s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000111s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000276s ]
INFO: [ app_end ] --END-- [ RunTime:0.000291s ]

[ 2017-04-08T11:54:58+08:00 ] 58.211.2.138 /Pay/link?uid=8461&code=031zQTQE00d0Kf2wARPE0iOFQE0zQTQu&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: YuNvn123OpdL48t4kFTsbRaJx3LK63Ove4-Bft1LSSCYBmHKvdT501nH51b-AWDlSl9Gu1zrO6vUpKLAuwIBvKLzhvYVogj-xe6HIOCru5qfTUeeziY1j1IEq4lp8oEqHMFcAEAXCV
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040811545844b706b8f50914585619',`openid`='oLiX9wHE_tdD7tGRn4CKug8KQZEk' WHERE ( orderid='ln1491623697402309' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003142s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003156s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000110s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000123s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000297s ]
INFO: [ app_end ] --END-- [ RunTime:0.000318s ]

[ 2017-04-08T11:55:27+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000201s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000238s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000259s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491623475818543' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491623485',`transaction_id`='4005682001201704086270092752',`status`='1' WHERE `orderid` = 'ln1491623475818543' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000244s ]
INFO: [ app_end ] --END-- [ RunTime:0.000265s ]

[ 2017-04-08T11:56:14+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000278s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000319s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000345s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491619922_8449163966' AND `status` = 0 LIMIT 1   [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491619928',`transaction_id`='4007262001201704086266587345',`status`='1' WHERE `orderid` = 'ln1491619922_8449163966' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000249s ]
INFO: [ app_end ] --END-- [ RunTime:0.000269s ]

[ 2017-04-08T11:56:29+08:00 ] 58.211.2.114 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491623788973788
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000218s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491623788973788' LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491623788973788','ln1491623788973788','ln1491623788973788','1491623789','1491623789','8478','22222','22222','1','1491623789','0','39','42.102.233.56','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491623788973788' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":0,"username":"","uid":19623789,"sex":1,"openid":"ln1491623788973788","cps_app_id":"1000000001","reg_type":1,"reg_time":1491623789,"reg_ip":711387448}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8478: reg:32 pay:21
DEBUG: reg--pay2-8478 randrate: 2.421
DEBUG: reg--pay2-8478 nowrate: 1.5238095238095
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','0','','19623789','1','ln1491623788973788','1000000001','1','1491623789','711387448') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491623788973788

[ 2017-04-08T11:56:30+08:00 ] 58.211.2.114 /Pay/link?uid=8478&code=051z4LAL0hkuj4223ZAL0tj4BL0z4LAb&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0011s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408115630d058665b040753536826',`openid`='oLiX9wEaFF_mTrCImD6jp6Bss8WE' WHERE ( orderid='ln1491623788973788' ) [ RunTime:0.0009s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000029s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000049s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003054s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003070s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000104s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000116s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000339s ]
INFO: [ app_end ] --END-- [ RunTime:0.000359s ]

[ 2017-04-08T11:56:40+08:00 ] 101.71.55.100 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000246s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000064s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000080s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000073s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000084s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000305s ]
INFO: [ app_end ] --END-- [ RunTime:0.000321s ]

[ 2017-04-08T11:56:40+08:00 ] 58.211.2.36 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000158s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000232s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000074s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000092s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000075s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000085s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000260s ]
INFO: [ app_end ] --END-- [ RunTime:0.000273s ]

[ 2017-04-08T11:56:40+08:00 ] 58.211.2.18 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln149162379990877
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149162379990877' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149162379990877','ln149162379990877','ln149162379990877','1491623800','1491623800','8493','22222','22222','1','1491623800','0','21','222.190.156.154','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149162379990877' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19623800,"sex":1,"openid":"ln149162379990877","cps_app_id":"1000000001","reg_type":1,"reg_time":1491623800,"reg_ip":3737033882,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay1-8493: reg:42 pay:30
DEBUG: reg--pay1-8493 randrate: 1.891
DEBUG: reg--pay1-8493 nowrate: 1.4
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19623800','1','ln149162379990877','1000000001','1','1491623800','3737033882','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln149162379990877

[ 2017-04-08T11:56:41+08:00 ] 58.211.2.18 /Pay/link?uid=8493&code=041TnJik1Z6fPi0AKhhk1B64jk1TnJip&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000200s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040811564181128d61a70745328279',`openid`='oLiX9wJ_TUaQhfQkqVM72VQQ8cpw' WHERE ( orderid='ln149162379990877' ) [ RunTime:0.0008s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000040s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002823s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002837s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000099s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000111s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000329s ]
INFO: [ app_end ] --END-- [ RunTime:0.000345s ]

[ 2017-04-08T11:56:43+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491623788973788' AND `status` = 0 LIMIT 1   [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491623803',`transaction_id`='4007362001201704086273353074',`status`='1' WHERE `orderid` = 'ln1491623788973788' [ RunTime:0.0006s ]
DEBUG: order: {"id":"5496","refid":"8478","prepayid":"wx20170408115630d058665b040753536826","orderid":"ln1491623788973788","pay_orderid":"ln1491623788973788","openid":"oLiX9wEaFF_mTrCImD6jp6Bss8WE","uid":"1491623789","gid":"1","time":"1491623789","status":"0","money":"39","ip":"42.102.233.56","call_url":"http:\/\/www.wxasj.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 5496 LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491623788973788' ) LIMIT 1   [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: bili:1--22222 -- 2017-04-06 22:14:26
DEBUG: {"account":1,"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","uid":"ln1491623788973788","username":"","cps_app_id":"1000000001","pay_serial":"ln1491623788973788","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4007362001201704086273353074","pay_channel":"1","pay_amount":"39","pay_type":1,"pay_time":"1491623803","pay_time_ymd":"2017-04-08","pay_time_h":"11","pay_time_ymdh":"2017040811","pay_ip":"42.102.233.56"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8389','mrpei','8478','1031','ln1491623788973788','','1000000001','ln1491623788973788','22222','22222','4007362001201704086273353074','1','39','1','1491623803','2017-04-08','11','2017040811','42.102.233.56') [ RunTime:0.0006s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-08T11:56:48+08:00 ] 58.211.2.114 /Pay/link?type=jscall&orderid=ln1491623788973788&isvip=ln1491623788973788&uiver=&money=39&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000229s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491623788973788' LIMIT 1   [ RunTime:0.0005s ]

[ 2017-04-08T11:56:56+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000212s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000227s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000251s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491623788973788' AND `status` = 0 LIMIT 1   [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491623803',`transaction_id`='4007362001201704086273353074',`status`='1' WHERE `orderid` = 'ln1491623788973788' [ RunTime:0.0007s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000327s ]
INFO: [ app_end ] --END-- [ RunTime:0.000352s ]

[ 2017-04-08T11:57:11+08:00 ] 122.190.2.48 /Pay/link?uid=8501&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491623831702404
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000195s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000246s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000264s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491623831702404' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491623831702404','ln1491623831702404','ln1491623831702404','1491623831','1491623831','8501','22222','22222','1','1491623831','0','25','123.122.27.77','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491623831702404' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8501 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8398 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8398","ref1_name":"\u4fca","ref2_id":"8501","ref2_name":"\u9896\u5b50","account":0,"username":"","uid":19623831,"sex":1,"openid":"ln1491623831702404","cps_app_id":"1000000001","reg_type":1,"reg_time":1491623831,"reg_ip":2071599949}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8501' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8501' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8501: reg:0 pay:0
DEBUG: reg--pay2-8501 randrate: 1.602
DEBUG: reg--pay2-8501 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8398','俊','8501','颖子','1','','19623831','1','ln1491623831702404','1000000001','1','1491623831','2071599949') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8501&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491623831702404

[ 2017-04-08T11:57:12+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491623788973788' AND `status` = 0 LIMIT 1   [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491623803',`transaction_id`='4007362001201704086273353074',`status`='1' WHERE `orderid` = 'ln1491623788973788' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000274s ]
INFO: [ app_end ] --END-- [ RunTime:0.000299s ]

[ 2017-04-08T11:57:12+08:00 ] 122.190.2.48 /Pay/link?uid=8501&code=0219jWBE1tBg530vpPBE1rkSBE19jWBx&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000204s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000226s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000243s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0011s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040811571255ba5f31760641762629',`openid`='oLiX9wF4QS0_kDY8s2-ueYnXsXrI' WHERE ( orderid='ln1491623831702404' ) [ RunTime:0.0008s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000044s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003005s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003028s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000101s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000113s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000309s ]
INFO: [ app_end ] --END-- [ RunTime:0.000325s ]

[ 2017-04-08T11:57:21+08:00 ] 117.34.13.66 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491623840595512
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000218s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000235s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491623840595512' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491623840595512','ln1491623840595512','ln1491623840595512','1491623841','1491623841','8478','22222','22222','1','1491623841','0','21','111.26.33.239','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491623840595512' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":0,"username":"","uid":19623841,"sex":1,"openid":"ln1491623840595512","cps_app_id":"1000000001","reg_type":1,"reg_time":1491623841,"reg_ip":1863983599}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0011s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay2-8478: reg:32 pay:22
DEBUG: reg--pay2-8478 randrate: 2.12
DEBUG: reg--pay2-8478 nowrate: 1.4545454545455
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','0','','19623841','1','ln1491623840595512','1000000001','1','1491623841','1863983599') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491623840595512

[ 2017-04-08T11:57:22+08:00 ] 117.34.13.66 /Pay/link?uid=8478&code=031PWY4P1iycu51bWN6P1Cfh5P1PWY4r&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040811572234a3ccc1490301863554',`openid`='oLiX9wDIv7WEgCHi2eu-unpYoYCM' WHERE ( orderid='ln1491623840595512' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002871s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002891s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000098s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000111s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000292s ]
INFO: [ app_end ] --END-- [ RunTime:0.000307s ]

[ 2017-04-08T11:57:44+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000019s ]
INFO: [ app_init ] --END-- [ RunTime:0.000205s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491623788973788' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491623803',`transaction_id`='4007362001201704086273353074',`status`='1' WHERE `orderid` = 'ln1491623788973788' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000247s ]
INFO: [ app_end ] --END-- [ RunTime:0.000267s ]

[ 2017-04-08T11:57:54+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000211s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000250s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000269s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491616410633533' AND `status` = 0 LIMIT 1   [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491616419',`transaction_id`='4009862001201704086258934728',`status`='1' WHERE `orderid` = 'ln1491616410633533' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000262s ]
INFO: [ app_end ] --END-- [ RunTime:0.000286s ]

[ 2017-04-08T11:57:59+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000195s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000240s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000265s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491616415561783' AND `status` = 0 LIMIT 1   [ RunTime:0.0004s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491616432',`transaction_id`='4005592001201704086255939262',`status`='1' WHERE `orderid` = 'ln1491616415561783' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000257s ]
INFO: [ app_end ] --END-- [ RunTime:0.000276s ]

[ 2017-04-08T11:58:31+08:00 ] 58.211.2.42 /Pay/link?uid=8451&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491623911511569
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000193s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000223s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000241s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491623911511569' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491623911511569','ln1491623911511569','ln1491623911511569','1491623911','1491623911','8451','22222','22222','1','1491623911','0','29','101.226.66.172','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491623911511569' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8451 ) LIMIT 1   [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8451","ref2_name":"1004","account":0,"username":"","uid":19623911,"sex":1,"openid":"ln1491623911511569","cps_app_id":"1000000001","reg_type":1,"reg_time":1491623911,"reg_ip":1709327020}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8451' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8451' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8451: reg:6 pay:5
DEBUG: reg--pay2-8451 randrate: 1.651
DEBUG: reg--pay2-8451 nowrate: 1.2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8451','1004','0','','19623911','1','ln1491623911511569','1000000001','1','1491623911','1709327020') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8451&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491623911511569

[ 2017-04-08T11:58:42+08:00 ] 58.211.2.42 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln149162392135054
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000242s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000263s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149162392135054' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149162392135054','ln149162392135054','ln149162392135054','1491623922','1491623922','8493','22222','22222','1','1491623922','0','29','182.109.254.57','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149162392135054' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0009s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19623922,"sex":1,"openid":"ln149162392135054","cps_app_id":"1000000001","reg_type":1,"reg_time":1491623922,"reg_ip":3060661817,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0007s ]
DEBUG: reg--pay1-8493: reg:42 pay:30
DEBUG: reg--pay1-8493 randrate: 2.483
DEBUG: reg--pay1-8493 nowrate: 1.4
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19623922','1','ln149162392135054','1000000001','1','1491623922','3060661817','0') [ RunTime:0.0006s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln149162392135054

[ 2017-04-08T11:58:42+08:00 ] 58.211.2.42 /Pay/link?uid=8493&code=041kB5RY0Clig02zMMRY0bzLQY0kB5R4&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000219s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000246s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000266s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040811584288271a86f40884371146',`openid`='oLiX9wBtZadS4lbjlhLD7B_TmDkM' WHERE ( orderid='ln149162392135054' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002975s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002993s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000108s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000122s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000322s ]
INFO: [ app_end ] --END-- [ RunTime:0.000339s ]

[ 2017-04-08T11:59:13+08:00 ] 122.190.2.72 /Pay/link?uid=8490&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln149162395261922
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000268s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000292s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0014s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149162395261922' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149162395261922','ln149162395261922','ln149162395261922','1491623953','1491623953','8490','22222','22222','1','1491623953','0','25','223.104.91.147','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149162395261922' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0010s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8490 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8490","ref1_name":"\u6606","account":1,"username":"","uid":19623953,"sex":1,"openid":"ln149162395261922","cps_app_id":"1000000001","reg_type":1,"reg_time":1491623953,"reg_ip":3748158355,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8490' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0012s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0009s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8490' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8490: reg:7 pay:4
DEBUG: reg--pay1-8490 randrate: 2.509
DEBUG: reg--pay1-8490 nowrate: 1.75
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8490','昆','1','','19623953','1','ln149162395261922','1000000001','1','1491623953','3748158355','0') [ RunTime:0.0006s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8490&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln149162395261922

[ 2017-04-08T11:59:13+08:00 ] 122.190.2.72 /Pay/link?uid=8490&code=051jRW5b2AEzjQ0FhO6b2wTG5b2jRW5U&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000317s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000362s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000386s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408115913d425182c350144696772',`openid`='oLiX9wBCkrWT9Q8KG9vSrXIaowVI' WHERE ( orderid='ln149162395261922' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002902s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002917s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000089s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000103s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000277s ]
INFO: [ app_end ] --END-- [ RunTime:0.000293s ]

[ 2017-04-08T11:59:26+08:00 ] 117.34.13.60 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491623966853937
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000245s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491623966853937' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491623966853937','ln1491623966853937','ln1491623966853937','1491623966','1491623966','8478','22222','22222','1','1491623966','0','21','183.186.20.200','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491623966853937' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":0,"username":"","uid":19623966,"sex":1,"openid":"ln1491623966853937","cps_app_id":"1000000001","reg_type":1,"reg_time":1491623966,"reg_ip":3082425544}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8478: reg:32 pay:22
DEBUG: reg--pay2-8478 randrate: 2.019
DEBUG: reg--pay2-8478 nowrate: 1.4545454545455
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','0','','19623966','1','ln1491623966853937','1000000001','1','1491623966','3082425544') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491623966853937

[ 2017-04-08T11:59:27+08:00 ] 117.34.13.60 /Pay/link?uid=8478&code=011eeGnQ1mJmv617ElkQ1cTynQ1eeGnG&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000195s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000209s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000226s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040811592765f718db9c0973004151',`openid`='oLiX9wD61UvIyvO2r2VTC6VuiRTE' WHERE ( orderid='ln1491623966853937' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000040s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002821s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002860s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000151s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000175s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000272s ]
INFO: [ app_end ] --END-- [ RunTime:0.000288s ]

[ 2017-04-08T11:59:27+08:00 ] 117.34.13.60 /Pay/link?uid=8478&code=031F2tTD09rzyg2lWYVD0mXyTD0F2tTE&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040811592765f718db9c0134850797',`openid`='oLiX9wD61UvIyvO2r2VTC6VuiRTE' WHERE ( orderid='ln1491623966853937' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003073s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003088s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000129s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000143s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000278s ]
INFO: [ app_end ] --END-- [ RunTime:0.000293s ]

[ 2017-04-08T12:00:13+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000246s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000264s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491621959790567' AND `status` = 0 LIMIT 1   [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491621970',`transaction_id`='4001982001201704086269290484',`status`='1' WHERE `orderid` = 'ln1491621959790567' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000343s ]
INFO: [ app_end ] --END-- [ RunTime:0.000368s ]

[ 2017-04-08T12:00:45+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000251s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0010s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491623788973788' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491623803',`transaction_id`='4007362001201704086273353074',`status`='1' WHERE `orderid` = 'ln1491623788973788' [ RunTime:0.0007s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000242s ]
INFO: [ app_end ] --END-- [ RunTime:0.000263s ]

[ 2017-04-08T12:00:54+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491612982443981' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491612998',`transaction_id`='4001472001201704086251606971',`status`='1' WHERE `orderid` = 'ln1491612982443981' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000302s ]
INFO: [ app_end ] --END-- [ RunTime:0.000344s ]

[ 2017-04-08T12:01:04+08:00 ] 58.211.2.24 /Pay/link?uid=8405&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491624063339797
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000174s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000218s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000235s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491624063339797' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491624063339797','ln1491624063339797','ln1491624063339797','1491624064','1491624064','8405','22222','22222','1','1491624064','0','21','183.204.38.70','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491624063339797' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8405 ) LIMIT 1   [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8405","ref2_name":"\u5c0f\u82b1","account":0,"username":"","uid":19624064,"sex":1,"openid":"ln1491624063339797","cps_app_id":"1000000001","reg_type":1,"reg_time":1491624064,"reg_ip":3083609670}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8405' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8405' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8405: reg:4 pay:1
DEBUG: reg--pay2-8405 randrate: 1.756
DEBUG: reg--pay2-8405 nowrate: 4
DEBUG: reg--pay2-8405 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8405','小花','0','','19624064','1','ln1491624063339797','1000000001','1','1491624064','3083609670') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8405&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491624063339797

[ 2017-04-08T12:01:05+08:00 ] 58.211.2.24 /Pay/link?uid=8405&code=011QqZlU1eDBrT0vrxiU1Wf8mU1QqZl2&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408120105df4d1922b80309819917',`openid`='oLiX9wOHKK7u_su7pC72h_sV2-qs' WHERE ( orderid='ln1491624063339797' ) [ RunTime:0.0008s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000026s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000046s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002985s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003000s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000109s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000122s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000299s ]
INFO: [ app_end ] --END-- [ RunTime:0.000316s ]

[ 2017-04-08T12:01:05+08:00 ] 58.211.2.24 /Pay/link?uid=8405&code=021St19p1ZkbTm05fl9p1Bal9p1St19f&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408120105df4d1922b80237125756',`openid`='oLiX9wOHKK7u_su7pC72h_sV2-qs' WHERE ( orderid='ln1491624063339797' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002916s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002935s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000102s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000115s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000301s ]
INFO: [ app_end ] --END-- [ RunTime:0.000319s ]

[ 2017-04-08T12:01:06+08:00 ] 58.211.2.24 /Pay/link?uid=8405&code=001FqddU0beJGV1wBCcU00ZedU0Fqddt&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000274s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000292s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408120106f4d5b43d090799020309',`openid`='oLiX9wOHKK7u_su7pC72h_sV2-qs' WHERE ( orderid='ln1491624063339797' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000031s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000049s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002972s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002999s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000102s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000117s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000365s ]
INFO: [ app_end ] --END-- [ RunTime:0.000386s ]

[ 2017-04-08T12:01:18+08:00 ] 122.190.2.72 /Pay/link?uid=8490&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491624078_8490561947
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000250s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149162395261922' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491624078_8490561947' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491624078_8490561947','ln1491624078_8490561947','ln1491624078_8490561947','1491624078','1491624078','8490','22222','22222','1','1491624078','0','25','223.104.91.147','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491624078_8490561947' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8490 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay-data: {"ref1_id":"8490","ref1_name":"\u6606","account":0,"username":"","uid":19624078,"sex":1,"openid":"ln1491624078_8490561947","cps_app_id":"1000000001","reg_type":1,"reg_time":1491624078,"reg_ip":3748158355,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8490' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8490' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8490: reg:8 pay:4
DEBUG: reg--pay1-8490 randrate: 2.956
DEBUG: reg--pay1-8490 nowrate: 2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8490','昆','0','','19624078','1','ln1491624078_8490561947','1000000001','1','1491624078','3748158355','0') [ RunTime:0.0006s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8490&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491624077267187

[ 2017-04-08T12:01:19+08:00 ] 122.190.2.72 /Pay/link?uid=8490&code=001ZTeic1NC7Zs0Zikfc1T12ic1ZTeiX&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408120119ede6be8e600928590710',`openid`='oLiX9wBCkrWT9Q8KG9vSrXIaowVI' WHERE ( orderid='ln1491624078_8490561947' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000026s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002815s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002830s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000131s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000143s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000278s ]
INFO: [ app_end ] --END-- [ RunTime:0.000294s ]

[ 2017-04-08T12:01:26+08:00 ] 117.34.13.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491624078_8490561947' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491624085',`transaction_id`='4007612001201704086276439425',`status`='1' WHERE `orderid` = 'ln1491624078_8490561947' [ RunTime:0.0006s ]
DEBUG: order: {"id":"5505","refid":"8490","prepayid":"wx20170408120119ede6be8e600928590710","orderid":"ln1491624078_8490561947","pay_orderid":"ln1491624078_8490561947","openid":"oLiX9wBCkrWT9Q8KG9vSrXIaowVI","uid":"1491624078","gid":"1","time":"1491624078","status":"0","money":"25","ip":"223.104.91.147","call_url":"http:\/\/www.wxasj.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 5505 LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491624078_8490561947' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8490 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8395 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: bili:1--22222 -- 2017-04-07 15:33:52
DEBUG: {"account":1,"ref1_id":"8490","ref1_name":"\u6606","ref0_id":"8395","ref0_name":"sam","uid":"ln1491624078_8490561947","username":"","cps_app_id":"1000000001","pay_serial":"ln1491624078_8490561947","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4007612001201704086276439425","pay_channel":"1","pay_amount":"25","pay_type":1,"pay_time":"1491624085","pay_time_ymd":"2017-04-08","pay_time_h":"12","pay_time_ymdh":"2017040812","pay_ip":"223.104.91.147","ref2_id":0}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref0_id`,`ref0_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`,`ref2_id`) VALUES ('1','8490','昆','8395','sam','ln1491624078_8490561947','','1000000001','ln1491624078_8490561947','22222','22222','4007612001201704086276439425','1','25','1','1491624085','2017-04-08','12','2017040812','223.104.91.147','0') [ RunTime:0.0005s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-08T12:01:37+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000071s ]
INFO: [ app_init ] --END-- [ RunTime:0.000317s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000291s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491624078_8490561947' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491624085',`transaction_id`='4007612001201704086276439425',`status`='1' WHERE `orderid` = 'ln1491624078_8490561947' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000262s ]
INFO: [ app_end ] --END-- [ RunTime:0.000284s ]

[ 2017-04-08T12:01:54+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491624078_8490561947' AND `status` = 0 LIMIT 1   [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491624085',`transaction_id`='4007612001201704086276439425',`status`='1' WHERE `orderid` = 'ln1491624078_8490561947' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000311s ]
INFO: [ app_end ] --END-- [ RunTime:0.000337s ]

[ 2017-04-08T12:02:25+08:00 ] 58.211.2.96 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491624144852609
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000266s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000285s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491624144852609' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491624144852609','ln1491624144852609','ln1491624144852609','1491624145','1491624145','8478','22222','22222','1','1491624145','0','21','36.4.18.51','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491624144852609' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":0,"username":"","uid":19624145,"sex":1,"openid":"ln1491624144852609","cps_app_id":"1000000001","reg_type":1,"reg_time":1491624145,"reg_ip":604246579}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8478: reg:32 pay:22
DEBUG: reg--pay2-8478 randrate: 1.696
DEBUG: reg--pay2-8478 nowrate: 1.4545454545455
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','0','','19624145','1','ln1491624144852609','1000000001','1','1491624145','604246579') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491624144852609

[ 2017-04-08T12:02:26+08:00 ] 58.211.2.96 /Pay/link?uid=8478&code=011tsw7A1O3Ctg0RPt8A1heE7A1tsw7f&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000226s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000244s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408120225e418c3ffb80237721861',`openid`='oLiX9wAi1gFZ2bkOElclvMP0205s' WHERE ( orderid='ln1491624144852609' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000044s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003068s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003082s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000103s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000116s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000281s ]
INFO: [ app_end ] --END-- [ RunTime:0.000296s ]

[ 2017-04-08T12:02:26+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000242s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000312s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000337s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491624078_8490561947' AND `status` = 0 LIMIT 1   [ RunTime:0.0004s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491624085',`transaction_id`='4007612001201704086276439425',`status`='1' WHERE `orderid` = 'ln1491624078_8490561947' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000268s ]
INFO: [ app_end ] --END-- [ RunTime:0.000289s ]

[ 2017-04-08T12:02:26+08:00 ] 58.211.2.96 /Pay/link?uid=8478&code=031pJ9g012ita12xtof01Z89g01pJ9g1&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000194s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000245s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000266s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408120226ae210a72530668311217',`openid`='oLiX9wAi1gFZ2bkOElclvMP0205s' WHERE ( orderid='ln1491624144852609' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003176s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003192s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000132s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000145s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000343s ]
INFO: [ app_end ] --END-- [ RunTime:0.000361s ]

[ 2017-04-08T12:03:15+08:00 ] 117.34.13.66 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491624195482403
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000246s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491624195482403' LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491624195482403','ln1491624195482403','ln1491624195482403','1491624195','1491624195','8493','22222','22222','1','1491624195','0','25','27.189.42.182','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491624195482403' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19624195,"sex":1,"openid":"ln1491624195482403","cps_app_id":"1000000001","reg_type":1,"reg_time":1491624195,"reg_ip":465382070,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8493: reg:42 pay:30
DEBUG: reg--pay1-8493 randrate: 2.872
DEBUG: reg--pay1-8493 nowrate: 1.4
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19624195','1','ln1491624195482403','1000000001','1','1491624195','465382070','0') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491624195482403

[ 2017-04-08T12:03:16+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000240s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000262s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491613117_847930130' AND `status` = 0 LIMIT 1   [ RunTime:0.0004s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491613142',`transaction_id`='4007802001201704086254703610',`status`='1' WHERE `orderid` = 'ln1491613117_847930130' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000305s ]
INFO: [ app_end ] --END-- [ RunTime:0.000325s ]

[ 2017-04-08T12:03:16+08:00 ] 117.34.13.66 /Pay/link?uid=8493&code=001iayuG0L3Vvi23wlrG0wVxuG0iayuD&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000239s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000256s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408120316c733b64f7e0716682974',`openid`='oLiX9wJTDMIwqPvm7xiFJCBKrDqs' WHERE ( orderid='ln1491624195482403' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000030s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000052s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002873s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002889s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000108s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000122s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000263s ]
INFO: [ app_end ] --END-- [ RunTime:0.000278s ]

[ 2017-04-08T12:03:23+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000232s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491616740159725' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491616754',`transaction_id`='4005452001201704086261017020',`status`='1' WHERE `orderid` = 'ln1491616740159725' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000287s ]
INFO: [ app_end ] --END-- [ RunTime:0.000307s ]

[ 2017-04-08T12:04:08+08:00 ] 117.34.13.102 /Pay/link?uid=8452&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491624247387427
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491624247387427' LIMIT 1   [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491624247387427','ln1491624247387427','ln1491624247387427','1491624248','1491624248','8452','22222','22222','1','1491624248','0','29','112.98.196.216','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491624247387427' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8452 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8452","ref2_name":"1005","account":0,"username":"","uid":19624248,"sex":1,"openid":"ln1491624247387427","cps_app_id":"1000000001","reg_type":1,"reg_time":1491624248,"reg_ip":1885521112}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8452' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8452' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8452: reg:2 pay:2
DEBUG: reg--pay2-8452 randrate: 2.252
DEBUG: reg--pay2-8452 nowrate: 1
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8452','1005','0','','19624248','1','ln1491624247387427','1000000001','1','1491624248','1885521112') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8452&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491624247387427

[ 2017-04-08T12:04:09+08:00 ] 117.34.13.102 /Pay/link?uid=8452&code=051jdYZ52DJ3mM0EJYX52GQLZ52jdYZK&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000289s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000310s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408120409822dc996410534474159',`openid`='oLiX9wIMfwwpFzp2nSYFGCMA5t_k' WHERE ( orderid='ln1491624247387427' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002801s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002845s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000118s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000131s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000262s ]
INFO: [ app_end ] --END-- [ RunTime:0.000278s ]

[ 2017-04-08T12:04:17+08:00 ] 58.211.2.18 /Pay/link?uid=8452&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491624257290460
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000233s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491624257290460' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491624257290460','ln1491624257290460','ln1491624257290460','1491624257','1491624257','8452','22222','22222','1','1491624257','0','29','101.226.125.111','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491624257290460' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8452 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0008s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8452","ref2_name":"1005","account":1,"username":"","uid":19624257,"sex":1,"openid":"ln1491624257290460","cps_app_id":"1000000001","reg_type":1,"reg_time":1491624257,"reg_ip":1709342063}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8452' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8452' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay2-8452: reg:2 pay:2
DEBUG: reg--pay2-8452 randrate: 1.773
DEBUG: reg--pay2-8452 nowrate: 1
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8452','1005','1','','19624257','1','ln1491624257290460','1000000001','1','1491624257','1709342063') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8452&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491624257290460

[ 2017-04-08T12:04:21+08:00 ] 58.211.2.72 /Pay/link?uid=8452&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491624260180050
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000265s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000285s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491624260180050' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491624260180050','ln1491624260180050','ln1491624260180050','1491624261','1491624261','8452','22222','22222','1','1491624261','0','29','61.151.226.199','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491624260180050' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8452 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8452","ref2_name":"1005","account":0,"username":"","uid":19624261,"sex":1,"openid":"ln1491624260180050","cps_app_id":"1000000001","reg_type":1,"reg_time":1491624261,"reg_ip":1033364167}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8452' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8452' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8452: reg:3 pay:2
DEBUG: reg--pay2-8452 randrate: 2.47
DEBUG: reg--pay2-8452 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8452','1005','0','','19624261','1','ln1491624260180050','1000000001','1','1491624261','1033364167') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8452&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491624260180050

[ 2017-04-08T12:04:58+08:00 ] 117.34.13.24 /Pay/link?uid=8466&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491624297795350
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000209s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000226s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491624297795350' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491624297795350','ln1491624297795350','ln1491624297795350','1491624298','1491624298','8466','22222','22222','1','1491624298','0','21','106.119.58.206','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491624297795350' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8466 ) LIMIT 1   [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8466","ref2_name":"1019","account":0,"username":"","uid":19624298,"sex":1,"openid":"ln1491624297795350","cps_app_id":"1000000001","reg_type":1,"reg_time":1491624298,"reg_ip":1786198734}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8466' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8466' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8466: reg:1 pay:1
DEBUG: reg--pay2-8466 randrate: 2.204
DEBUG: reg--pay2-8466 nowrate: 1
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8466','1019','0','','19624298','1','ln1491624297795350','1000000001','1','1491624298','1786198734') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8466&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491624297795350

[ 2017-04-08T12:04:59+08:00 ] 117.34.13.24 /Pay/link?uid=8466&code=021nSdJ00hSIfC1Qy7M00SkbJ00nSdJv&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000194s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000259s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000278s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408120459cf643f5f490999907838',`openid`='oLiX9wB7tAEF2M9rFFQk84d0cvNs' WHERE ( orderid='ln1491624297795350' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003147s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003167s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000111s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000126s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000331s ]
INFO: [ app_end ] --END-- [ RunTime:0.000348s ]

[ 2017-04-08T12:05:00+08:00 ] 122.190.2.54 /Pay/link?uid=8452&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491624299175618
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000227s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000222s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000240s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491624299175618' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491624299175618','ln1491624299175618','ln1491624299175618','1491624300','1491624300','8452','22222','22222','1','1491624300','0','25','221.222.27.90','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491624299175618' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8452 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8452","ref2_name":"1005","account":0,"username":"","uid":19624300,"sex":1,"openid":"ln1491624299175618","cps_app_id":"1000000001","reg_type":1,"reg_time":1491624300,"reg_ip":3722320730}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8452' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8452' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8452: reg:3 pay:2
DEBUG: reg--pay2-8452 randrate: 2.07
DEBUG: reg--pay2-8452 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8452','1005','0','','19624300','1','ln1491624299175618','1000000001','1','1491624300','3722320730') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8452&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491624299175618

[ 2017-04-08T12:05:01+08:00 ] 122.190.2.54 /Pay/link?uid=8452&code=011OHMOg02VuTz108WQg0GR2Pg0OHMO-&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040812050018c393fe090741790719',`openid`='oLiX9wKFnUcbro2x2RaMVoqK18_0' WHERE ( orderid='ln1491624299175618' ) [ RunTime:0.0027s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000026s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000044s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003063s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003093s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000110s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000123s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000283s ]
INFO: [ app_end ] --END-- [ RunTime:0.000297s ]

[ 2017-04-08T12:05:06+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000208s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000226s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491613244333375' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491613252',`transaction_id`='4006822001201704086251749443',`status`='1' WHERE `orderid` = 'ln1491613244333375' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000295s ]
INFO: [ app_end ] --END-- [ RunTime:0.000319s ]

[ 2017-04-08T12:05:06+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000258s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000276s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491616839978960' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491616852',`transaction_id`='4003582001201704086261038283',`status`='1' WHERE `orderid` = 'ln1491616839978960' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000316s ]
INFO: [ app_end ] --END-- [ RunTime:0.000349s ]

[ 2017-04-08T12:05:07+08:00 ] 58.211.2.138 /Pay/link?uid=8466&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491624307471203
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000211s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000272s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000290s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491624307471203' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491624307471203','ln1491624307471203','ln1491624307471203','1491624307','1491624307','8466','22222','22222','1','1491624307','0','21','180.163.2.119','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491624307471203' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8466 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8466","ref2_name":"1019","account":0,"username":"","uid":19624307,"sex":1,"openid":"ln1491624307471203","cps_app_id":"1000000001","reg_type":1,"reg_time":1491624307,"reg_ip":3030581879}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8466' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8466' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8466: reg:1 pay:1
DEBUG: reg--pay2-8466 randrate: 1.643
DEBUG: reg--pay2-8466 nowrate: 1
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8466','1019','0','','19624307','1','ln1491624307471203','1000000001','1','1491624307','3030581879') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8466&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491624307471203

[ 2017-04-08T12:05:09+08:00 ] 58.211.2.36 /Pay/link?uid=8452&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491624309643741
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491624309643741' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491624309643741','ln1491624309643741','ln1491624309643741','1491624309','1491624309','8452','22222','22222','1','1491624309','0','25','117.185.27.115','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491624309643741' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8452 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8452","ref2_name":"1005","account":0,"username":"","uid":19624309,"sex":1,"openid":"ln1491624309643741","cps_app_id":"1000000001","reg_type":1,"reg_time":1491624309,"reg_ip":1975065459}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8452' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8452' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8452: reg:3 pay:2
DEBUG: reg--pay2-8452 randrate: 1.844
DEBUG: reg--pay2-8452 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8452','1005','0','','19624309','1','ln1491624309643741','1000000001','1','1491624309','1975065459') [ RunTime:0.0007s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8452&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491624309643741

[ 2017-04-08T12:05:16+08:00 ] 117.34.13.36 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491624316740803
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491624316740803' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491624316740803','ln1491624316740803','ln1491624316740803','1491624316','1491624316','8478','22222','22222','1','1491624316','0','21','117.14.249.216','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491624316740803' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":0,"username":"","uid":19624316,"sex":1,"openid":"ln1491624316740803","cps_app_id":"1000000001","reg_type":1,"reg_time":1491624316,"reg_ip":1963915736}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8478: reg:32 pay:22
DEBUG: reg--pay2-8478 randrate: 2.375
DEBUG: reg--pay2-8478 nowrate: 1.4545454545455
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','0','','19624316','1','ln1491624316740803','1000000001','1','1491624316','1963915736') [ RunTime:0.0007s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491624316740803

[ 2017-04-08T12:05:17+08:00 ] 122.190.2.42 /Pay/link?uid=8478&code=031oPCgR0pJgZ929O9gR0chEgR0oPCgq&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000238s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040812051744587246ee0652642949',`openid`='oLiX9wFe70UsTzbYwmYFyiUI-DPg' WHERE ( orderid='ln1491624316740803' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000044s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003133s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003148s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000103s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000117s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000298s ]
INFO: [ app_end ] --END-- [ RunTime:0.000314s ]

[ 2017-04-08T12:05:18+08:00 ] 122.190.2.42 /Pay/link?uid=8478&code=051crAHi0rgeok1erTIi0GIJHi0crAHh&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408120518a8a17245840497609708',`openid`='oLiX9wFe70UsTzbYwmYFyiUI-DPg' WHERE ( orderid='ln1491624316740803' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000045s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003210s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003225s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000108s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000312s ]
INFO: [ app_end ] --END-- [ RunTime:0.000332s ]

[ 2017-04-08T12:05:28+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000211s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491624078_8490561947' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491624085',`transaction_id`='4007612001201704086276439425',`status`='1' WHERE `orderid` = 'ln1491624078_8490561947' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000274s ]
INFO: [ app_end ] --END-- [ RunTime:0.000295s ]

[ 2017-04-08T12:05:41+08:00 ] 116.31.126.102 /Pay/link?uid=8448&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491624340259750
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000223s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000243s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491624340259750' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491624340259750','ln1491624340259750','ln1491624340259750','1491624341','1491624341','8448','22222','22222','1','1491624341','0','21','221.4.242.242','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491624340259750' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8448 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8448","ref2_name":"1001","account":0,"username":"","uid":19624341,"sex":1,"openid":"ln1491624340259750","cps_app_id":"1000000001","reg_type":1,"reg_time":1491624341,"reg_ip":3708089074}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8448' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8448' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8448: reg:6 pay:4
DEBUG: reg--pay2-8448 randrate: 1.689
DEBUG: reg--pay2-8448 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8448','1001','0','','19624341','1','ln1491624340259750','1000000001','1','1491624341','3708089074') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8448&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491624340259750

[ 2017-04-08T12:05:41+08:00 ] 122.190.2.24 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000174s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000272s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000290s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000071s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000087s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000085s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000097s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000246s ]
INFO: [ app_end ] --END-- [ RunTime:0.000260s ]

[ 2017-04-08T12:05:41+08:00 ] 58.211.2.30 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000265s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000287s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000062s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000080s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000083s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000097s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000236s ]
INFO: [ app_end ] --END-- [ RunTime:0.000248s ]

[ 2017-04-08T12:05:41+08:00 ] 116.31.126.102 /Pay/link?uid=8448&code=011MKj6O01WSA82uJo7O0evI6O0MKj6-&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000255s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000276s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408120541990d9af82a0598928182',`openid`='oLiX9wK1ARbxEKl7gwnAUyEeTA3A' WHERE ( orderid='ln1491624340259750' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000040s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002943s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002960s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000104s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000118s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000298s ]
INFO: [ app_end ] --END-- [ RunTime:0.000315s ]

[ 2017-04-08T12:05:50+08:00 ] 58.211.2.120 /Pay/link?uid=8448&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491624350483740
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000243s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000260s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491624350483740' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491624350483740','ln1491624350483740','ln1491624350483740','1491624350','1491624350','8448','22222','22222','1','1491624350','0','21','101.226.33.226','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491624350483740' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8448 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8448","ref2_name":"1001","account":1,"username":"","uid":19624350,"sex":1,"openid":"ln1491624350483740","cps_app_id":"1000000001","reg_type":1,"reg_time":1491624350,"reg_ip":1709318626}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8448' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0009s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8448' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8448: reg:6 pay:4
DEBUG: reg--pay2-8448 randrate: 2.269
DEBUG: reg--pay2-8448 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8448','1001','1','','19624350','1','ln1491624350483740','1000000001','1','1491624350','1709318626') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8448&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491624350483740

[ 2017-04-08T12:06:58+08:00 ] 58.211.2.18 /Pay/link?uid=8484&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491624418_8484130160
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491570805_8484321335' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491624418_8484130160' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491624418_8484130160','ln1491624418_8484130160','ln1491624418_8484130160','1491624418','1491624418','8484','22222','22222','1','1491624418','0','21','39.149.251.31','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491624418_8484130160' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8484 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8484","ref2_name":"1037","account":0,"username":"","uid":19624418,"sex":1,"openid":"ln1491624418_8484130160","cps_app_id":"1000000001","reg_type":1,"reg_time":1491624418,"reg_ip":664140575}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8484' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8484' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8484: reg:2 pay:0
DEBUG: reg--pay2-8484 randrate: 1.788
DEBUG: reg--pay2-8484 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8484','1037','0','','19624418','1','ln1491624418_8484130160','1000000001','1','1491624418','664140575') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8484&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491624417376397

[ 2017-04-08T12:06:58+08:00 ] 58.211.2.18 /Pay/link?uid=8484&code=041i4anZ1wqjkX0dW3oZ1Ys8nZ1i4anH&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000209s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000273s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000293s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040812065855789d3ab30585074093',`openid`='oLiX9wATzzQG3FOs5O0pvYkmAGVA' WHERE ( orderid='ln1491624418_8484130160' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002887s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002900s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000096s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000109s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000277s ]
INFO: [ app_end ] --END-- [ RunTime:0.000291s ]

[ 2017-04-08T12:06:59+08:00 ] 58.211.2.18 /Pay/link?uid=8484&code=031yFssh1MXW0x0QxDsh1Teush1yFss1&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000240s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000254s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000271s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408120659cde0afd8230217808262',`openid`='oLiX9wATzzQG3FOs5O0pvYkmAGVA' WHERE ( orderid='ln1491624418_8484130160' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003174s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003194s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000104s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000117s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000309s ]
INFO: [ app_end ] --END-- [ RunTime:0.000325s ]

[ 2017-04-08T12:06:59+08:00 ] 58.211.2.18 /Pay/link?uid=8484&code=041Rfode0PjeRx1c8Jfe0Sw9de0RfodV&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000251s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408120659cde0afd8230021492747',`openid`='oLiX9wATzzQG3FOs5O0pvYkmAGVA' WHERE ( orderid='ln1491624418_8484130160' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000026s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000044s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002920s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002935s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000108s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000120s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000309s ]
INFO: [ app_end ] --END-- [ RunTime:0.000323s ]

[ 2017-04-08T12:06:59+08:00 ] 58.211.2.18 /Pay/link?uid=8484&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491624419_8484987880
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000254s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491624418_8484130160' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491624419_8484987880' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491624419_8484987880','ln1491624419_8484987880','ln1491624419_8484987880','1491624419','1491624419','8484','22222','22222','1','1491624419','0','21','39.149.251.31','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491624419_8484987880' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8484 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8484","ref2_name":"1037","account":1,"username":"","uid":19624419,"sex":1,"openid":"ln1491624419_8484987880","cps_app_id":"1000000001","reg_type":1,"reg_time":1491624419,"reg_ip":664140575}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8484' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8484' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8484: reg:2 pay:0
DEBUG: reg--pay2-8484 randrate: 1.876
DEBUG: reg--pay2-8484 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8484','1037','1','','19624419','1','ln1491624419_8484987880','1000000001','1','1491624419','664140575') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8484&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491624419172452

[ 2017-04-08T12:07:00+08:00 ] 58.211.2.18 /Pay/link?uid=8484&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491624420_8484289746
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000178s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000209s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000226s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491624419_8484987880' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491624420_8484289746' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491624420_8484289746','ln1491624420_8484289746','ln1491624420_8484289746','1491624420','1491624420','8484','22222','22222','1','1491624420','0','21','39.149.251.31','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491624420_8484289746' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8484 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8484","ref2_name":"1037","account":1,"username":"","uid":19624420,"sex":1,"openid":"ln1491624420_8484289746","cps_app_id":"1000000001","reg_type":1,"reg_time":1491624420,"reg_ip":664140575}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8484' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8484' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8484: reg:3 pay:0
DEBUG: reg--pay2-8484 randrate: 1.923
DEBUG: reg--pay2-8484 nowrate: 0
DEBUG: reg--pay2-8484 pay is 0 account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8484','1037','0','','19624420','1','ln1491624420_8484289746','1000000001','1','1491624420','664140575') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8484&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491624420580199

[ 2017-04-08T12:07:01+08:00 ] 58.211.2.18 /Pay/link?uid=8484&code=031cb7oC0k5Pyd21rQkC0L3TnC0cb7oM&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408120701700d1632d70820164354',`openid`='oLiX9wATzzQG3FOs5O0pvYkmAGVA' WHERE ( orderid='ln1491624420_8484289746' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003051s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003066s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000100s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000113s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000277s ]
INFO: [ app_end ] --END-- [ RunTime:0.000294s ]

[ 2017-04-08T12:07:01+08:00 ] 58.211.2.18 /Pay/link?uid=8484&code=051bMB5k01rwhl1eju9k0Ckv5k0bMB5e&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000013s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000284s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000302s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408120701700d1632d70635507085',`openid`='oLiX9wATzzQG3FOs5O0pvYkmAGVA' WHERE ( orderid='ln1491624420_8484289746' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000026s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000044s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002956s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002971s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000100s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000111s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000269s ]
INFO: [ app_end ] --END-- [ RunTime:0.000289s ]

[ 2017-04-08T12:07:13+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000196s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000312s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000334s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491616938121026' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491616977',`transaction_id`='4005082001201704086257995430',`status`='1' WHERE `orderid` = 'ln1491616938121026' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000281s ]
INFO: [ app_end ] --END-- [ RunTime:0.000305s ]

[ 2017-04-08T12:08:43+08:00 ] 117.34.13.96 /Pay/link?uid=8477&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491624522704836
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000244s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491624522704836' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491624522704836','ln1491624522704836','ln1491624522704836','1491624523','1491624523','8477','22222','22222','1','1491624523','0','21','113.143.244.4','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491624522704836' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0009s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8477 ) LIMIT 1   [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8477","ref2_name":"1030","account":0,"username":"","uid":19624523,"sex":1,"openid":"ln1491624522704836","cps_app_id":"1000000001","reg_type":1,"reg_time":1491624523,"reg_ip":1905259524}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8477' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0011s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8477' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8477: reg:4 pay:0
DEBUG: reg--pay2-8477 randrate: 2.473
DEBUG: reg--pay2-8477 nowrate: 0
DEBUG: reg--pay2-8477 pay is 0 account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8477','1030','0','','19624523','1','ln1491624522704836','1000000001','1','1491624523','1905259524') [ RunTime:0.0006s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8477&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491624522704836

[ 2017-04-08T12:08:44+08:00 ] 117.34.13.96 /Pay/link?uid=8477&code=051abrDE1f4BT20pXRCE1cU6DE1abrD4&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081208449a309be02e0158126899',`openid`='oLiX9wFj3XBsty_cl_ulC_gWvlp0' WHERE ( orderid='ln1491624522704836' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000044s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003612s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003629s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000115s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000128s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000291s ]
INFO: [ app_end ] --END-- [ RunTime:0.000307s ]

[ 2017-04-08T12:09:17+08:00 ] 58.211.2.18 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491624557_847895808
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000209s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000226s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491606656297292' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491624557_847895808' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491624557_847895808','ln1491624557_847895808','ln1491624557_847895808','1491624557','1491624557','8478','22222','22222','1','1491624557','0','21','111.37.25.254','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491624557_847895808' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":0,"username":"","uid":19624557,"sex":1,"openid":"ln1491624557_847895808","cps_app_id":"1000000001","reg_type":1,"reg_time":1491624557,"reg_ip":1864702462}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8478: reg:32 pay:22
DEBUG: reg--pay2-8478 randrate: 1.846
DEBUG: reg--pay2-8478 nowrate: 1.4545454545455
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','0','','19624557','1','ln1491624557_847895808','1000000001','1','1491624557','1864702462') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491624557281941

[ 2017-04-08T12:09:18+08:00 ] 58.211.2.18 /Pay/link?uid=8478&code=031nenjH1UZNI40fPrnH1g5hjH1nenjU&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000249s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000266s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081209182a25ff54b50105263425',`openid`='oLiX9wAw6fVw_h6TTGhz0ClZLhdU' WHERE ( orderid='ln1491624557_847895808' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000049s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002948s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002966s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000103s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000116s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000273s ]
INFO: [ app_end ] --END-- [ RunTime:0.000291s ]

[ 2017-04-08T12:09:33+08:00 ] 117.34.13.96 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491624573960298
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000183s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491624573960298' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491624573960298','ln1491624573960298','ln1491624573960298','1491624573','1491624573','8493','22222','22222','1','1491624573','0','21','116.115.141.56','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491624573960298' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19624573,"sex":1,"openid":"ln1491624573960298","cps_app_id":"1000000001","reg_type":1,"reg_time":1491624573,"reg_ip":1953729848,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8493: reg:42 pay:30
DEBUG: reg--pay1-8493 randrate: 2.944
DEBUG: reg--pay1-8493 nowrate: 1.4
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19624573','1','ln1491624573960298','1000000001','1','1491624573','1953729848','0') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491624573960298

[ 2017-04-08T12:09:34+08:00 ] 122.190.2.72 /Pay/link?uid=8493&code=041HvUil1wGZ6k0Vd1gl11Wcjl1HvUi2&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000222s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000240s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081209340c11e1c3450770410884',`openid`='oLiX9wD0Ejqs5mhZ75AEXD7ZPWLA' WHERE ( orderid='ln1491624573960298' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002785s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002799s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000105s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000120s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000286s ]
INFO: [ app_end ] --END-- [ RunTime:0.000304s ]

[ 2017-04-08T12:09:41+08:00 ] 117.34.13.18 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491624581551682
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000178s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000245s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491624581551682' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491624581551682','ln1491624581551682','ln1491624581551682','1491624581','1491624581','8493','22222','22222','1','1491624581','0','21','1.29.216.90','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491624581551682' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19624581,"sex":1,"openid":"ln1491624581551682","cps_app_id":"1000000001","reg_type":1,"reg_time":1491624581,"reg_ip":18733146,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0011s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8493: reg:42 pay:30
DEBUG: reg--pay1-8493 randrate: 3.09
DEBUG: reg--pay1-8493 nowrate: 1.4
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19624581','1','ln1491624581551682','1000000001','1','1491624581','18733146','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491624581551682

[ 2017-04-08T12:09:42+08:00 ] 117.34.13.18 /Pay/link?uid=8493&code=021JR4072VEDqN07jb072Moo072JR400&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000222s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000309s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000332s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081209428b158626330350442676',`openid`='oLiX9wDQbXDlbUrBr6nH0mfuN1Ks' WHERE ( orderid='ln1491624581551682' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003009s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003024s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000108s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000121s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000298s ]
INFO: [ app_end ] --END-- [ RunTime:0.000314s ]

[ 2017-04-08T12:11:14+08:00 ] 117.34.13.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000233s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491622612678303' AND `status` = 0 LIMIT 1   [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491622624',`transaction_id`='4001082001201704086272689430',`status`='1' WHERE `orderid` = 'ln1491622612678303' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000266s ]
INFO: [ app_end ] --END-- [ RunTime:0.000288s ]

[ 2017-04-08T12:11:21+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000178s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000242s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491622626648230' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491622635',`transaction_id`='4005342001201704086270709713',`status`='1' WHERE `orderid` = 'ln1491622626648230' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000249s ]
INFO: [ app_end ] --END-- [ RunTime:0.000272s ]

[ 2017-04-08T12:11:48+08:00 ] 58.211.2.60 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491624707826551
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000241s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000268s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491624707826551' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491624707826551','ln1491624707826551','ln1491624707826551','1491624708','1491624708','8478','22222','22222','1','1491624708','0','29','117.136.90.168','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491624707826551' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":0,"username":"","uid":19624708,"sex":1,"openid":"ln1491624707826551","cps_app_id":"1000000001","reg_type":1,"reg_time":1491624708,"reg_ip":1971870376}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8478: reg:32 pay:22
DEBUG: reg--pay2-8478 randrate: 2.417
DEBUG: reg--pay2-8478 nowrate: 1.4545454545455
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','0','','19624708','1','ln1491624707826551','1000000001','1','1491624708','1971870376') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491624707826551

[ 2017-04-08T12:11:49+08:00 ] 58.211.2.60 /Pay/link?uid=8478&code=0411z3TO0nwLX72pvtUO0qBZSO01z3TL&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000247s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000266s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081211499567cf1c040124063117',`openid`='oLiX9wDNrcAK81Z_Me1ldyNT_mVw' WHERE ( orderid='ln1491624707826551' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002845s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002858s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000114s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000130s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000288s ]
INFO: [ app_end ] --END-- [ RunTime:0.000303s ]

[ 2017-04-08T12:12:21+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000270s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000289s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491620884_8469701759' AND `status` = 0 LIMIT 1   [ RunTime:0.0004s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491620889',`transaction_id`='4002352001201704086265806654',`status`='1' WHERE `orderid` = 'ln1491620884_8469701759' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000260s ]
INFO: [ app_end ] --END-- [ RunTime:0.000284s ]

[ 2017-04-08T12:12:24+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000277s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000296s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149161728514388' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491617293',`transaction_id`='4000042001201704086261226112',`status`='1' WHERE `orderid` = 'ln149161728514388' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000271s ]
INFO: [ app_end ] --END-- [ RunTime:0.000292s ]

[ 2017-04-08T12:12:39+08:00 ] 117.34.13.18 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491624759_849350526
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000214s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000265s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000282s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491624581551682' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491624759_849350526' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491624759_849350526','ln1491624759_849350526','ln1491624759_849350526','1491624759','1491624759','8493','22222','22222','1','1491624759','0','21','1.29.216.90','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491624759_849350526' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19624759,"sex":1,"openid":"ln1491624759_849350526","cps_app_id":"1000000001","reg_type":1,"reg_time":1491624759,"reg_ip":18733146,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8493: reg:42 pay:30
DEBUG: reg--pay1-8493 randrate: 1.799
DEBUG: reg--pay1-8493 nowrate: 1.4
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19624759','1','ln1491624759_849350526','1000000001','1','1491624759','18733146','0') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491624758981783

[ 2017-04-08T12:12:39+08:00 ] 117.34.13.18 /Pay/link?uid=8493&code=011JypVI0CAvJk2o75XI09ftVI0JypVn&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000243s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000307s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000330s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040812123907a37524900559735209',`openid`='oLiX9wDQbXDlbUrBr6nH0mfuN1Ks' WHERE ( orderid='ln1491624759_849350526' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000031s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000056s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003164s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003180s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000098s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000111s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000321s ]
INFO: [ app_end ] --END-- [ RunTime:0.000340s ]

[ 2017-04-08T12:12:42+08:00 ] 101.71.55.85 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000258s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000276s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000061s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000078s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000080s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000091s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000273s ]
INFO: [ app_end ] --END-- [ RunTime:0.000286s ]

[ 2017-04-08T12:12:42+08:00 ] 180.153.205.254 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000215s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000064s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000079s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000074s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000085s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000257s ]
INFO: [ app_end ] --END-- [ RunTime:0.000271s ]

[ 2017-04-08T12:12:47+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000201s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000232s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491624759_849350526' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491624766',`transaction_id`='4002662001201704086273901404',`status`='1' WHERE `orderid` = 'ln1491624759_849350526' [ RunTime:0.0005s ]
DEBUG: order: {"id":"5526","refid":"8493","prepayid":"wx2017040812123907a37524900559735209","orderid":"ln1491624759_849350526","pay_orderid":"ln1491624759_849350526","openid":"oLiX9wDQbXDlbUrBr6nH0mfuN1Ks","uid":"1491624759","gid":"1","time":"1491624759","status":"0","money":"21","ip":"1.29.216.90","call_url":"http:\/\/www.wxasj.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 5526 LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491624759_849350526' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8395 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: bili:1--22222 -- 2017-04-07 17:31:33
DEBUG: {"account":1,"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","ref0_id":"8395","ref0_name":"sam","uid":"ln1491624759_849350526","username":"","cps_app_id":"1000000001","pay_serial":"ln1491624759_849350526","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4002662001201704086273901404","pay_channel":"1","pay_amount":"21","pay_type":1,"pay_time":"1491624766","pay_time_ymd":"2017-04-08","pay_time_h":"12","pay_time_ymdh":"2017040812","pay_ip":"1.29.216.90","ref2_id":0}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref0_id`,`ref0_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`,`ref2_id`) VALUES ('1','8493','大宝哥','8395','sam','ln1491624759_849350526','','1000000001','ln1491624759_849350526','22222','22222','4002662001201704086273901404','1','21','1','1491624766','2017-04-08','12','2017040812','1.29.216.90','0') [ RunTime:0.0005s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-08T12:12:52+08:00 ] 122.190.2.18 /Pay/link?type=jscall&orderid=ln1491624759_849350526&isvip=ln1491624759_849350526&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000227s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491624759_849350526' LIMIT 1   [ RunTime:0.0005s ]

[ 2017-04-08T12:13:02+08:00 ] 58.211.2.120 /Pay/link?type=jscall&orderid=ln1491624759_849350526&isvip=ln1491624759_849350526&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000195s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000273s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000292s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491624759_849350526' LIMIT 1   [ RunTime:0.0006s ]

[ 2017-04-08T12:13:04+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000238s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000391s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000416s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491624759_849350526' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491624766',`transaction_id`='4002662001201704086273901404',`status`='1' WHERE `orderid` = 'ln1491624759_849350526' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000266s ]
INFO: [ app_end ] --END-- [ RunTime:0.000288s ]

[ 2017-04-08T12:13:21+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000234s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000341s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000366s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491624759_849350526' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491624766',`transaction_id`='4002662001201704086273901404',`status`='1' WHERE `orderid` = 'ln1491624759_849350526' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000268s ]
INFO: [ app_end ] --END-- [ RunTime:0.000291s ]

[ 2017-04-08T12:13:42+08:00 ] 117.34.13.66 /Pay/link?uid=8469&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491624822956760
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000299s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000326s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491624822956760' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491624822956760','ln1491624822956760','ln1491624822956760','1491624822','1491624822','8469','22222','22222','1','1491624822','0','21','223.104.7.89','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491624822956760' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0009s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8469 ) LIMIT 1   [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8469","ref2_name":"1022","account":0,"username":"","uid":19624822,"sex":1,"openid":"ln1491624822956760","cps_app_id":"1000000001","reg_type":1,"reg_time":1491624822,"reg_ip":3748136793}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8469' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8469' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8469: reg:3 pay:2
DEBUG: reg--pay2-8469 randrate: 1.99
DEBUG: reg--pay2-8469 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8469','1022','0','','19624822','1','ln1491624822956760','1000000001','1','1491624822','3748136793') [ RunTime:0.0006s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8469&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491624822956760

[ 2017-04-08T12:13:43+08:00 ] 117.34.13.66 /Pay/link?uid=8469&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491624822109699
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491624822109699' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491624822109699','ln1491624822109699','ln1491624822109699','1491624823','1491624823','8469','22222','22222','1','1491624823','0','21','223.104.7.89','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491624822109699' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8469 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8469","ref2_name":"1022","account":0,"username":"","uid":19624823,"sex":1,"openid":"ln1491624822109699","cps_app_id":"1000000001","reg_type":1,"reg_time":1491624823,"reg_ip":3748136793}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8469' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8469' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8469: reg:3 pay:2
DEBUG: reg--pay2-8469 randrate: 2.288
DEBUG: reg--pay2-8469 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8469','1022','0','','19624823','1','ln1491624822109699','1000000001','1','1491624823','3748136793') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8469&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491624822109699

[ 2017-04-08T12:13:44+08:00 ] 117.34.13.66 /Pay/link?uid=8469&code=041EUdtJ15v7a70qqBrJ133btJ1EUdtD&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0011s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408121344eada806b640563935020',`openid`='oLiX9wL4HqA6va_p3WAY_kT994Hs' WHERE ( orderid='ln1491624822109699' ) [ RunTime:0.0008s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003025s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003043s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000112s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000141s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000309s ]
INFO: [ app_end ] --END-- [ RunTime:0.000324s ]

[ 2017-04-08T12:13:45+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000273s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000292s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491613756202705' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491613769',`transaction_id`='4002792001201704086256796794',`status`='1' WHERE `orderid` = 'ln1491613756202705' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000272s ]
INFO: [ app_end ] --END-- [ RunTime:0.000292s ]

[ 2017-04-08T12:13:52+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000199s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000275s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000293s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491624759_849350526' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491624766',`transaction_id`='4002662001201704086273901404',`status`='1' WHERE `orderid` = 'ln1491624759_849350526' [ RunTime:0.0009s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000264s ]
INFO: [ app_end ] --END-- [ RunTime:0.000286s ]

[ 2017-04-08T12:14:52+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000251s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000356s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000382s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491617429206608' AND `status` = 0 LIMIT 1   [ RunTime:0.0004s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491617440',`transaction_id`='4002052001201704086259376370',`status`='1' WHERE `orderid` = 'ln1491617429206608' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000252s ]
INFO: [ app_end ] --END-- [ RunTime:0.000274s ]

[ 2017-04-08T12:15:02+08:00 ] 122.190.2.24 /Pay/link?uid=8447&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491624901778741
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000261s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000279s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491624901778741' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491624901778741','ln1491624901778741','ln1491624901778741','1491624902','1491624902','8447','22222','22222','1','1491624902','0','25','223.101.73.147','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491624901778741' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8447 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8447","ref2_name":"\u82b1","account":0,"username":"","uid":19624902,"sex":1,"openid":"ln1491624901778741","cps_app_id":"1000000001","reg_type":1,"reg_time":1491624902,"reg_ip":3747957139}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8447' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8447' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8447: reg:5 pay:3
DEBUG: reg--pay2-8447 randrate: 2.31
DEBUG: reg--pay2-8447 nowrate: 1.6666666666667
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8447','花','0','','19624902','1','ln1491624901778741','1000000001','1','1491624902','3747957139') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8447&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491624901778741

[ 2017-04-08T12:15:04+08:00 ] 117.34.13.66 /Pay/link?uid=8447&code=011udTqU1czYeT0jh7pU1r6HqU1udTqG&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000246s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000242s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000259s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408121504dbbfc5f4190050127359',`openid`='oLiX9wJJsnLjrMTfzzSV-YjJJHuc' WHERE ( orderid='ln1491624901778741' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002761s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002775s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000097s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000110s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000272s ]
INFO: [ app_end ] --END-- [ RunTime:0.000288s ]

[ 2017-04-08T12:15:04+08:00 ] 117.34.13.66 /Pay/link?uid=8447&code=051m9eyA1wRr3g0dmXwA1xJcyA1m9ey8&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408121504dbbfc5f4190272027573',`openid`='oLiX9wJJsnLjrMTfzzSV-YjJJHuc' WHERE ( orderid='ln1491624901778741' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000045s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000070s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003960s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003982s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000116s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000134s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000453s ]
INFO: [ app_end ] --END-- [ RunTime:0.000476s ]

[ 2017-04-08T12:15:35+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000201s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000270s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000289s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491622849486180' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491622887',`transaction_id`='4006272001201704086269761318',`status`='1' WHERE `orderid` = 'ln1491622849486180' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000295s ]
INFO: [ app_end ] --END-- [ RunTime:0.000318s ]

[ 2017-04-08T12:16:10+08:00 ] 117.34.13.96 /Pay/link?uid=8448&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491624969205051
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000261s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000285s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491624969205051' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491624969205051','ln1491624969205051','ln1491624969205051','1491624970','1491624970','8448','22222','22222','1','1491624970','0','32','36.48.78.133','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491624969205051' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8448 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8448","ref2_name":"1001","account":0,"username":"","uid":19624970,"sex":1,"openid":"ln1491624969205051","cps_app_id":"1000000001","reg_type":1,"reg_time":1491624970,"reg_ip":607145605}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8448' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8448' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8448: reg:7 pay:4
DEBUG: reg--pay2-8448 randrate: 1.579
DEBUG: reg--pay2-8448 nowrate: 1.75
DEBUG: reg--pay2-8448 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8448','1001','0','','19624970','1','ln1491624969205051','1000000001','1','1491624970','607145605') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8448&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491624969205051

[ 2017-04-08T12:16:10+08:00 ] 117.34.13.96 /Pay/link?uid=8448&code=011ylyon1kPDym0NUton1NWEon1ylyop&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081216106093622f0b0465734967',`openid`='oLiX9wN1_ZeY5mJetta7Ev7Rl38o' WHERE ( orderid='ln1491624969205051' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000026s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000046s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003009s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003028s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000089s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000103s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000292s ]
INFO: [ app_end ] --END-- [ RunTime:0.000320s ]

[ 2017-04-08T12:16:31+08:00 ] 117.34.13.96 /Pay/link?uid=8433&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491624990598335
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000205s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000250s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491624990598335' LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491624990598335','ln1491624990598335','ln1491624990598335','1491624991','1491624991','8433','22222','22222','1','1491624991','0','21','27.186.100.239','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491624990598335' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8433 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8433","ref1_name":"\u6625\u6625","account":0,"username":"","uid":19624991,"sex":1,"openid":"ln1491624990598335","cps_app_id":"1000000001","reg_type":1,"reg_time":1491624991,"reg_ip":465200367,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8433' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0011s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8433' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8433: reg:1 pay:0
DEBUG: reg--pay1-8433 randrate: 2.898
DEBUG: reg--pay1-8433 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8433','春春','0','','19624991','1','ln1491624990598335','1000000001','1','1491624991','465200367','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8433&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491624990598335

[ 2017-04-08T12:16:31+08:00 ] 117.34.13.96 /Pay/link?uid=8433&code=011fvjB808ZppK1NHpA80fpkB80fvjB1&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000206s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408121631be499683bb0022242105',`openid`='oLiX9wLqfSZ_zi3sKXUUK6Q5Bz0g' WHERE ( orderid='ln1491624990598335' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002860s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002875s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000101s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000113s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000295s ]
INFO: [ app_end ] --END-- [ RunTime:0.000315s ]

[ 2017-04-08T12:16:31+08:00 ] 117.34.13.96 /Pay/link?uid=8433&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491624991_8433670850
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000264s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000255s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000275s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491624990598335' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491624991_8433670850' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491624991_8433670850','ln1491624991_8433670850','ln1491624991_8433670850','1491624991','1491624991','8433','22222','22222','1','1491624991','0','21','27.186.100.239','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491624991_8433670850' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8433 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8433","ref1_name":"\u6625\u6625","account":0,"username":"","uid":19624991,"sex":1,"openid":"ln1491624991_8433670850","cps_app_id":"1000000001","reg_type":1,"reg_time":1491624991,"reg_ip":465200367,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8433' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8433' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay1-8433: reg:1 pay:0
DEBUG: reg--pay1-8433 randrate: 3.415
DEBUG: reg--pay1-8433 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8433','春春','0','','19624991','1','ln1491624991_8433670850','1000000001','1','1491624991','465200367','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8433&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491624991881355

[ 2017-04-08T12:16:33+08:00 ] 117.34.13.96 /Pay/link?uid=8433&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491624993_8433457489
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000252s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000269s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491624991_8433670850' LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491624993_8433457489' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491624993_8433457489','ln1491624993_8433457489','ln1491624993_8433457489','1491624993','1491624993','8433','22222','22222','1','1491624993','0','21','27.186.100.239','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491624993_8433457489' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8433 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8433","ref1_name":"\u6625\u6625","account":0,"username":"","uid":19624993,"sex":1,"openid":"ln1491624993_8433457489","cps_app_id":"1000000001","reg_type":1,"reg_time":1491624993,"reg_ip":465200367,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8433' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8433' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8433: reg:1 pay:0
DEBUG: reg--pay1-8433 randrate: 2.149
DEBUG: reg--pay1-8433 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8433','春春','0','','19624993','1','ln1491624993_8433457489','1000000001','1','1491624993','465200367','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8433&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491624992361251

[ 2017-04-08T12:16:35+08:00 ] 122.190.2.18 /Pay/link?uid=8433&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491624995_843376153
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491624993_8433457489' LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491624995_843376153' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491624995_843376153','ln1491624995_843376153','ln1491624995_843376153','1491624995','1491624995','8433','22222','22222','1','1491624995','0','21','27.186.100.239','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491624995_843376153' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0009s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8433 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8433","ref1_name":"\u6625\u6625","account":1,"username":"","uid":19624995,"sex":1,"openid":"ln1491624995_843376153","cps_app_id":"1000000001","reg_type":1,"reg_time":1491624995,"reg_ip":465200367,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8433' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0012s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8433' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8433: reg:1 pay:0
DEBUG: reg--pay1-8433 randrate: 2.567
DEBUG: reg--pay1-8433 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8433','春春','1','','19624995','1','ln1491624995_843376153','1000000001','1','1491624995','465200367','0') [ RunTime:0.0006s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8433&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491624995139815

[ 2017-04-08T12:16:36+08:00 ] 117.34.13.96 /Pay/link?uid=8433&code=051sZMes1sn8Lq0QWues1kyyes1sZMek&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000251s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408121636e1ecd67bfe0455454413',`openid`='oLiX9wLqfSZ_zi3sKXUUK6Q5Bz0g' WHERE ( orderid='ln1491624995_843376153' ) [ RunTime:0.0080s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002817s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002832s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000096s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000109s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000288s ]
INFO: [ app_end ] --END-- [ RunTime:0.000314s ]

[ 2017-04-08T12:16:37+08:00 ] 117.34.13.96 /Pay/link?uid=8433&code=001m0mTu1qYYsa08Q3Uu1sKpTu1m0mTK&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000198s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000256s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408121637027e584bcc0737806801',`openid`='oLiX9wLqfSZ_zi3sKXUUK6Q5Bz0g' WHERE ( orderid='ln1491624995_843376153' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000032s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000058s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003072s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003090s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000095s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000108s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000288s ]
INFO: [ app_end ] --END-- [ RunTime:0.000304s ]

[ 2017-04-08T12:16:40+08:00 ] 58.211.2.120 /Pay/link?uid=8433&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491625000496320
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000254s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491625000496320' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491625000496320','ln1491625000496320','ln1491625000496320','1491625000','1491625000','8433','22222','22222','1','1491625000','0','21','101.226.33.203','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491625000496320' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8433 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8433","ref1_name":"\u6625\u6625","account":0,"username":"","uid":19625000,"sex":1,"openid":"ln1491625000496320","cps_app_id":"1000000001","reg_type":1,"reg_time":1491625000,"reg_ip":1709318603,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8433' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8433' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay1-8433: reg:2 pay:0
DEBUG: reg--pay1-8433 randrate: 3.265
DEBUG: reg--pay1-8433 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8433','春春','0','','19625000','1','ln1491625000496320','1000000001','1','1491625000','1709318603','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8433&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491625000496320

[ 2017-04-08T12:16:46+08:00 ] 58.211.2.114 /Pay/link?uid=8433
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491625006_8433244980' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491625006_8433244980','ln1491625006_8433244980','ln1491625006_8433244980','1491625006','1491625006','8433','22222','22222','1','1491625006','0','39','101.226.64.177','ceshi','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491625006_8433244980' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8433 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8433","ref1_name":"\u6625\u6625","account":1,"username":"","uid":19625006,"sex":1,"openid":"ln1491625006_8433244980","cps_app_id":"1000000001","reg_type":1,"reg_time":1491625006,"reg_ip":1709326513,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8433' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8433' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay1-8433: reg:2 pay:0
DEBUG: reg--pay1-8433 randrate: 2.065
DEBUG: reg--pay1-8433 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8433','春春','1','','19625006','1','ln1491625006_8433244980','1000000001','1','1491625006','1709326513','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8433

[ 2017-04-08T12:16:53+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000209s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491624759_849350526' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491624766',`transaction_id`='4002662001201704086273901404',`status`='1' WHERE `orderid` = 'ln1491624759_849350526' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000242s ]
INFO: [ app_end ] --END-- [ RunTime:0.000262s ]

[ 2017-04-08T12:18:53+08:00 ] 58.211.2.24 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491625131430500
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000178s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0021s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491625131430500' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491625131430500','ln1491625131430500','ln1491625131430500','1491625133','1491625133','8478','22222','22222','1','1491625133','0','21','112.28.132.103','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491625131430500' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":1,"username":"","uid":19625133,"sex":1,"openid":"ln1491625131430500","cps_app_id":"1000000001","reg_type":1,"reg_time":1491625133,"reg_ip":1880917095}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay2-8478: reg:32 pay:22
DEBUG: reg--pay2-8478 randrate: 1.619
DEBUG: reg--pay2-8478 nowrate: 1.4545454545455
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','1','','19625133','1','ln1491625131430500','1000000001','1','1491625133','1880917095') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491625131430500

[ 2017-04-08T12:18:53+08:00 ] 58.211.2.114 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000230s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000062s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000077s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000073s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000083s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000265s ]
INFO: [ app_end ] --END-- [ RunTime:0.000280s ]

[ 2017-04-08T12:18:53+08:00 ] 101.71.55.85 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000218s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000235s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000075s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000092s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000073s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000085s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000235s ]
INFO: [ app_end ] --END-- [ RunTime:0.000248s ]

[ 2017-04-08T12:19:16+08:00 ] 122.190.2.72 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000223s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000241s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491617700_8499601838' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491617710',`transaction_id`='4003502001201704086264315448',`status`='1' WHERE `orderid` = 'ln1491617700_8499601838' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000331s ]
INFO: [ app_end ] --END-- [ RunTime:0.000354s ]

[ 2017-04-08T12:19:21+08:00 ] 122.190.2.30 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491619497_8451483903' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491619513',`transaction_id`='4001472001201704086265098560',`status`='1' WHERE `orderid` = 'ln1491619497_8451483903' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000281s ]
INFO: [ app_end ] --END-- [ RunTime:0.000302s ]

[ 2017-04-08T12:20:20+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000227s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491623161956987' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491623172',`transaction_id`='4001202001201704086272988833',`status`='1' WHERE `orderid` = 'ln1491623161956987' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000304s ]
INFO: [ app_end ] --END-- [ RunTime:0.000327s ]

[ 2017-04-08T12:20:45+08:00 ] 122.190.2.72 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000238s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000246s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000269s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491617738_8499735657' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491617792',`transaction_id`='4003502001201704086258284173',`status`='1' WHERE `orderid` = 'ln1491617738_8499735657' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000271s ]
INFO: [ app_end ] --END-- [ RunTime:0.000292s ]

[ 2017-04-08T12:20:59+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000233s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491614197683192' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491614204',`transaction_id`='4006022001201704086256911124',`status`='1' WHERE `orderid` = 'ln1491614197683192' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000307s ]
INFO: [ app_end ] --END-- [ RunTime:0.000330s ]

[ 2017-04-08T12:21:15+08:00 ] 117.34.13.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000194s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000238s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000257s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491619614282195' AND `status` = 0 LIMIT 1   [ RunTime:0.0004s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491619621',`transaction_id`='4002882001201704086265142954',`status`='1' WHERE `orderid` = 'ln1491619614282195' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000245s ]
INFO: [ app_end ] --END-- [ RunTime:0.000266s ]

[ 2017-04-08T12:21:33+08:00 ] 122.190.2.18 /Pay/link?uid=8433&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491625293_8433265705
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000214s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000226s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000256s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491624995_843376153' LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491625293_8433265705' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491625293_8433265705','ln1491625293_8433265705','ln1491625293_8433265705','1491625293','1491625293','8433','22222','22222','1','1491625293','0','21','27.186.100.239','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491625293_8433265705' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8433 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8433","ref1_name":"\u6625\u6625","account":0,"username":"","uid":19625293,"sex":1,"openid":"ln1491625293_8433265705","cps_app_id":"1000000001","reg_type":1,"reg_time":1491625293,"reg_ip":465200367,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8433' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8433' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay1-8433: reg:3 pay:0
DEBUG: reg--pay1-8433 randrate: 2.088
DEBUG: reg--pay1-8433 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8433','春春','0','','19625293','1','ln1491625293_8433265705','1000000001','1','1491625293','465200367','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8433&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln149162529360770

[ 2017-04-08T12:21:34+08:00 ] 117.34.13.96 /Pay/link?uid=8433&code=0413iBLs1QF1eq0rQiOs1SokLs13iBL7&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000240s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081221343e129858730393071876',`openid`='oLiX9wLqfSZ_zi3sKXUUK6Q5Bz0g' WHERE ( orderid='ln1491625293_8433265705' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000031s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000048s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002958s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002972s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000113s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000127s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000278s ]
INFO: [ app_end ] --END-- [ RunTime:0.000294s ]

[ 2017-04-08T12:21:34+08:00 ] 122.190.2.18 /Pay/link?uid=8433&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491625294_8433384013
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491625293_8433265705' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491625294_8433384013' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491625294_8433384013','ln1491625294_8433384013','ln1491625294_8433384013','1491625294','1491625294','8433','22222','22222','1','1491625294','0','21','27.186.100.239','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491625294_8433384013' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8433 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8433","ref1_name":"\u6625\u6625","account":1,"username":"","uid":19625294,"sex":1,"openid":"ln1491625294_8433384013","cps_app_id":"1000000001","reg_type":1,"reg_time":1491625294,"reg_ip":465200367,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8433' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8433' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay1-8433: reg:3 pay:0
DEBUG: reg--pay1-8433 randrate: 1.961
DEBUG: reg--pay1-8433 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8433','春春','1','','19625294','1','ln1491625294_8433384013','1000000001','1','1491625294','465200367','0') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8433&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491625294970050

[ 2017-04-08T12:21:35+08:00 ] 117.34.13.96 /Pay/link?uid=8433&code=011K9X6w1nE2pb0Wj67w1NgE6w1K9X6I&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000225s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000242s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081221352dbd565a980325221511',`openid`='oLiX9wLqfSZ_zi3sKXUUK6Q5Bz0g' WHERE ( orderid='ln1491625294_8433384013' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003049s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003064s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000100s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000117s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000299s ]
INFO: [ app_end ] --END-- [ RunTime:0.000314s ]

[ 2017-04-08T12:21:36+08:00 ] 117.34.13.96 /Pay/link?uid=8433&code=041BsxxR0Qdb2c2eJRwR0a18xR0BsxxD&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000194s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000230s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081221352dbd565a980957032381',`openid`='oLiX9wLqfSZ_zi3sKXUUK6Q5Bz0g' WHERE ( orderid='ln1491625294_8433384013' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000028s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000049s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002927s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002941s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000096s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000109s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000292s ]
INFO: [ app_end ] --END-- [ RunTime:0.000310s ]

[ 2017-04-08T12:21:42+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000012s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000229s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491614234386176' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491614244',`transaction_id`='4002112001201704086255105253',`status`='1' WHERE `orderid` = 'ln1491614234386176' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000251s ]
INFO: [ app_end ] --END-- [ RunTime:0.000272s ]

[ 2017-04-08T12:23:13+08:00 ] 117.34.13.96 /Pay/link?uid=8433&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491625393_8433993402
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000198s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000268s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000286s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491625294_8433384013' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491625393_8433993402' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491625393_8433993402','ln1491625393_8433993402','ln1491625393_8433993402','1491625393','1491625393','8433','22222','22222','1','1491625393','0','21','27.186.100.239','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491625393_8433993402' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8433 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8433","ref1_name":"\u6625\u6625","account":0,"username":"","uid":19625393,"sex":1,"openid":"ln1491625393_8433993402","cps_app_id":"1000000001","reg_type":1,"reg_time":1491625393,"reg_ip":465200367,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8433' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8433' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8433: reg:4 pay:0
DEBUG: reg--pay1-8433 randrate: 2.209
DEBUG: reg--pay1-8433 nowrate: 0
DEBUG: reg--pay1-8433 pay is 0 account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8433','春春','0','','19625393','1','ln1491625393_8433993402','1000000001','1','1491625393','465200367','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8433&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491625393196109

[ 2017-04-08T12:23:14+08:00 ] 117.34.13.96 /Pay/link?uid=8433&code=051SNFqh0tkfzB1EV7ph0DRoqh0SNFqu&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000209s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000226s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408122314dd63b7f6460063244593',`openid`='oLiX9wLqfSZ_zi3sKXUUK6Q5Bz0g' WHERE ( orderid='ln1491625393_8433993402' ) [ RunTime:0.0008s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003264s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003279s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000100s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000113s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000319s ]
INFO: [ app_end ] --END-- [ RunTime:0.000336s ]

[ 2017-04-08T12:24:09+08:00 ] 117.34.13.60 /Pay/link?uid=8448&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491625448172238
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491625448172238' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491625448172238','ln1491625448172238','ln1491625448172238','1491625449','1491625449','8448','22222','22222','1','1491625449','0','29','123.172.225.158','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491625448172238' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8448 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8448","ref2_name":"1001","account":0,"username":"","uid":19625449,"sex":1,"openid":"ln1491625448172238","cps_app_id":"1000000001","reg_type":1,"reg_time":1491625449,"reg_ip":2074927518}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8448' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8448' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8448: reg:7 pay:4
DEBUG: reg--pay2-8448 randrate: 1.612
DEBUG: reg--pay2-8448 nowrate: 1.75
DEBUG: reg--pay2-8448 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8448','1001','0','','19625449','1','ln1491625448172238','1000000001','1','1491625449','2074927518') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8448&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491625448172238

[ 2017-04-08T12:24:09+08:00 ] 117.34.13.60 /Pay/link?uid=8448&code=001Hicy72s7u3N0KT1z72Og6y72Hicyr&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000183s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000226s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408122409c2575a56700461118383',`openid`='oLiX9wLLYjAQQsMZZQuEDOpft5_Q' WHERE ( orderid='ln1491625448172238' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000031s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000054s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003457s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003481s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000118s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000136s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000364s ]
INFO: [ app_end ] --END-- [ RunTime:0.000382s ]

[ 2017-04-08T12:24:11+08:00 ] 122.190.2.30 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491619787351816' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491619802',`transaction_id`='4002232001201704086265294004',`status`='1' WHERE `orderid` = 'ln1491619787351816' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000252s ]
INFO: [ app_end ] --END-- [ RunTime:0.000273s ]

[ 2017-04-08T12:24:18+08:00 ] 58.211.2.42 /Pay/link?uid=8448&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491625458525605
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000262s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491625458525605' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491625458525605','ln1491625458525605','ln1491625458525605','1491625458','1491625458','8448','22222','22222','1','1491625458','0','29','101.226.66.177','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491625458525605' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8448 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8448","ref2_name":"1001","account":0,"username":"","uid":19625458,"sex":1,"openid":"ln1491625458525605","cps_app_id":"1000000001","reg_type":1,"reg_time":1491625458,"reg_ip":1709327025}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8448' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8448' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8448: reg:7 pay:4
DEBUG: reg--pay2-8448 randrate: 2.351
DEBUG: reg--pay2-8448 nowrate: 1.75
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8448','1001','0','','19625458','1','ln1491625458525605','1000000001','1','1491625458','1709327025') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8448&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491625458525605

[ 2017-04-08T12:24:22+08:00 ] 58.211.2.42 /Pay/link?uid=8448&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491625462749018
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000223s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000241s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491625462749018' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491625462749018','ln1491625462749018','ln1491625462749018','1491625462','1491625462','8448','22222','22222','1','1491625462','0','29','101.226.66.179','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491625462749018' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8448 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8448","ref2_name":"1001","account":0,"username":"","uid":19625462,"sex":1,"openid":"ln1491625462749018","cps_app_id":"1000000001","reg_type":1,"reg_time":1491625462,"reg_ip":1709327027}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8448' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8448' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8448: reg:7 pay:4
DEBUG: reg--pay2-8448 randrate: 1.965
DEBUG: reg--pay2-8448 nowrate: 1.75
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8448','1001','0','','19625462','1','ln1491625462749018','1000000001','1','1491625462','1709327027') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8448&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491625462749018

[ 2017-04-08T12:24:44+08:00 ] 117.34.13.66 /Pay/link?uid=8435&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491625483692046
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000207s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000241s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491625483692046' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491625483692046','ln1491625483692046','ln1491625483692046','1491625484','1491625484','8435','22222','22222','1','1491625484','0','21','118.183.124.173','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491625483692046' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8435 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8435","ref2_name":"\u5c0f\u9648","account":1,"username":"","uid":19625484,"sex":1,"openid":"ln1491625483692046","cps_app_id":"1000000001","reg_type":1,"reg_time":1491625484,"reg_ip":1991736493}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8435' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8435' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8435: reg:5 pay:2
DEBUG: reg--pay2-8435 randrate: 1.828
DEBUG: reg--pay2-8435 nowrate: 2.5
DEBUG: reg--pay2-8435 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8435','小陈','0','','19625484','1','ln1491625483692046','1000000001','1','1491625484','1991736493') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8435&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491625483692046

[ 2017-04-08T12:24:45+08:00 ] 122.190.2.42 /Pay/link?uid=8435&code=031av7c81US2WQ1tGRd81DSTb81av7cF&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0011s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408122445b39b5181b70960886629',`openid`='oLiX9wNul7l_ZtkEVtruqYAn5jeE' WHERE ( orderid='ln1491625483692046' ) [ RunTime:0.0008s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000044s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002928s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002942s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000105s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000128s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000269s ]
INFO: [ app_end ] --END-- [ RunTime:0.000284s ]

[ 2017-04-08T12:24:45+08:00 ] 117.34.13.66 /Pay/link?uid=8435&code=001RDcf60fMv3I1VWRi60jwvf60RDcfH&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000202s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408122445b39b5181b70227877638',`openid`='oLiX9wNul7l_ZtkEVtruqYAn5jeE' WHERE ( orderid='ln1491625483692046' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003014s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003031s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000109s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000121s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000260s ]
INFO: [ app_end ] --END-- [ RunTime:0.000274s ]

[ 2017-04-08T12:25:29+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000251s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000272s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491623475818543' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491623485',`transaction_id`='4005682001201704086270092752',`status`='1' WHERE `orderid` = 'ln1491623475818543' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000260s ]
INFO: [ app_end ] --END-- [ RunTime:0.000284s ]

[ 2017-04-08T12:25:34+08:00 ] 117.34.13.60 /Pay/link?uid=8448&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491625534_8448804244
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491625448172238' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491625534_8448804244' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491625534_8448804244','ln1491625534_8448804244','ln1491625534_8448804244','1491625534','1491625534','8448','22222','22222','1','1491625534','0','29','123.172.225.158','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491625534_8448804244' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8448 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8448","ref2_name":"1001","account":0,"username":"","uid":19625534,"sex":1,"openid":"ln1491625534_8448804244","cps_app_id":"1000000001","reg_type":1,"reg_time":1491625534,"reg_ip":2074927518}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8448' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8448' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8448: reg:7 pay:4
DEBUG: reg--pay2-8448 randrate: 1.979
DEBUG: reg--pay2-8448 nowrate: 1.75
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8448','1001','0','','19625534','1','ln1491625534_8448804244','1000000001','1','1491625534','2074927518') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8448&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491625534430874

[ 2017-04-08T12:25:35+08:00 ] 117.34.13.60 /Pay/link?uid=8448&code=051ARvKL1OH3S116QIJL1BRAKL1ARvK2&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000178s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000237s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000258s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040812253546d4e83d0f0173011336',`openid`='oLiX9wLLYjAQQsMZZQuEDOpft5_Q' WHERE ( orderid='ln1491625534_8448804244' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000031s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000065s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.004172s ]
INFO: [ view_parse ] --END-- [ RunTime:0.004191s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000121s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000138s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000393s ]
INFO: [ app_end ] --END-- [ RunTime:0.000413s ]

[ 2017-04-08T12:26:17+08:00 ] 117.34.13.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000197s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491619922_8449163966' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491619928',`transaction_id`='4007262001201704086266587345',`status`='1' WHERE `orderid` = 'ln1491619922_8449163966' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000302s ]
INFO: [ app_end ] --END-- [ RunTime:0.000322s ]

[ 2017-04-08T12:26:36+08:00 ] 117.34.13.60 /Pay/link?uid=8448&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491625596_8448521239
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000304s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000325s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491625534_8448804244' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491625596_8448521239' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491625596_8448521239','ln1491625596_8448521239','ln1491625596_8448521239','1491625596','1491625596','8448','22222','22222','1','1491625596','0','29','123.172.225.158','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491625596_8448521239' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0010s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8448 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0007s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8448","ref2_name":"1001","account":0,"username":"","uid":19625596,"sex":1,"openid":"ln1491625596_8448521239","cps_app_id":"1000000001","reg_type":1,"reg_time":1491625596,"reg_ip":2074927518}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8448' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0011s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8448' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
DEBUG: reg--pay2-8448: reg:7 pay:4
DEBUG: reg--pay2-8448 randrate: 1.587
DEBUG: reg--pay2-8448 nowrate: 1.75
DEBUG: reg--pay2-8448 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8448','1001','0','','19625596','1','ln1491625596_8448521239','1000000001','1','1491625596','2074927518') [ RunTime:0.0006s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8448&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491625595117944

[ 2017-04-08T12:26:36+08:00 ] 117.34.13.60 /Pay/link?uid=8448&code=02186MMa1IQnks0pt2Na1nn0Na186MM8&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000196s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408122636b3e2b6a0d40617335873',`openid`='oLiX9wLLYjAQQsMZZQuEDOpft5_Q' WHERE ( orderid='ln1491625596_8448521239' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000026s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000044s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003130s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003148s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000094s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000109s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000318s ]
INFO: [ app_end ] --END-- [ RunTime:0.000334s ]

[ 2017-04-08T12:26:45+08:00 ] 58.211.2.54 /Pay/link?uid=8448&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491625605898586
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000227s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000245s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491625605898586' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491625605898586','ln1491625605898586','ln1491625605898586','1491625605','1491625605','8448','22222','22222','1','1491625605','0','29','101.226.51.227','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491625605898586' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8448 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8448","ref2_name":"1001","account":0,"username":"","uid":19625605,"sex":1,"openid":"ln1491625605898586","cps_app_id":"1000000001","reg_type":1,"reg_time":1491625605,"reg_ip":1709323235}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8448' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8448' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8448: reg:7 pay:4
DEBUG: reg--pay2-8448 randrate: 2.24
DEBUG: reg--pay2-8448 nowrate: 1.75
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8448','1001','0','','19625605','1','ln1491625605898586','1000000001','1','1491625605','1709323235') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8448&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491625605898586

[ 2017-04-08T12:26:46+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000266s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000284s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491625596_8448521239' AND `status` = 0 LIMIT 1   [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491625605',`transaction_id`='4006762001201704086280363516',`status`='1' WHERE `orderid` = 'ln1491625596_8448521239' [ RunTime:0.0007s ]
DEBUG: order: {"id":"5546","refid":"8448","prepayid":"wx20170408122636b3e2b6a0d40617335873","orderid":"ln1491625596_8448521239","pay_orderid":"ln1491625596_8448521239","openid":"oLiX9wLLYjAQQsMZZQuEDOpft5_Q","uid":"1491625596","gid":"1","time":"1491625596","status":"0","money":"29","ip":"123.172.225.158","call_url":"http:\/\/www.wxasj.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 5546 LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491625596_8448521239' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8448 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: bili:1--22222 -- 2017-04-06 21:39:34
DEBUG: {"account":1,"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8448","ref2_name":"1001","uid":"ln1491625596_8448521239","username":"","cps_app_id":"1000000001","pay_serial":"ln1491625596_8448521239","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4006762001201704086280363516","pay_channel":"1","pay_amount":"29","pay_type":1,"pay_time":"1491625605","pay_time_ymd":"2017-04-08","pay_time_h":"12","pay_time_ymdh":"2017040812","pay_ip":"123.172.225.158"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8389','mrpei','8448','1001','ln1491625596_8448521239','','1000000001','ln1491625596_8448521239','22222','22222','4006762001201704086280363516','1','29','1','1491625605','2017-04-08','12','2017040812','123.172.225.158') [ RunTime:0.0005s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-08T12:26:49+08:00 ] 122.190.2.18 /Pay/link?uid=8461&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491625608922915
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000197s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000261s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000281s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491625608922915' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491625608922915','ln1491625608922915','ln1491625608922915','1491625609','1491625609','8461','22222','22222','1','1491625609','0','23','124.160.213.126','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491625608922915' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8461 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8461","ref2_name":"1014","account":0,"username":"","uid":19625609,"sex":1,"openid":"ln1491625608922915","cps_app_id":"1000000001","reg_type":1,"reg_time":1491625609,"reg_ip":2090915198}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8461' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8461' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8461: reg:7 pay:4
DEBUG: reg--pay2-8461 randrate: 2.42
DEBUG: reg--pay2-8461 nowrate: 1.75
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8461','1014','0','','19625609','1','ln1491625608922915','1000000001','1','1491625609','2090915198') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8461&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491625608922915

[ 2017-04-08T12:26:49+08:00 ] 122.190.2.18 /Pay/link?uid=8461&code=011k5TsG1NlQz50JprsG15GIsG1k5Ts9&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000196s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000279s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000300s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040812264933f4f6493e0735192666',`openid`='oLiX9wB3ieJfVVbLUJTj5m_KSLRA' WHERE ( orderid='ln1491625608922915' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000029s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000049s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003051s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003066s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000099s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000334s ]
INFO: [ app_end ] --END-- [ RunTime:0.000354s ]

[ 2017-04-08T12:26:49+08:00 ] 117.34.13.60 /Pay/link?type=jscall&orderid=ln1491625596_8448521239&isvip=ln1491625596_8448521239&uiver=&money=29&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000235s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000343s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000366s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491625596_8448521239' LIMIT 1   [ RunTime:0.0005s ]

[ 2017-04-08T12:26:56+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000212s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000253s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000273s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491625596_8448521239' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491625605',`transaction_id`='4006762001201704086280363516',`status`='1' WHERE `orderid` = 'ln1491625596_8448521239' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000262s ]
INFO: [ app_end ] --END-- [ RunTime:0.000286s ]

[ 2017-04-08T12:27:12+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000240s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000259s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491625596_8448521239' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491625605',`transaction_id`='4006762001201704086280363516',`status`='1' WHERE `orderid` = 'ln1491625596_8448521239' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000273s ]
INFO: [ app_end ] --END-- [ RunTime:0.000293s ]

[ 2017-04-08T12:27:20+08:00 ] 117.34.13.60 /Pay/link?uid=8448&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491625640_8448946216
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000251s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491625596_8448521239' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491625640_8448946216' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491625640_8448946216','ln1491625640_8448946216','ln1491625640_8448946216','1491625640','1491625640','8448','22222','22222','1','1491625640','0','29','123.172.225.158','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491625640_8448946216' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8448 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8448","ref2_name":"1001","account":1,"username":"","uid":19625640,"sex":1,"openid":"ln1491625640_8448946216","cps_app_id":"1000000001","reg_type":1,"reg_time":1491625640,"reg_ip":2074927518}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8448' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8448' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8448: reg:7 pay:5
DEBUG: reg--pay2-8448 randrate: 2.217
DEBUG: reg--pay2-8448 nowrate: 1.4
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8448','1001','1','','19625640','1','ln1491625640_8448946216','1000000001','1','1491625640','2074927518') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8448&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491625639913849

[ 2017-04-08T12:27:20+08:00 ] 117.34.13.60 /Pay/link?uid=8448&code=011eNTP32aVMYJ00T9P32O4PP32eNTPY&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000237s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000254s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408122720ba756391f90057894829',`openid`='oLiX9wLLYjAQQsMZZQuEDOpft5_Q' WHERE ( orderid='ln1491625640_8448946216' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002902s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002917s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000099s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000112s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000278s ]
INFO: [ app_end ] --END-- [ RunTime:0.000298s ]

[ 2017-04-08T12:27:43+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000212s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000263s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000281s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491625596_8448521239' AND `status` = 0 LIMIT 1   [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491625605',`transaction_id`='4006762001201704086280363516',`status`='1' WHERE `orderid` = 'ln1491625596_8448521239' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000284s ]
INFO: [ app_end ] --END-- [ RunTime:0.000311s ]

[ 2017-04-08T12:28:32+08:00 ] 122.190.2.18 /Pay/link?uid=8469&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491625711782337
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000337s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000237s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000255s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491625711782337' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491625711782337','ln1491625711782337','ln1491625711782337','1491625712','1491625712','8469','22222','22222','1','1491625712','0','25','117.179.124.229','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491625711782337' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8469 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8469","ref2_name":"1022","account":0,"username":"","uid":19625712,"sex":1,"openid":"ln1491625711782337","cps_app_id":"1000000001","reg_type":1,"reg_time":1491625712,"reg_ip":1974697189}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8469' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8469' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8469: reg:3 pay:2
DEBUG: reg--pay2-8469 randrate: 1.755
DEBUG: reg--pay2-8469 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8469','1022','0','','19625712','1','ln1491625711782337','1000000001','1','1491625712','1974697189') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8469&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491625711782337

[ 2017-04-08T12:28:33+08:00 ] 101.71.55.80 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000241s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000260s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000067s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000083s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000074s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000085s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000246s ]
INFO: [ app_end ] --END-- [ RunTime:0.000261s ]

[ 2017-04-08T12:29:24+08:00 ] 122.190.2.42 /Pay/link?uid=8469&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491625763542297
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000226s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000243s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491625763542297' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491625763542297','ln1491625763542297','ln1491625763542297','1491625764','1491625764','8469','22222','22222','1','1491625764','0','21','117.136.89.239','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491625763542297' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8469 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8469","ref2_name":"1022","account":0,"username":"","uid":19625764,"sex":1,"openid":"ln1491625763542297","cps_app_id":"1000000001","reg_type":1,"reg_time":1491625764,"reg_ip":1971870191}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8469' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8469' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8469: reg:3 pay:2
DEBUG: reg--pay2-8469 randrate: 2.328
DEBUG: reg--pay2-8469 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8469','1022','0','','19625764','1','ln1491625763542297','1000000001','1','1491625764','1971870191') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8469&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491625763542297

[ 2017-04-08T12:29:24+08:00 ] 122.190.2.42 /Pay/link?uid=8469&code=021BFLcP0RLBU92K41eP0G8pcP0BFLcI&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000224s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000242s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408122924fbaba6ef030154829693',`openid`='oLiX9wHw61AmCImCYdFRGCae2I9M' WHERE ( orderid='ln1491625763542297' ) [ RunTime:0.0084s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000031s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000056s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003655s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003674s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000134s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000153s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000431s ]
INFO: [ app_end ] --END-- [ RunTime:0.000464s ]

[ 2017-04-08T12:30:14+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000217s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000241s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000265s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491621959790567' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491621970',`transaction_id`='4001982001201704086269290484',`status`='1' WHERE `orderid` = 'ln1491621959790567' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000240s ]
INFO: [ app_end ] --END-- [ RunTime:0.000261s ]

[ 2017-04-08T12:30:16+08:00 ] 117.34.13.60 /Pay/link?uid=8448&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491625816_8448313054
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000242s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000263s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491625640_8448946216' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491625816_8448313054' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491625816_8448313054','ln1491625816_8448313054','ln1491625816_8448313054','1491625816','1491625816','8448','22222','22222','1','1491625816','0','29','123.172.225.158','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491625816_8448313054' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0009s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8448 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8448","ref2_name":"1001","account":0,"username":"","uid":19625816,"sex":1,"openid":"ln1491625816_8448313054","cps_app_id":"1000000001","reg_type":1,"reg_time":1491625816,"reg_ip":2074927518}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8448' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0011s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8448' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8448: reg:8 pay:5
DEBUG: reg--pay2-8448 randrate: 1.705
DEBUG: reg--pay2-8448 nowrate: 1.6
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8448','1001','0','','19625816','1','ln1491625816_8448313054','1000000001','1','1491625816','2074927518') [ RunTime:0.0006s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8448&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln149162581630557

[ 2017-04-08T12:30:17+08:00 ] 117.34.13.60 /Pay/link?uid=8448&code=001xuNue1D1dtv0mOpre1BQLue1xuNuy&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000199s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000249s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000269s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040812301789a37634010758553128',`openid`='oLiX9wLLYjAQQsMZZQuEDOpft5_Q' WHERE ( orderid='ln1491625816_8448313054' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000040s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002763s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002776s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000099s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000111s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000263s ]
INFO: [ app_end ] --END-- [ RunTime:0.000278s ]

[ 2017-04-08T12:30:44+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000203s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000281s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000299s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491625596_8448521239' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491625605',`transaction_id`='4006762001201704086280363516',`status`='1' WHERE `orderid` = 'ln1491625596_8448521239' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000274s ]
INFO: [ app_end ] --END-- [ RunTime:0.000295s ]

[ 2017-04-08T12:30:46+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000257s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000275s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491623788973788' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491623803',`transaction_id`='4007362001201704086273353074',`status`='1' WHERE `orderid` = 'ln1491623788973788' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000298s ]
INFO: [ app_end ] --END-- [ RunTime:0.000318s ]

[ 2017-04-08T12:32:03+08:00 ] 58.211.2.42 /Pay/link?uid=8490&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491625923631999
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000300s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000317s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491625923631999' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491625923631999','ln1491625923631999','ln1491625923631999','1491625923','1491625923','8490','22222','22222','1','1491625923','0','23','58.58.209.32','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491625923631999' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8490 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8490","ref1_name":"\u6606","account":0,"username":"","uid":19625923,"sex":1,"openid":"ln1491625923631999","cps_app_id":"1000000001","reg_type":1,"reg_time":1491625923,"reg_ip":976933152,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8490' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8490' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8490: reg:8 pay:5
DEBUG: reg--pay1-8490 randrate: 3.075
DEBUG: reg--pay1-8490 nowrate: 1.6
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8490','昆','0','','19625923','1','ln1491625923631999','1000000001','1','1491625923','976933152','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8490&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491625923631999

[ 2017-04-08T12:32:04+08:00 ] 58.211.2.42 /Pay/link?uid=8490&code=031ZDubX0l5KvZ1eGgcX0xMobX0ZDub7&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000205s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408123204838b3e651c0462233878',`openid`='oLiX9wMk4mqqnEHalpWAn6AyF_xI' WHERE ( orderid='ln1491625923631999' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000027s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000048s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003020s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003034s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000106s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000119s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000283s ]
INFO: [ app_end ] --END-- [ RunTime:0.000299s ]

[ 2017-04-08T12:33:14+08:00 ] 122.190.2.24 /Pay/link?uid=8469&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491625993866448
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000246s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000263s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491625993866448' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491625993866448','ln1491625993866448','ln1491625993866448','1491625994','1491625994','8469','22222','22222','1','1491625994','0','21','121.22.71.54','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491625993866448' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8469 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8469","ref2_name":"1022","account":0,"username":"","uid":19625994,"sex":1,"openid":"ln1491625993866448","cps_app_id":"1000000001","reg_type":1,"reg_time":1491625994,"reg_ip":2031503158}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8469' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8469' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8469: reg:3 pay:2
DEBUG: reg--pay2-8469 randrate: 1.794
DEBUG: reg--pay2-8469 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8469','1022','0','','19625994','1','ln1491625993866448','1000000001','1','1491625994','2031503158') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8469&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491625993866448

[ 2017-04-08T12:33:15+08:00 ] 122.190.2.24 /Pay/link?uid=8469&code=011i0Irc0o2Hev1Bkotc0hiXrc0i0IrA&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000247s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000266s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040812331558b48e2df60684786282',`openid`='oLiX9wKujIxQyNZ4-bdzYfSsWDxI' WHERE ( orderid='ln1491625993866448' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002948s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002963s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000104s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000119s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000295s ]
INFO: [ app_end ] --END-- [ RunTime:0.000310s ]

[ 2017-04-08T12:35:29+08:00 ] 122.190.2.72 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000009s ]
INFO: [ app_init ] --END-- [ RunTime:0.000261s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000328s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000352s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491624078_8490561947' AND `status` = 0 LIMIT 1   [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491624085',`transaction_id`='4007612001201704086276439425',`status`='1' WHERE `orderid` = 'ln1491624078_8490561947' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000337s ]
INFO: [ app_end ] --END-- [ RunTime:0.000363s ]

[ 2017-04-08T12:36:20+08:00 ] 116.31.126.102 /Pay/link?uid=8490&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln149162617912289
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000009s ]
INFO: [ app_init ] --END-- [ RunTime:0.000289s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000390s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000415s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149162617912289' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149162617912289','ln149162617912289','ln149162617912289','1491626180','1491626180','8490','22222','22222','1','1491626180','0','21','14.120.44.158','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149162617912289' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8490 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8490","ref1_name":"\u6606","account":0,"username":"","uid":19626180,"sex":1,"openid":"ln149162617912289","cps_app_id":"1000000001","reg_type":1,"reg_time":1491626180,"reg_ip":242756766,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8490' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8490' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay1-8490: reg:8 pay:5
DEBUG: reg--pay1-8490 randrate: 2.585
DEBUG: reg--pay1-8490 nowrate: 1.6
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8490','昆','0','','19626180','1','ln149162617912289','1000000001','1','1491626180','242756766','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8490&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln149162617912289

[ 2017-04-08T12:36:20+08:00 ] 122.190.2.48 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000224s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000244s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000065s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000080s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000073s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000084s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000255s ]
INFO: [ app_end ] --END-- [ RunTime:0.000270s ]

[ 2017-04-08T12:36:20+08:00 ] 58.211.2.30 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000193s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000316s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000349s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000086s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000109s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000114s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000131s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000387s ]
INFO: [ app_end ] --END-- [ RunTime:0.000407s ]

[ 2017-04-08T12:36:20+08:00 ] 116.31.126.102 /Pay/link?uid=8490&code=0515vvEv0j4T6e1YPAFv0RShEv05vvE-&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000322s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000344s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081236200663c606050734216030',`openid`='oLiX9wFQW2LIe_a69ISJ9enyNhVg' WHERE ( orderid='ln149162617912289' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000031s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000053s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003044s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003061s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000110s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000123s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000314s ]
INFO: [ app_end ] --END-- [ RunTime:0.000330s ]

[ 2017-04-08T12:36:49+08:00 ] 58.211.2.36 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000209s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000225s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000061s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000077s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000071s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000082s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000263s ]
INFO: [ app_end ] --END-- [ RunTime:0.000279s ]

[ 2017-04-08T12:36:49+08:00 ] 101.71.55.85 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000312s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000335s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000091s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000113s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000107s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000124s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000386s ]
INFO: [ app_end ] --END-- [ RunTime:0.000406s ]

[ 2017-04-08T12:36:49+08:00 ] 58.211.2.24 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491626208669051
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000260s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000281s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491626208669051' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491626208669051','ln1491626208669051','ln1491626208669051','1491626209','1491626209','8478','22222','22222','1','1491626209','0','39','218.72.42.180','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491626208669051' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0009s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0029s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0030s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":0,"username":"","uid":19626209,"sex":1,"openid":"ln1491626208669051","cps_app_id":"1000000001","reg_type":1,"reg_time":1491626209,"reg_ip":3662162612}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0029s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8478: reg:33 pay:22
DEBUG: reg--pay2-8478 randrate: 1.836
DEBUG: reg--pay2-8478 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','0','','19626209','1','ln1491626208669051','1000000001','1','1491626209','3662162612') [ RunTime:0.0006s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491626208669051

[ 2017-04-08T12:36:49+08:00 ] 58.211.2.24 /Pay/link?uid=8478&code=031hJYQy1egKuf0fgXPy1HWLQy1hJYQq&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000218s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000245s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081236494db371d6600271610790',`openid`='oLiX9wPKOz1U2wOVfMFP6D1Oybsk' WHERE ( orderid='ln1491626208669051' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000045s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003405s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003420s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000096s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000109s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000378s ]
INFO: [ app_end ] --END-- [ RunTime:0.000400s ]

[ 2017-04-08T12:37:56+08:00 ] 58.211.2.96 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln149162627538790
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000224s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000241s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149162627538790' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149162627538790','ln149162627538790','ln149162627538790','1491626276','1491626276','8478','22222','22222','1','1491626276','0','23','36.49.186.77','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149162627538790' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":0,"username":"","uid":19626276,"sex":1,"openid":"ln149162627538790","cps_app_id":"1000000001","reg_type":1,"reg_time":1491626276,"reg_ip":607238733}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8478: reg:33 pay:22
DEBUG: reg--pay2-8478 randrate: 2.424
DEBUG: reg--pay2-8478 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','0','','19626276','1','ln149162627538790','1000000001','1','1491626276','607238733') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln149162627538790

[ 2017-04-08T12:37:56+08:00 ] 58.211.2.96 /Pay/link?uid=8478&code=041CGSjG14lNr30YL3lG1Tz3kG1CGSjw&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081237566586cacb690201586020',`openid`='oLiX9wPIrGPS2OjoXnEPpE8R8-6E' WHERE ( orderid='ln149162627538790' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002932s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002949s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000100s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000112s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000275s ]
INFO: [ app_end ] --END-- [ RunTime:0.000293s ]

[ 2017-04-08T12:39:36+08:00 ] 58.211.2.96 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491626375323538
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000192s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000216s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000233s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491626375323538' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491626375323538','ln1491626375323538','ln1491626375323538','1491626376','1491626376','8478','22222','22222','1','1491626376','0','21','171.41.10.178','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491626375323538' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":0,"username":"","uid":19626376,"sex":1,"openid":"ln1491626375323538","cps_app_id":"1000000001","reg_type":1,"reg_time":1491626376,"reg_ip":2871593650}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8478: reg:33 pay:22
DEBUG: reg--pay2-8478 randrate: 2.336
DEBUG: reg--pay2-8478 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','0','','19626376','1','ln1491626375323538','1000000001','1','1491626376','2871593650') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491626375323538

[ 2017-04-08T12:39:36+08:00 ] 58.211.2.96 /Pay/link?uid=8478&code=031mKyUR1W6Dw91ZjlUR1nLpUR1mKyUY&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000232s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000250s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040812393633031a9dd20474587537',`openid`='oLiX9wBxwAa14irDsrkmoegpBvkY' WHERE ( orderid='ln1491626375323538' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000032s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000056s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.004020s ]
INFO: [ view_parse ] --END-- [ RunTime:0.004040s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000093s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000105s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000315s ]
INFO: [ app_end ] --END-- [ RunTime:0.000335s ]

[ 2017-04-08T12:39:45+08:00 ] 58.211.2.42 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln149162638551193
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000198s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000218s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000235s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149162638551193' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149162638551193','ln149162638551193','ln149162638551193','1491626385','1491626385','8478','22222','22222','1','1491626385','0','21','101.226.66.172','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149162638551193' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":1,"username":"","uid":19626385,"sex":1,"openid":"ln149162638551193","cps_app_id":"1000000001","reg_type":1,"reg_time":1491626385,"reg_ip":1709327020}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8478: reg:33 pay:22
DEBUG: reg--pay2-8478 randrate: 2.05
DEBUG: reg--pay2-8478 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','1','','19626385','1','ln149162638551193','1000000001','1','1491626385','1709327020') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln149162638551193

[ 2017-04-08T12:39:50+08:00 ] 58.211.2.18 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491626389447576
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000248s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000351s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000375s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491626389447576' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491626389447576','ln1491626389447576','ln1491626389447576','1491626390','1491626390','8478','22222','22222','1','1491626390','0','21','101.226.89.121','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491626389447576' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0009s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":0,"username":"","uid":19626390,"sex":1,"openid":"ln1491626389447576","cps_app_id":"1000000001","reg_type":1,"reg_time":1491626390,"reg_ip":1709332857}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay2-8478: reg:34 pay:22
DEBUG: reg--pay2-8478 randrate: 1.811
DEBUG: reg--pay2-8478 nowrate: 1.5454545454545
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','0','','19626390','1','ln1491626389447576','1000000001','1','1491626390','1709332857') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491626389447576

[ 2017-04-08T12:39:50+08:00 ] 101.71.55.90 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491626389883514
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000207s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000221s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000240s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491626389883514' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491626389883514','ln1491626389883514','ln1491626389883514','1491626390','1491626390','8493','22222','22222','1','1491626390','0','21','112.17.243.21','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491626389883514' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19626390,"sex":1,"openid":"ln1491626389883514","cps_app_id":"1000000001","reg_type":1,"reg_time":1491626390,"reg_ip":1880224533,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0009s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0007s ]
DEBUG: reg--pay1-8493: reg:42 pay:31
DEBUG: reg--pay1-8493 randrate: 2.907
DEBUG: reg--pay1-8493 nowrate: 1.3548387096774
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19626390','1','ln1491626389883514','1000000001','1','1491626390','1880224533','0') [ RunTime:0.0006s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491626389883514

[ 2017-04-08T12:39:51+08:00 ] 101.71.55.90 /Pay/link?uid=8493&code=011glwT10YcDlD1rg7U10FY9T10glwTd&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000286s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000303s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081239510ca0af13ff0858272995',`openid`='oLiX9wD1wsYLPBIjcJ_iuJvYAoy0' WHERE ( orderid='ln1491626389883514' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002838s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002852s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000097s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000111s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000263s ]
INFO: [ app_end ] --END-- [ RunTime:0.000279s ]

[ 2017-04-08T12:39:52+08:00 ] 101.71.55.90 /Pay/{{imgSrc}}
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000202s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000243s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000265s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
ERR: 非法操作:{{imgSrc}}

[ 2017-04-08T12:39:56+08:00 ] 117.34.13.36 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491626395330215
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000246s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000274s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491626395330215' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491626395330215','ln1491626395330215','ln1491626395330215','1491626396','1491626396','8478','22222','22222','1','1491626396','0','39','27.187.105.245','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491626395330215' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":0,"username":"","uid":19626396,"sex":1,"openid":"ln1491626395330215","cps_app_id":"1000000001","reg_type":1,"reg_time":1491626396,"reg_ip":465267189}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8478: reg:34 pay:22
DEBUG: reg--pay2-8478 randrate: 2.157
DEBUG: reg--pay2-8478 nowrate: 1.5454545454545
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','0','','19626396','1','ln1491626395330215','1000000001','1','1491626396','465267189') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491626395330215

[ 2017-04-08T12:39:56+08:00 ] 117.34.13.96 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000254s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000062s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000078s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000071s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000083s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000270s ]
INFO: [ app_end ] --END-- [ RunTime:0.000286s ]

[ 2017-04-08T12:39:57+08:00 ] 117.34.13.36 /Pay/link?uid=8478&code=001dpNGQ1BHRi817AeIQ1YuPGQ1dpNG1&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000222s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000239s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408123957f7a52b47350779727625',`openid`='oLiX9wH3XqtQZIVp46F9mzwy7vQs' WHERE ( orderid='ln1491626395330215' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003118s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003132s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000116s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000132s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000278s ]
INFO: [ app_end ] --END-- [ RunTime:0.000295s ]

[ 2017-04-08T12:41:16+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491622612678303' AND `status` = 0 LIMIT 1   [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491622624',`transaction_id`='4001082001201704086272689430',`status`='1' WHERE `orderid` = 'ln1491622612678303' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000250s ]
INFO: [ app_end ] --END-- [ RunTime:0.000271s ]

[ 2017-04-08T12:41:23+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000247s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000267s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491622626648230' AND `status` = 0 LIMIT 1   [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491622635',`transaction_id`='4005342001201704086270709713',`status`='1' WHERE `orderid` = 'ln1491622626648230' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000289s ]
INFO: [ app_end ] --END-- [ RunTime:0.000310s ]

[ 2017-04-08T12:42:22+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000227s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000245s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491620884_8469701759' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491620889',`transaction_id`='4002352001201704086265806654',`status`='1' WHERE `orderid` = 'ln1491620884_8469701759' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000273s ]
INFO: [ app_end ] --END-- [ RunTime:0.000294s ]

[ 2017-04-08T12:42:40+08:00 ] 116.31.126.107 /Pay/link?uid=8471&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491626559161387
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000256s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491626559161387' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491626559161387','ln1491626559161387','ln1491626559161387','1491626560','1491626560','8471','22222','22222','1','1491626560','0','21','39.130.100.239','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491626559161387' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8471 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8471","ref2_name":"1024","account":0,"username":"","uid":19626560,"sex":1,"openid":"ln1491626559161387","cps_app_id":"1000000001","reg_type":1,"reg_time":1491626560,"reg_ip":662856943}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8471' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8471' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8471: reg:7 pay:5
DEBUG: reg--pay2-8471 randrate: 1.901
DEBUG: reg--pay2-8471 nowrate: 1.4
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8471','1024','0','','19626560','1','ln1491626559161387','1000000001','1','1491626560','662856943') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8471&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491626559161387

[ 2017-04-08T12:42:41+08:00 ] 116.31.126.107 /Pay/link?uid=8471&code=0317BIny1bPOFd06Bioy1s6Iny17BInP&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000231s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000311s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000333s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408124240bd211bfa3c0838478758',`openid`='oLiX9wOx26fwhwm-3AHcJ4m1Wd5s' WHERE ( orderid='ln1491626559161387' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003156s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003173s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000116s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000133s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000379s ]
INFO: [ app_end ] --END-- [ RunTime:0.000401s ]

[ 2017-04-08T12:44:12+08:00 ] 58.211.2.18 /Pay/link?uid=8482&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491626651600895
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000011s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000311s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000329s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491626651600895' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491626651600895','ln1491626651600895','ln1491626651600895','1491626652','1491626652','8482','22222','22222','1','1491626652','0','25','49.66.110.83','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491626651600895' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8482 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8482","ref2_name":"1035","account":0,"username":"","uid":19626652,"sex":1,"openid":"ln1491626651600895","cps_app_id":"1000000001","reg_type":1,"reg_time":1491626652,"reg_ip":826437203}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8482' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8482' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8482: reg:1 pay:0
DEBUG: reg--pay2-8482 randrate: 2.056
DEBUG: reg--pay2-8482 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8482','1035','0','','19626652','1','ln1491626651600895','1000000001','1','1491626652','826437203') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8482&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491626651600895

[ 2017-04-08T12:44:12+08:00 ] 58.211.2.18 /Pay/link?uid=8482&code=041EUVvN0inv572i4KwN0v6lwN0EUVvD&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000284s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000303s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408124412f50d89a17f0922307094',`openid`='oLiX9wGcJyMqpg6Q4z7__jd_AH1o' WHERE ( orderid='ln1491626651600895' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002957s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002972s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000103s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000124s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000281s ]
INFO: [ app_end ] --END-- [ RunTime:0.000297s ]

[ 2017-04-08T12:44:21+08:00 ] 58.211.2.18 /Pay/link?uid=8482&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491626661676325
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491626661676325' LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491626661676325','ln1491626661676325','ln1491626661676325','1491626661','1491626661','8482','22222','22222','1','1491626661','0','25','180.153.163.190','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491626661676325' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0009s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8482 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8482","ref2_name":"1035","account":0,"username":"","uid":19626661,"sex":1,"openid":"ln1491626661676325","cps_app_id":"1000000001","reg_type":1,"reg_time":1491626661,"reg_ip":3029967806}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8482' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0009s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8482' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8482: reg:1 pay:0
DEBUG: reg--pay2-8482 randrate: 1.918
DEBUG: reg--pay2-8482 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8482','1035','0','','19626661','1','ln1491626661676325','1000000001','1','1491626661','3029967806') [ RunTime:0.0006s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8482&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491626661676325

[ 2017-04-08T12:45:15+08:00 ] 122.190.2.42 /Pay/link?uid=8403&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491626714177146
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000250s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000268s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491626714177146' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491626714177146','ln1491626714177146','ln1491626714177146','1491626715','1491626715','8403','22222','22222','1','1491626715','0','21','123.120.114.81','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491626714177146' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8403 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8403","ref2_name":"\u5c0f3","account":0,"username":"","uid":19626715,"sex":1,"openid":"ln1491626714177146","cps_app_id":"1000000001","reg_type":1,"reg_time":1491626715,"reg_ip":2071491153}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8403' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8403' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8403: reg:1 pay:0
DEBUG: reg--pay2-8403 randrate: 1.528
DEBUG: reg--pay2-8403 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8403','小3','0','','19626715','1','ln1491626714177146','1000000001','1','1491626715','2071491153') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8403&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491626714177146

[ 2017-04-08T12:45:15+08:00 ] 101.71.55.110 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000251s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000232s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000084s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000112s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000108s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000125s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000241s ]
INFO: [ app_end ] --END-- [ RunTime:0.000255s ]

[ 2017-04-08T12:45:16+08:00 ] 117.34.13.96 /Pay/link?uid=8403&code=051TqsZh0yVCZA1zJ11i0pPHZh0TqsZ6&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000256s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000273s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408124515b20356d15e0027769082',`openid`='oLiX9wMH9pproTJqNhbr7VxWU67k' WHERE ( orderid='ln1491626714177146' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000040s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002817s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002831s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000100s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000113s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000306s ]
INFO: [ app_end ] --END-- [ RunTime:0.000322s ]

[ 2017-04-08T12:45:24+08:00 ] 58.211.2.120 /Pay/link?uid=8403&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491626724793012
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000239s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000257s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491626724793012' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491626724793012','ln1491626724793012','ln1491626724793012','1491626724','1491626724','8403','22222','22222','1','1491626724','0','21','101.226.33.225','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491626724793012' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8403 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8403","ref2_name":"\u5c0f3","account":1,"username":"","uid":19626724,"sex":1,"openid":"ln1491626724793012","cps_app_id":"1000000001","reg_type":1,"reg_time":1491626724,"reg_ip":1709318625}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8403' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8403' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8403: reg:1 pay:0
DEBUG: reg--pay2-8403 randrate: 2.465
DEBUG: reg--pay2-8403 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8403','小3','1','','19626724','1','ln1491626724793012','1000000001','1','1491626724','1709318625') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8403&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491626724793012

[ 2017-04-08T12:45:38+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000215s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491622849486180' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491622887',`transaction_id`='4006272001201704086269761318',`status`='1' WHERE `orderid` = 'ln1491622849486180' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000272s ]
INFO: [ app_end ] --END-- [ RunTime:0.000292s ]

[ 2017-04-08T12:45:55+08:00 ] 122.190.2.18 /Pay/link?uid=8455&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491626754521938
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000254s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000271s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491626754521938' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491626754521938','ln1491626754521938','ln1491626754521938','1491626755','1491626755','8455','22222','22222','1','1491626755','0','21','175.19.57.250','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491626754521938' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0009s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8455 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0007s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8455","ref2_name":"1008","account":0,"username":"","uid":19626755,"sex":1,"openid":"ln1491626754521938","cps_app_id":"1000000001","reg_type":1,"reg_time":1491626755,"reg_ip":2937272826}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8455' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8455' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8455: reg:3 pay:3
DEBUG: reg--pay2-8455 randrate: 1.723
DEBUG: reg--pay2-8455 nowrate: 1
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8455','1008','0','','19626755','1','ln1491626754521938','1000000001','1','1491626755','2937272826') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8455&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491626754521938

[ 2017-04-08T12:45:56+08:00 ] 122.190.2.18 /Pay/link?uid=8455&code=011hxHJZ1yZE7X0nFGHZ1qDWJZ1hxHJd&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000257s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000275s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408124556dfb2eaab980894043487',`openid`='oLiX9wC-Fc9Fj6eZTPoWyX4gvXY0' WHERE ( orderid='ln1491626754521938' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003064s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003085s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000120s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000139s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000292s ]
INFO: [ app_end ] --END-- [ RunTime:0.000312s ]

[ 2017-04-08T12:46:29+08:00 ] 117.34.13.12 /Pay/link?uid=8455&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491626789_8455705388
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000203s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000224s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000243s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491626754521938' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491626789_8455705388' LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491626789_8455705388','ln1491626789_8455705388','ln1491626789_8455705388','1491626789','1491626789','8455','22222','22222','1','1491626789','0','32','175.19.57.250','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491626789_8455705388' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8455 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8455","ref2_name":"1008","account":0,"username":"","uid":19626789,"sex":1,"openid":"ln1491626789_8455705388","cps_app_id":"1000000001","reg_type":1,"reg_time":1491626789,"reg_ip":2937272826}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8455' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8455' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8455: reg:3 pay:3
DEBUG: reg--pay2-8455 randrate: 1.784
DEBUG: reg--pay2-8455 nowrate: 1
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8455','1008','0','','19626789','1','ln1491626789_8455705388','1000000001','1','1491626789','2937272826') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8455&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491626788292936

[ 2017-04-08T12:46:29+08:00 ] 117.34.13.12 /Pay/link?uid=8455&code=021qXxSD096MKg2KJmRD0FjrSD0qXxS2&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000195s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000239s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000258s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408124629c8386360870269119330',`openid`='oLiX9wC-Fc9Fj6eZTPoWyX4gvXY0' WHERE ( orderid='ln1491626789_8455705388' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003039s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003052s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000107s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000122s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000297s ]
INFO: [ app_end ] --END-- [ RunTime:0.000313s ]

[ 2017-04-08T12:46:56+08:00 ] 101.71.55.85 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000183s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000246s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491624759_849350526' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491624766',`transaction_id`='4002662001201704086273901404',`status`='1' WHERE `orderid` = 'ln1491624759_849350526' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000257s ]
INFO: [ app_end ] --END-- [ RunTime:0.000278s ]

[ 2017-04-08T12:47:08+08:00 ] 58.211.2.48 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491626827516389
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491626827516389' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491626827516389','ln1491626827516389','ln1491626827516389','1491626828','1491626828','8478','22222','22222','1','1491626828','0','32','117.136.86.8','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491626827516389' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":0,"username":"","uid":19626828,"sex":1,"openid":"ln1491626827516389","cps_app_id":"1000000001","reg_type":1,"reg_time":1491626828,"reg_ip":1971869192}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8478: reg:34 pay:22
DEBUG: reg--pay2-8478 randrate: 1.593
DEBUG: reg--pay2-8478 nowrate: 1.5454545454545
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','0','','19626828','1','ln1491626827516389','1000000001','1','1491626828','1971869192') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491626827516389

[ 2017-04-08T12:47:09+08:00 ] 58.211.2.48 /Pay/link?uid=8478&code=0010nuKm1o73Mk05kfNm1BltKm10nuKt&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000162s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000246s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000365s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408124709da60f79d090635868190',`openid`='oLiX9wAtcHhfsgEIks2nitjmFm10' WHERE ( orderid='ln1491626827516389' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002729s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002744s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000095s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000108s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000258s ]
INFO: [ app_end ] --END-- [ RunTime:0.000273s ]

[ 2017-04-08T12:47:09+08:00 ] 58.211.2.48 /Pay/link?uid=8478&code=021KudEg0Mb4Wz1LRfCg0TsVDg0KudEa&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000193s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000251s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000272s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408124709da60f79d090902166288',`openid`='oLiX9wAtcHhfsgEIks2nitjmFm10' WHERE ( orderid='ln1491626827516389' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003038s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003054s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000127s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000141s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000301s ]
INFO: [ app_end ] --END-- [ RunTime:0.000318s ]

[ 2017-04-08T12:47:09+08:00 ] 58.211.2.48 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491626829_8478684375
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491626827516389' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491626829_8478684375' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491626829_8478684375','ln1491626829_8478684375','ln1491626829_8478684375','1491626829','1491626829','8478','22222','22222','1','1491626829','0','32','117.136.86.8','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491626829_8478684375' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":0,"username":"","uid":19626829,"sex":1,"openid":"ln1491626829_8478684375","cps_app_id":"1000000001","reg_type":1,"reg_time":1491626829,"reg_ip":1971869192}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0014s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8478: reg:34 pay:22
DEBUG: reg--pay2-8478 randrate: 1.765
DEBUG: reg--pay2-8478 nowrate: 1.5454545454545
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','0','','19626829','1','ln1491626829_8478684375','1000000001','1','1491626829','1971869192') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491626829829513

[ 2017-04-08T12:47:10+08:00 ] 58.211.2.48 /Pay/link?uid=8478&code=041zCKeG1dUDz3003JeG1xsPeG1zCKev&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000227s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000244s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040812471061b5773b6c0891866301',`openid`='oLiX9wAtcHhfsgEIks2nitjmFm10' WHERE ( orderid='ln1491626829_8478684375' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003193s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003212s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000090s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000115s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000296s ]
INFO: [ app_end ] --END-- [ RunTime:0.000315s ]

[ 2017-04-08T12:47:10+08:00 ] 58.211.2.48 /Pay/link?uid=8478&code=041wqqVV1S2kaU0RhXUV1KCtVV1wqqVW&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000293s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000312s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040812471061b5773b6c0341013485',`openid`='oLiX9wAtcHhfsgEIks2nitjmFm10' WHERE ( orderid='ln1491626829_8478684375' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003078s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003096s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000110s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000124s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000294s ]
INFO: [ app_end ] --END-- [ RunTime:0.000309s ]

[ 2017-04-08T12:47:11+08:00 ] 58.211.2.36 /favicon.ico
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.

[ 2017-04-08T12:48:54+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000229s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491615867345842' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491615880',`transaction_id`='4007132001201704086257520324',`status`='1' WHERE `orderid` = 'ln1491615867345842' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000273s ]
INFO: [ app_end ] --END-- [ RunTime:0.000299s ]

[ 2017-04-08T12:49:22+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000245s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000268s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491619497_8451483903' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491619513',`transaction_id`='4001472001201704086265098560',`status`='1' WHERE `orderid` = 'ln1491619497_8451483903' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000251s ]
INFO: [ app_end ] --END-- [ RunTime:0.000273s ]

[ 2017-04-08T12:50:21+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000207s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000226s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491623161956987' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491623172',`transaction_id`='4001202001201704086272988833',`status`='1' WHERE `orderid` = 'ln1491623161956987' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000245s ]
INFO: [ app_end ] --END-- [ RunTime:0.000265s ]

[ 2017-04-08T12:50:28+08:00 ] 58.211.2.24 /Pay/link?uid=8471&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491627028348084
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627028348084' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491627028348084','ln1491627028348084','ln1491627028348084','1491627028','1491627028','8471','22222','22222','1','1491627028','0','39','117.166.197.62','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491627028348084' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8471 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8471","ref2_name":"1024","account":0,"username":"","uid":19627028,"sex":1,"openid":"ln1491627028348084","cps_app_id":"1000000001","reg_type":1,"reg_time":1491627028,"reg_ip":1973863742}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8471' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8471' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8471: reg:7 pay:5
DEBUG: reg--pay2-8471 randrate: 1.621
DEBUG: reg--pay2-8471 nowrate: 1.4
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8471','1024','0','','19627028','1','ln1491627028348084','1000000001','1','1491627028','1973863742') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8471&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491627028348084

[ 2017-04-08T12:50:29+08:00 ] 58.211.2.24 /Pay/link?uid=8471&code=001mIe630i4yyE1k3J430Nlt630mIe6g&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000218s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000235s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408125029ef58f2a8090444099949',`openid`='oLiX9wGsfuaTWp_y2ixeXR73hgaQ' WHERE ( orderid='ln1491627028348084' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000030s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000054s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.004408s ]
INFO: [ view_parse ] --END-- [ RunTime:0.004429s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000115s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000133s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000375s ]
INFO: [ app_end ] --END-- [ RunTime:0.000398s ]

[ 2017-04-08T12:50:30+08:00 ] 58.211.2.24 /Pay/link?uid=8471&code=051zil0u1Sgadb0oLS0u1Zmr0u1zil0h&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000009s ]
INFO: [ app_init ] --END-- [ RunTime:0.000257s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000325s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000350s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408125029ef58f2a8090643231741',`openid`='oLiX9wGsfuaTWp_y2ixeXR73hgaQ' WHERE ( orderid='ln1491627028348084' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003026s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003040s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000097s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000110s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000321s ]
INFO: [ app_end ] --END-- [ RunTime:0.000338s ]

[ 2017-04-08T12:50:37+08:00 ] 58.211.2.12 /Pay/link?uid=8457&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491627037229922
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000192s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000274s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000297s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627037229922' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491627037229922','ln1491627037229922','ln1491627037229922','1491627037','1491627037','8457','22222','22222','1','1491627037','0','21','111.19.34.154','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491627037229922' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8457 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8457","ref2_name":"1010","account":0,"username":"","uid":19627037,"sex":1,"openid":"ln1491627037229922","cps_app_id":"1000000001","reg_type":1,"reg_time":1491627037,"reg_ip":1863525018}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8457' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8457' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8457: reg:3 pay:1
DEBUG: reg--pay2-8457 randrate: 2.287
DEBUG: reg--pay2-8457 nowrate: 3
DEBUG: reg--pay2-8457 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8457','1010','0','','19627037','1','ln1491627037229922','1000000001','1','1491627037','1863525018') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8457&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491627037229922

[ 2017-04-08T12:50:38+08:00 ] 58.211.2.12 /Pay/link?uid=8457&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491627037223672
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000224s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000238s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000261s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627037223672' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491627037223672','ln1491627037223672','ln1491627037223672','1491627038','1491627038','8457','22222','22222','1','1491627038','0','21','111.19.34.154','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491627037223672' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8457 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8457","ref2_name":"1010","account":1,"username":"","uid":19627038,"sex":1,"openid":"ln1491627037223672","cps_app_id":"1000000001","reg_type":1,"reg_time":1491627038,"reg_ip":1863525018}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8457' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8457' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8457: reg:3 pay:1
DEBUG: reg--pay2-8457 randrate: 1.742
DEBUG: reg--pay2-8457 nowrate: 3
DEBUG: reg--pay2-8457 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8457','1010','0','','19627038','1','ln1491627037223672','1000000001','1','1491627038','1863525018') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8457&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491627037223672

[ 2017-04-08T12:50:39+08:00 ] 58.211.2.12 /Pay/link?uid=8457&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln149162703813220
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000258s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000278s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149162703813220' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149162703813220','ln149162703813220','ln149162703813220','1491627039','1491627039','8457','22222','22222','1','1491627039','0','21','111.19.34.154','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149162703813220' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0009s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8457 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8457","ref2_name":"1010","account":0,"username":"","uid":19627039,"sex":1,"openid":"ln149162703813220","cps_app_id":"1000000001","reg_type":1,"reg_time":1491627039,"reg_ip":1863525018}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8457' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0011s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8457' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8457: reg:3 pay:1
DEBUG: reg--pay2-8457 randrate: 1.754
DEBUG: reg--pay2-8457 nowrate: 3
DEBUG: reg--pay2-8457 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8457','1010','0','','19627039','1','ln149162703813220','1000000001','1','1491627039','1863525018') [ RunTime:0.0006s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8457&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln149162703813220

[ 2017-04-08T12:50:40+08:00 ] 58.211.2.12 /Pay/link?uid=8457&code=051JGcbY14tXpW06LubY1Zr6bY1JGcbz&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000291s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000309s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040812504088f92e80370587213226',`openid`='oLiX9wKj3fQOeaXntn6IgYU-OHDQ' WHERE ( orderid='ln149162703813220' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000029s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000051s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003040s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003058s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000103s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000119s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000306s ]
INFO: [ app_end ] --END-- [ RunTime:0.000323s ]

[ 2017-04-08T12:50:40+08:00 ] 58.211.2.12 /Pay/link?uid=8457&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491627040_8457367059
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000278s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000296s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149162703813220' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627040_8457367059' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491627040_8457367059','ln1491627040_8457367059','ln1491627040_8457367059','1491627040','1491627040','8457','22222','22222','1','1491627040','0','21','111.19.34.154','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491627040_8457367059' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8457 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8457","ref2_name":"1010","account":0,"username":"","uid":19627040,"sex":1,"openid":"ln1491627040_8457367059","cps_app_id":"1000000001","reg_type":1,"reg_time":1491627040,"reg_ip":1863525018}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8457' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8457' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8457: reg:3 pay:1
DEBUG: reg--pay2-8457 randrate: 1.816
DEBUG: reg--pay2-8457 nowrate: 3
DEBUG: reg--pay2-8457 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8457','1010','0','','19627040','1','ln1491627040_8457367059','1000000001','1','1491627040','1863525018') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8457&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491627039868472

[ 2017-04-08T12:50:41+08:00 ] 58.211.2.12 /Pay/link?uid=8457&code=051PLl8c2p8wqR0X857c2uhH8c2PLl80&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000245s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000273s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081250415371d4b66f0433660730',`openid`='oLiX9wKj3fQOeaXntn6IgYU-OHDQ' WHERE ( orderid='ln1491627040_8457367059' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003239s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003262s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000124s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000142s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000406s ]
INFO: [ app_end ] --END-- [ RunTime:0.000428s ]

[ 2017-04-08T12:50:41+08:00 ] 58.211.2.12 /Pay/link?uid=8457&code=021NqBnl0psYhm1zx9ql0ketnl0NqBn2&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000221s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000238s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081250415371d4b66f0574330852',`openid`='oLiX9wKj3fQOeaXntn6IgYU-OHDQ' WHERE ( orderid='ln1491627040_8457367059' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000026s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000047s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003145s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003159s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000121s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000133s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000288s ]
INFO: [ app_end ] --END-- [ RunTime:0.000308s ]

[ 2017-04-08T12:50:46+08:00 ] 58.211.2.6 /Pay/link?uid=8457&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491627046611944
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000257s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627046611944' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491627046611944','ln1491627046611944','ln1491627046611944','1491627046','1491627046','8457','22222','22222','1','1491627046','0','21','180.153.81.212','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491627046611944' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8457 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8457","ref2_name":"1010","account":0,"username":"","uid":19627046,"sex":1,"openid":"ln1491627046611944","cps_app_id":"1000000001","reg_type":1,"reg_time":1491627046,"reg_ip":3029946836}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8457' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8457' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8457: reg:3 pay:1
DEBUG: reg--pay2-8457 randrate: 1.623
DEBUG: reg--pay2-8457 nowrate: 3
DEBUG: reg--pay2-8457 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8457','1010','0','','19627046','1','ln1491627046611944','1000000001','1','1491627046','3029946836') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8457&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491627046611944

[ 2017-04-08T12:50:50+08:00 ] 58.211.2.42 /Pay/link?uid=8457
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000204s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000269s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000286s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627050_8457595222' LIMIT 1   [ RunTime:0.0009s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491627050_8457595222','ln1491627050_8457595222','ln1491627050_8457595222','1491627050','1491627050','8457','22222','22222','1','1491627050','0','39','101.226.66.192','ceshi','1',NULL,'','') [ RunTime:0.0032s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491627050_8457595222' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8457 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8457","ref2_name":"1010","account":1,"username":"","uid":19627050,"sex":1,"openid":"ln1491627050_8457595222","cps_app_id":"1000000001","reg_type":1,"reg_time":1491627050,"reg_ip":1709327040}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8457' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8457' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay2-8457: reg:3 pay:1
DEBUG: reg--pay2-8457 randrate: 2.496
DEBUG: reg--pay2-8457 nowrate: 3
DEBUG: reg--pay2-8457 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8457','1010','0','','19627050','1','ln1491627050_8457595222','1000000001','1','1491627050','1709327040') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8457

[ 2017-04-08T12:50:50+08:00 ] 58.211.2.78 /Pay/link?uid=8457
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000202s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000240s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000260s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627050_8457862756' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491627050_8457862756','ln1491627050_8457862756','ln1491627050_8457862756','1491627050','1491627050','8457','22222','22222','1','1491627050','0','39','180.153.214.190','ceshi','1',NULL,'','') [ RunTime:0.0057s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491627050_8457862756' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8457 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8457","ref2_name":"1010","account":0,"username":"","uid":19627050,"sex":1,"openid":"ln1491627050_8457862756","cps_app_id":"1000000001","reg_type":1,"reg_time":1491627050,"reg_ip":3029980862}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8457' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8457' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay2-8457: reg:3 pay:1
DEBUG: reg--pay2-8457 randrate: 2.341
DEBUG: reg--pay2-8457 nowrate: 3
DEBUG: reg--pay2-8457 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8457','1010','0','','19627050','1','ln1491627050_8457862756','1000000001','1','1491627050','3029980862') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8457

[ 2017-04-08T12:50:50+08:00 ] 58.211.2.24 /Pay/link?uid=8457
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000245s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0056s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627050_8457828875' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491627050_8457828875','ln1491627050_8457828875','ln1491627050_8457828875','1491627050','1491627050','8457','22222','22222','1','1491627050','0','39','101.226.102.97','ceshi','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491627050_8457828875' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0012s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8457 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8457","ref2_name":"1010","account":1,"username":"","uid":19627050,"sex":1,"openid":"ln1491627050_8457828875","cps_app_id":"1000000001","reg_type":1,"reg_time":1491627050,"reg_ip":1709336161}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8457' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0009s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8457' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8457: reg:3 pay:1
DEBUG: reg--pay2-8457 randrate: 1.721
DEBUG: reg--pay2-8457 nowrate: 3
DEBUG: reg--pay2-8457 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8457','1010','0','','19627050','1','ln1491627050_8457828875','1000000001','1','1491627050','1709336161') [ RunTime:0.0006s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8457

[ 2017-04-08T12:50:50+08:00 ] 58.211.2.12 /Pay/link?uid=8457
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000285s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000303s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0008s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627050_845737502' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491627050_845737502','ln1491627050_845737502','ln1491627050_845737502','1491627050','1491627050','8457','22222','22222','1','1491627050','0','39','101.226.68.200','ceshi','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491627050_845737502' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0009s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8457 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8457","ref2_name":"1010","account":0,"username":"","uid":19627050,"sex":1,"openid":"ln1491627050_845737502","cps_app_id":"1000000001","reg_type":1,"reg_time":1491627050,"reg_ip":1709327560}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8457' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0015s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8457' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8457: reg:3 pay:1
DEBUG: reg--pay2-8457 randrate: 2.24
DEBUG: reg--pay2-8457 nowrate: 3
DEBUG: reg--pay2-8457 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8457','1010','0','','19627050','1','ln1491627050_845737502','1000000001','1','1491627050','1709327560') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8457

[ 2017-04-08T12:50:55+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000244s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000262s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627040_8457367059' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491627055',`transaction_id`='4000702001201704086278184433',`status`='1' WHERE `orderid` = 'ln1491627040_8457367059' [ RunTime:0.0007s ]
DEBUG: order: {"id":"5576","refid":"8457","prepayid":"wx201704081250415371d4b66f0574330852","orderid":"ln1491627040_8457367059","pay_orderid":"ln1491627040_8457367059","openid":"oLiX9wKj3fQOeaXntn6IgYU-OHDQ","uid":"1491627040","gid":"1","time":"1491627040","status":"0","money":"21","ip":"111.19.34.154","call_url":"http:\/\/www.wxasj.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 5576 LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491627040_8457367059' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8457 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: bili:1--22222 -- 2017-04-06 21:42:46
DEBUG: {"account":1,"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8457","ref2_name":"1010","uid":"ln1491627040_8457367059","username":"","cps_app_id":"1000000001","pay_serial":"ln1491627040_8457367059","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4000702001201704086278184433","pay_channel":"1","pay_amount":"21","pay_type":1,"pay_time":"1491627055","pay_time_ymd":"2017-04-08","pay_time_h":"12","pay_time_ymdh":"2017040812","pay_ip":"111.19.34.154"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8389','mrpei','8457','1010','ln1491627040_8457367059','','1000000001','ln1491627040_8457367059','22222','22222','4000702001201704086278184433','1','21','1','1491627055','2017-04-08','12','2017040812','111.19.34.154') [ RunTime:0.0005s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-08T12:51:01+08:00 ] 58.211.2.12 /Pay/link?type=jscall&orderid=ln1491627040_8457367059&isvip=ln1491627040_8457367059&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000231s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000281s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000300s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627040_8457367059' LIMIT 1   [ RunTime:0.0005s ]

[ 2017-04-08T12:51:10+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000209s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627040_8457367059' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491627055',`transaction_id`='4000702001201704086278184433',`status`='1' WHERE `orderid` = 'ln1491627040_8457367059' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000242s ]
INFO: [ app_end ] --END-- [ RunTime:0.000262s ]

[ 2017-04-08T12:51:17+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000249s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000270s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491619614282195' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491619621',`transaction_id`='4002882001201704086265142954',`status`='1' WHERE `orderid` = 'ln1491619614282195' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000258s ]
INFO: [ app_end ] --END-- [ RunTime:0.000286s ]

[ 2017-04-08T12:51:27+08:00 ] 101.71.55.85 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000226s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000244s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627040_8457367059' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491627055',`transaction_id`='4000702001201704086278184433',`status`='1' WHERE `orderid` = 'ln1491627040_8457367059' [ RunTime:0.0007s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000252s ]
INFO: [ app_end ] --END-- [ RunTime:0.000273s ]

[ 2017-04-08T12:51:58+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000193s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000251s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000270s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627040_8457367059' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491627055',`transaction_id`='4000702001201704086278184433',`status`='1' WHERE `orderid` = 'ln1491627040_8457367059' [ RunTime:0.0007s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000273s ]
INFO: [ app_end ] --END-- [ RunTime:0.000293s ]

[ 2017-04-08T12:52:10+08:00 ] 116.31.126.106 /Pay/link?uid=8471&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491627129492629
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000277s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000302s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627129492629' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491627129492629','ln1491627129492629','ln1491627129492629','1491627130','1491627130','8471','22222','22222','1','1491627130','0','25','112.96.106.237','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491627129492629' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8471 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8471","ref2_name":"1024","account":0,"username":"","uid":19627130,"sex":1,"openid":"ln1491627129492629","cps_app_id":"1000000001","reg_type":1,"reg_time":1491627130,"reg_ip":1885367021}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8471' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8471' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8471: reg:7 pay:5
DEBUG: reg--pay2-8471 randrate: 1.719
DEBUG: reg--pay2-8471 nowrate: 1.4
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8471','1024','0','','19627130','1','ln1491627129492629','1000000001','1','1491627130','1885367021') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8471&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491627129492629

[ 2017-04-08T12:52:10+08:00 ] 122.190.2.30 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000225s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000266s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000287s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000075s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000098s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000104s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000120s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000334s ]
INFO: [ app_end ] --END-- [ RunTime:0.000353s ]

[ 2017-04-08T12:52:10+08:00 ] 58.211.2.30 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000261s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000329s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000352s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000119s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000143s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000112s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000130s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000378s ]
INFO: [ app_end ] --END-- [ RunTime:0.000399s ]

[ 2017-04-08T12:52:10+08:00 ] 116.31.126.106 /Pay/link?uid=8471&code=051rn2Lw0raMqf1BKOKw0wWaLw0rn2LK&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408125210d019ce9ca80925479197',`openid`='oLiX9wMdo6v6FK_BuiZFY_gCADfI' WHERE ( orderid='ln1491627129492629' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003009s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003025s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000128s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000141s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000308s ]
INFO: [ app_end ] --END-- [ RunTime:0.000324s ]

[ 2017-04-08T12:52:12+08:00 ] 122.190.2.84 /Pay/link?uid=8471&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491627131804375
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000222s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000239s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627131804375' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491627131804375','ln1491627131804375','ln1491627131804375','1491627132','1491627132','8471','22222','22222','1','1491627132','0','21','120.198.29.83','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491627131804375' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8471 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8471","ref2_name":"1024","account":0,"username":"","uid":19627132,"sex":1,"openid":"ln1491627131804375","cps_app_id":"1000000001","reg_type":1,"reg_time":1491627132,"reg_ip":2026249555}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8471' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8471' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8471: reg:7 pay:5
DEBUG: reg--pay2-8471 randrate: 1.865
DEBUG: reg--pay2-8471 nowrate: 1.4
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8471','1024','0','','19627132','1','ln1491627131804375','1000000001','1','1491627132','2026249555') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8471&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491627131804375

[ 2017-04-08T12:52:13+08:00 ] 122.190.2.84 /Pay/link?uid=8471&code=041CC4iL0qUjE42NY4kL06OkiL0CC4i3&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000273s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000297s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408125213053242eb130033985984',`openid`='oLiX9wOzEwVGMqPmQh4Ng_u13QvM' WHERE ( orderid='ln1491627131804375' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002932s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002964s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000090s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000104s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000310s ]
INFO: [ app_end ] --END-- [ RunTime:0.000325s ]

[ 2017-04-08T12:52:17+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000183s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627129492629' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491627137',`transaction_id`='4007782001201704086282469716',`status`='1' WHERE `orderid` = 'ln1491627129492629' [ RunTime:0.0006s ]
DEBUG: order: {"id":"5582","refid":"8471","prepayid":"wx20170408125210d019ce9ca80925479197","orderid":"ln1491627129492629","pay_orderid":"ln1491627129492629","openid":"oLiX9wMdo6v6FK_BuiZFY_gCADfI","uid":"1491627130","gid":"1","time":"1491627130","status":"0","money":"25","ip":"112.96.106.237","call_url":"http:\/\/www.wxaso.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 5582 LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491627129492629' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8471 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: bili:1--22222 -- 2017-04-06 21:55:54
DEBUG: {"account":1,"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8471","ref2_name":"1024","uid":"ln1491627129492629","username":"","cps_app_id":"1000000001","pay_serial":"ln1491627129492629","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4007782001201704086282469716","pay_channel":"1","pay_amount":"25","pay_type":1,"pay_time":"1491627137","pay_time_ymd":"2017-04-08","pay_time_h":"12","pay_time_ymdh":"2017040812","pay_ip":"112.96.106.237"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8389','mrpei','8471','1024','ln1491627129492629','','1000000001','ln1491627129492629','22222','22222','4007782001201704086282469716','1','25','1','1491627137','2017-04-08','12','2017040812','112.96.106.237') [ RunTime:0.0005s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-08T12:52:25+08:00 ] 116.31.126.106 /Pay/link?type=jscall&orderid=ln1491627129492629&isvip=ln1491627129492629&uiver=&money=25&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000261s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000280s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627129492629' LIMIT 1   [ RunTime:0.0006s ]

[ 2017-04-08T12:52:32+08:00 ] 122.190.2.30 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000255s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000283s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627129492629' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491627137',`transaction_id`='4007782001201704086282469716',`status`='1' WHERE `orderid` = 'ln1491627129492629' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000274s ]
INFO: [ app_end ] --END-- [ RunTime:0.000295s ]

[ 2017-04-08T12:52:49+08:00 ] 122.190.2.12 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627129492629' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491627137',`transaction_id`='4007782001201704086282469716',`status`='1' WHERE `orderid` = 'ln1491627129492629' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000278s ]
INFO: [ app_end ] --END-- [ RunTime:0.000298s ]

[ 2017-04-08T12:52:50+08:00 ] 116.31.126.103 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491627170598008
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000249s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000266s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627170598008' LIMIT 1   [ RunTime:0.0008s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491627170598008','ln1491627170598008','ln1491627170598008','1491627170','1491627170','8478','22222','22222','1','1491627170','0','29','117.136.16.102','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491627170598008' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":1,"username":"","uid":19627170,"sex":1,"openid":"ln1491627170598008","cps_app_id":"1000000001","reg_type":1,"reg_time":1491627170,"reg_ip":1971851366}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
DEBUG: reg--pay2-8478: reg:34 pay:22
DEBUG: reg--pay2-8478 randrate: 1.922
DEBUG: reg--pay2-8478 nowrate: 1.5454545454545
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','1','','19627170','1','ln1491627170598008','1000000001','1','1491627170','1971851366') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491627170598008

[ 2017-04-08T12:52:51+08:00 ] 116.31.126.108 /Pay/link?uid=8478&code=051mEK4V0v1C7X1Elz4V08bO4V0mEK4J&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040812525171620dc2f20405876614',`openid`='oLiX9wKRW2mGhZZUw7679HI_3shs' WHERE ( orderid='ln1491627170598008' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003030s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003044s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000124s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000137s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000317s ]
INFO: [ app_end ] --END-- [ RunTime:0.000335s ]

[ 2017-04-08T12:52:52+08:00 ] 116.31.126.108 /Pay/link?uid=8478&code=0218Mjo62ngWXL0ZGsn62c4fo628Mjoy&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081252525a19985abf0594459695',`openid`='oLiX9wKRW2mGhZZUw7679HI_3shs' WHERE ( orderid='ln1491627170598008' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003156s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003170s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000115s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000132s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000420s ]
INFO: [ app_end ] --END-- [ RunTime:0.000436s ]

[ 2017-04-08T12:52:58+08:00 ] 116.31.126.108 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491627177471490
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000250s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000268s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627177471490' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491627177471490','ln1491627177471490','ln1491627177471490','1491627178','1491627178','8493','22222','22222','1','1491627178','0','23','223.74.113.247','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491627177471490' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19627178,"sex":1,"openid":"ln1491627177471490","cps_app_id":"1000000001","reg_type":1,"reg_time":1491627178,"reg_ip":3746198007,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8493: reg:42 pay:31
DEBUG: reg--pay1-8493 randrate: 1.726
DEBUG: reg--pay1-8493 nowrate: 1.3548387096774
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19627178','1','ln1491627177471490','1000000001','1','1491627178','3746198007','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491627177471490

[ 2017-04-08T12:52:58+08:00 ] 116.31.126.108 /Pay/link?uid=8493&code=031Uvzv22IUU111V8yu22emhv22UvzvN&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000226s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000243s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081252583822694c340277356137',`openid`='oLiX9wJpkLTZQUeGr4ynG13mQ7Jc' WHERE ( orderid='ln1491627177471490' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002704s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002727s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000148s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000162s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000292s ]
INFO: [ app_end ] --END-- [ RunTime:0.000307s ]

[ 2017-04-08T12:53:00+08:00 ] 58.211.2.120 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491627180619512
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627180619512' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491627180619512','ln1491627180619512','ln1491627180619512','1491627180','1491627180','8478','22222','22222','1','1491627180','0','29','101.226.33.201','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491627180619512' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":1,"username":"","uid":19627180,"sex":1,"openid":"ln1491627180619512","cps_app_id":"1000000001","reg_type":1,"reg_time":1491627180,"reg_ip":1709318601}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8478: reg:35 pay:22
DEBUG: reg--pay2-8478 randrate: 1.638
DEBUG: reg--pay2-8478 nowrate: 1.5909090909091
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','1','','19627180','1','ln1491627180619512','1000000001','1','1491627180','1709318601') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491627180619512

[ 2017-04-08T12:53:07+08:00 ] 58.211.2.42 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln149162718714504
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000238s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000256s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149162718714504' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149162718714504','ln149162718714504','ln149162718714504','1491627187','1491627187','8493','22222','22222','1','1491627187','0','23','101.226.66.172','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149162718714504' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19627187,"sex":1,"openid":"ln149162718714504","cps_app_id":"1000000001","reg_type":1,"reg_time":1491627187,"reg_ip":1709327020,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8493: reg:42 pay:31
DEBUG: reg--pay1-8493 randrate: 2.679
DEBUG: reg--pay1-8493 nowrate: 1.3548387096774
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19627187','1','ln149162718714504','1000000001','1','1491627187','1709327020','0') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln149162718714504

[ 2017-04-08T12:53:20+08:00 ] 122.190.2.12 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000206s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000246s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000266s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627129492629' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491627137',`transaction_id`='4007782001201704086282469716',`status`='1' WHERE `orderid` = 'ln1491627129492629' [ RunTime:0.0008s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000298s ]
INFO: [ app_end ] --END-- [ RunTime:0.000321s ]

[ 2017-04-08T12:53:55+08:00 ] 58.211.2.18 /Pay/link?uid=8471&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491627234721476
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000203s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000284s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000308s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627234721476' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491627234721476','ln1491627234721476','ln1491627234721476','1491627235','1491627235','8471','22222','22222','1','1491627235','0','39','223.104.19.130','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491627234721476' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8471 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8471","ref2_name":"1024","account":0,"username":"","uid":19627235,"sex":1,"openid":"ln1491627234721476","cps_app_id":"1000000001","reg_type":1,"reg_time":1491627235,"reg_ip":3748139906}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8471' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8471' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8471: reg:7 pay:6
DEBUG: reg--pay2-8471 randrate: 1.549
DEBUG: reg--pay2-8471 nowrate: 1.1666666666667
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8471','1024','0','','19627235','1','ln1491627234721476','1000000001','1','1491627235','3748139906') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8471&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491627234721476

[ 2017-04-08T12:53:56+08:00 ] 58.211.2.12 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000266s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000282s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000067s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000084s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000101s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000245s ]
INFO: [ app_end ] --END-- [ RunTime:0.000263s ]

[ 2017-04-08T12:53:56+08:00 ] 101.71.55.120 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000081s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000100s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000085s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000097s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000254s ]
INFO: [ app_end ] --END-- [ RunTime:0.000268s ]

[ 2017-04-08T12:53:56+08:00 ] 58.211.2.18 /Pay/link?uid=8471&code=011nA66Q0e5iT82D0x9Q0Y106Q0nA66l&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000250s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081253563a33f437170009414588',`openid`='oLiX9wA3eX5UDCwKGMFm4PyEgFHM' WHERE ( orderid='ln1491627234721476' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003082s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003097s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000116s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000133s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000301s ]
INFO: [ app_end ] --END-- [ RunTime:0.000317s ]

[ 2017-04-08T12:53:56+08:00 ] 58.211.2.18 /Pay/link?uid=8471&code=031Upad32PRZpK0fHxb321and32Upad8&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000262s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000284s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081253563a33f437170115201465',`openid`='oLiX9wA3eX5UDCwKGMFm4PyEgFHM' WHERE ( orderid='ln1491627234721476' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002922s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002938s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000104s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000117s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000296s ]
INFO: [ app_end ] --END-- [ RunTime:0.000312s ]

[ 2017-04-08T12:54:13+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000254s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491619787351816' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491619802',`transaction_id`='4002232001201704086265294004',`status`='1' WHERE `orderid` = 'ln1491619787351816' [ RunTime:0.0007s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000267s ]
INFO: [ app_end ] --END-- [ RunTime:0.000292s ]

[ 2017-04-08T12:54:23+08:00 ] 117.34.13.90 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000208s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000225s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000071s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000099s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000076s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000088s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000233s ]
INFO: [ app_end ] --END-- [ RunTime:0.000246s ]

[ 2017-04-08T12:54:23+08:00 ] 122.190.2.36 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000226s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000069s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000084s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000083s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000094s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000300s ]
INFO: [ app_end ] --END-- [ RunTime:0.000315s ]

[ 2017-04-08T12:54:23+08:00 ] 117.34.13.72 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491627262278699
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000162s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000236s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627262278699' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491627262278699','ln1491627262278699','ln1491627262278699','1491627263','1491627263','8478','22222','22222','1','1491627263','0','21','101.249.36.113','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491627262278699' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":0,"username":"","uid":19627263,"sex":1,"openid":"ln1491627262278699","cps_app_id":"1000000001","reg_type":1,"reg_time":1491627263,"reg_ip":1710826609}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8478: reg:36 pay:22
DEBUG: reg--pay2-8478 randrate: 2.235
DEBUG: reg--pay2-8478 nowrate: 1.6363636363636
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','0','','19627263','1','ln1491627262278699','1000000001','1','1491627263','1710826609') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491627262278699

[ 2017-04-08T12:54:24+08:00 ] 117.34.13.72 /Pay/link?uid=8478&code=03109qQd0uC7ly1rrHQd03zbQd009qQg&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000210s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000240s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000263s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081254249066b695d20355950948',`openid`='oLiX9wEG2hE_T0m3t8D4xirpiv-c' WHERE ( orderid='ln1491627262278699' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002965s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002981s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000089s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000101s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000281s ]
INFO: [ app_end ] --END-- [ RunTime:0.000297s ]

[ 2017-04-08T12:54:51+08:00 ] 58.211.2.12 /Pay/link?uid=8457&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491627291_8457130625
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000199s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000243s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000260s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627040_8457367059' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627291_8457130625' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491627291_8457130625','ln1491627291_8457130625','ln1491627291_8457130625','1491627291','1491627291','8457','22222','22222','1','1491627291','0','21','111.19.34.154','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491627291_8457130625' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8457 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8457","ref2_name":"1010","account":0,"username":"","uid":19627291,"sex":1,"openid":"ln1491627291_8457130625","cps_app_id":"1000000001","reg_type":1,"reg_time":1491627291,"reg_ip":1863525018}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8457' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8457' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8457: reg:3 pay:2
DEBUG: reg--pay2-8457 randrate: 2.144
DEBUG: reg--pay2-8457 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8457','1010','0','','19627291','1','ln1491627291_8457130625','1000000001','1','1491627291','1863525018') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8457&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491627290245788

[ 2017-04-08T12:54:52+08:00 ] 58.211.2.12 /Pay/link?uid=8457&code=011sILgb1vSYFr0QVYeb12hVgb1sILg3&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000259s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000363s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000392s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040812545267863c8aa30607337405',`openid`='oLiX9wKj3fQOeaXntn6IgYU-OHDQ' WHERE ( orderid='ln1491627291_8457130625' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003266s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003281s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000102s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000119s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000356s ]
INFO: [ app_end ] --END-- [ RunTime:0.000378s ]

[ 2017-04-08T12:54:52+08:00 ] 58.211.2.12 /Pay/link?uid=8457&code=0418xsJ00FK2gC1kstK00nwaJ008xsJW&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000222s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000239s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040812545267863c8aa30704801713',`openid`='oLiX9wKj3fQOeaXntn6IgYU-OHDQ' WHERE ( orderid='ln1491627291_8457130625' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003198s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003212s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000094s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000107s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000318s ]
INFO: [ app_end ] --END-- [ RunTime:0.000333s ]

[ 2017-04-08T12:55:02+08:00 ] 122.190.2.12 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000010s ]
INFO: [ app_init ] --END-- [ RunTime:0.000251s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000311s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000379s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627040_8457367059' AND `status` = 0 LIMIT 1   [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491627055',`transaction_id`='4000702001201704086278184433',`status`='1' WHERE `orderid` = 'ln1491627040_8457367059' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000417s ]
INFO: [ app_end ] --END-- [ RunTime:0.000445s ]

[ 2017-04-08T12:55:06+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000208s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000225s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627291_8457130625' AND `status` = 0 LIMIT 1   [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491627306',`transaction_id`='4000702001201704086282584274',`status`='1' WHERE `orderid` = 'ln1491627291_8457130625' [ RunTime:0.0006s ]
DEBUG: order: {"id":"5590","refid":"8457","prepayid":"wx2017040812545267863c8aa30704801713","orderid":"ln1491627291_8457130625","pay_orderid":"ln1491627291_8457130625","openid":"oLiX9wKj3fQOeaXntn6IgYU-OHDQ","uid":"1491627291","gid":"1","time":"1491627291","status":"0","money":"21","ip":"111.19.34.154","call_url":"http:\/\/www.wxaso.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 5590 LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491627291_8457130625' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8457 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: bili:1--22222 -- 2017-04-06 21:42:46
DEBUG: {"account":1,"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8457","ref2_name":"1010","uid":"ln1491627291_8457130625","username":"","cps_app_id":"1000000001","pay_serial":"ln1491627291_8457130625","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4000702001201704086282584274","pay_channel":"1","pay_amount":"21","pay_type":1,"pay_time":"1491627306","pay_time_ymd":"2017-04-08","pay_time_h":"12","pay_time_ymdh":"2017040812","pay_ip":"111.19.34.154"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8389','mrpei','8457','1010','ln1491627291_8457130625','','1000000001','ln1491627291_8457130625','22222','22222','4000702001201704086282584274','1','21','1','1491627306','2017-04-08','12','2017040812','111.19.34.154') [ RunTime:0.0005s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-08T12:55:11+08:00 ] 58.211.2.12 /Pay/link?type=jscall&orderid=ln1491627291_8457130625&isvip=ln1491627291_8457130625&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000218s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000235s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627291_8457130625' LIMIT 1   [ RunTime:0.0006s ]

[ 2017-04-08T12:55:16+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000201s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000223s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000246s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627291_8457130625' AND `status` = 0 LIMIT 1   [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491627306',`transaction_id`='4000702001201704086282584274',`status`='1' WHERE `orderid` = 'ln1491627291_8457130625' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000284s ]
INFO: [ app_end ] --END-- [ RunTime:0.000307s ]

[ 2017-04-08T12:55:30+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000279s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000299s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491623475818543' AND `status` = 0 LIMIT 1   [ RunTime:0.0004s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491623485',`transaction_id`='4005682001201704086270092752',`status`='1' WHERE `orderid` = 'ln1491623475818543' [ RunTime:0.0007s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000265s ]
INFO: [ app_end ] --END-- [ RunTime:0.000284s ]

[ 2017-04-08T12:55:32+08:00 ] 122.190.2.72 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000230s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000061s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000077s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000075s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000090s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000280s ]
INFO: [ app_end ] --END-- [ RunTime:0.000299s ]

[ 2017-04-08T12:55:32+08:00 ] 122.190.2.72 /Pay/%2525257B%2525257BimgSrc%2525257D%2525257D
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000313s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000333s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
ERR: 非法操作:%2525257B%2525257BimgSrc%2525257D%2525257D

[ 2017-04-08T12:55:32+08:00 ] 122.190.2.72 /Pay/link
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000251s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000268s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
NOTIC: [8] Undefined index: uid /data/www/pay/App/Index/Controller/PayController.class.php 第 141 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627332_870577' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: uid /data/www/pay/App/Index/Controller/PayController.class.php 第 633 行.
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491627332_870577','ln1491627332_870577','ln1491627332_870577','1491627332','1491627332',NULL,'22222','22222','1','1491627332','0','39','111.206.36.10','ceshi','1',NULL,'','') [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: uid /data/www/pay/App/Index/Controller/PayController.class.php 第 654 行.
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0013s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491627332_870577' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"account":0,"ref1_id":0,"ext":null,"username":"","uid":19627332,"sex":1,"openid":"ln1491627332_870577","cps_app_id":"1000000001","reg_type":1,"reg_time":1491627332,"reg_ip":1875780618,"ref2_id":0}
SQL: INSERT INTO `qw_register_log` (`account`,`ref1_id`,`ext`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('0','0',NULL,'','19627332','1','ln1491627332_870577','1000000001','1','1491627332','1875780618','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link

[ 2017-04-08T12:55:32+08:00 ] 122.190.2.72 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000239s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000257s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0014s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
ERR: Invalid request XML.

[ 2017-04-08T12:55:32+08:00 ] 122.190.2.72 /Pay/link/order/ln1490774533_276951
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000218s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000218s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0009s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
NOTIC: [8] Undefined index: uid /data/www/pay/App/Index/Controller/PayController.class.php 第 141 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0071s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627332_120307' LIMIT 1   [ RunTime:0.0008s ]
NOTIC: [8] Undefined index: uid /data/www/pay/App/Index/Controller/PayController.class.php 第 633 行.
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491627332_120307','ln1491627332_120307','ln1491627332_120307','1491627332','1491627332',NULL,'22222','22222','1','1491627332','0','39','111.206.36.139','ceshi','1',NULL,'','') [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: uid /data/www/pay/App/Index/Controller/PayController.class.php 第 654 行.
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491627332_120307' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"account":0,"ref1_id":0,"ext":null,"username":"","uid":19627332,"sex":1,"openid":"ln1491627332_120307","cps_app_id":"1000000001","reg_type":1,"reg_time":1491627332,"reg_ip":1875780747,"ref2_id":0}
SQL: INSERT INTO `qw_register_log` (`account`,`ref1_id`,`ext`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('0','0',NULL,'','19627332','1','ln1491627332_120307','1000000001','1','1491627332','1875780747','0') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link/order/ln1490774533_276951

[ 2017-04-08T12:55:33+08:00 ] 122.190.2.72 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000224s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000261s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000278s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
ERR: Invalid request XML.

[ 2017-04-08T12:55:33+08:00 ] 122.190.2.72 /Pay/%2525257B%2525257BimgSrc%2525257D%2525257D
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000208s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000256s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000275s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
ERR: 非法操作:%2525257B%2525257BimgSrc%2525257D%2525257D

[ 2017-04-08T12:55:33+08:00 ] 122.190.2.72 /Pay/link/order/ln1490774533_276951
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000219s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000232s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
NOTIC: [8] Undefined index: uid /data/www/pay/App/Index/Controller/PayController.class.php 第 141 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627333_453517' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: uid /data/www/pay/App/Index/Controller/PayController.class.php 第 633 行.
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491627333_453517','ln1491627333_453517','ln1491627333_453517','1491627333','1491627333',NULL,'22222','22222','1','1491627333','0','39','111.206.36.8','ceshi','1',NULL,'','') [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: uid /data/www/pay/App/Index/Controller/PayController.class.php 第 654 行.
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491627333_453517' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"account":0,"ref1_id":0,"ext":null,"username":"","uid":19627333,"sex":1,"openid":"ln1491627333_453517","cps_app_id":"1000000001","reg_type":1,"reg_time":1491627333,"reg_ip":1875780616,"ref2_id":0}
SQL: INSERT INTO `qw_register_log` (`account`,`ref1_id`,`ext`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('0','0',NULL,'','19627333','1','ln1491627333_453517','1000000001','1','1491627333','1875780616','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link/order/ln1490774533_276951

[ 2017-04-08T12:55:33+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000267s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000286s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627291_8457130625' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491627306',`transaction_id`='4000702001201704086282584274',`status`='1' WHERE `orderid` = 'ln1491627291_8457130625' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000251s ]
INFO: [ app_end ] --END-- [ RunTime:0.000271s ]

[ 2017-04-08T12:56:04+08:00 ] 122.190.2.12 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000256s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627291_8457130625' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491627306',`transaction_id`='4000702001201704086282584274',`status`='1' WHERE `orderid` = 'ln1491627291_8457130625' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000274s ]
INFO: [ app_end ] --END-- [ RunTime:0.000295s ]

[ 2017-04-08T12:56:19+08:00 ] 122.190.2.12 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000014s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000241s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0011s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491619922_8449163966' AND `status` = 0 LIMIT 1   [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491619928',`transaction_id`='4007262001201704086266587345',`status`='1' WHERE `orderid` = 'ln1491619922_8449163966' [ RunTime:0.0007s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000251s ]
INFO: [ app_end ] --END-- [ RunTime:0.000272s ]

[ 2017-04-08T12:56:22+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000183s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000224s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000245s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627129492629' AND `status` = 0 LIMIT 1   [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491627137',`transaction_id`='4007782001201704086282469716',`status`='1' WHERE `orderid` = 'ln1491627129492629' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000255s ]
INFO: [ app_end ] --END-- [ RunTime:0.000278s ]

[ 2017-04-08T12:56:31+08:00 ] 122.190.2.66 /Pay/%2525257B%2525257BimgSrc%2525257D%2525257D
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000243s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000262s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
ERR: 非法操作:%2525257B%2525257BimgSrc%2525257D%2525257D

[ 2017-04-08T12:56:31+08:00 ] 122.190.2.66 /Pay/link/order/ln1490774533_276951
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
NOTIC: [8] Undefined index: uid /data/www/pay/App/Index/Controller/PayController.class.php 第 141 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627391_823021' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: uid /data/www/pay/App/Index/Controller/PayController.class.php 第 633 行.
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491627391_823021','ln1491627391_823021','ln1491627391_823021','1491627391','1491627391',NULL,'22222','22222','1','1491627391','0','39','61.135.190.198','ceshi','1',NULL,'','') [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: uid /data/www/pay/App/Index/Controller/PayController.class.php 第 654 行.
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491627391_823021' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"account":0,"ref1_id":0,"ext":null,"username":"","uid":19627391,"sex":1,"openid":"ln1491627391_823021","cps_app_id":"1000000001","reg_type":1,"reg_time":1491627391,"reg_ip":1032306374,"ref2_id":0}
SQL: INSERT INTO `qw_register_log` (`account`,`ref1_id`,`ext`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('0','0',NULL,'','19627391','1','ln1491627391_823021','1000000001','1','1491627391','1032306374','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link/order/ln1490774533_276951

[ 2017-04-08T12:56:51+08:00 ] 122.190.2.66 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000174s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000257s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
ERR: Invalid request XML.

[ 2017-04-08T12:56:57+08:00 ] 122.190.2.66 /Pay/link
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000240s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000260s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
NOTIC: [8] Undefined index: uid /data/www/pay/App/Index/Controller/PayController.class.php 第 141 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627417_753528' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: uid /data/www/pay/App/Index/Controller/PayController.class.php 第 633 行.
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491627417_753528','ln1491627417_753528','ln1491627417_753528','1491627417','1491627417',NULL,'22222','22222','1','1491627417','0','39','61.135.190.198','ceshi','1',NULL,'','') [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: uid /data/www/pay/App/Index/Controller/PayController.class.php 第 654 行.
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491627417_753528' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"account":0,"ref1_id":0,"ext":null,"username":"","uid":19627417,"sex":1,"openid":"ln1491627417_753528","cps_app_id":"1000000001","reg_type":1,"reg_time":1491627417,"reg_ip":1032306374,"ref2_id":0}
SQL: INSERT INTO `qw_register_log` (`account`,`ref1_id`,`ext`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('0','0',NULL,'','19627417','1','ln1491627417_753528','1000000001','1','1491627417','1032306374','0') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link

[ 2017-04-08T12:57:02+08:00 ] 122.190.2.66 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000193s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000254s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000077s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000099s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000097s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000111s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000266s ]
INFO: [ app_end ] --END-- [ RunTime:0.000281s ]

[ 2017-04-08T12:57:20+08:00 ] 58.211.2.96 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491627439699112
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000214s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000241s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000259s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627439699112' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491627439699112','ln1491627439699112','ln1491627439699112','1491627440','1491627440','8493','22222','22222','1','1491627440','0','21','183.214.25.35','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491627439699112' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19627440,"sex":1,"openid":"ln1491627439699112","cps_app_id":"1000000001","reg_type":1,"reg_time":1491627440,"reg_ip":3084261667,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8493: reg:42 pay:31
DEBUG: reg--pay1-8493 randrate: 3.277
DEBUG: reg--pay1-8493 nowrate: 1.3548387096774
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19627440','1','ln1491627439699112','1000000001','1','1491627440','3084261667','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491627439699112

[ 2017-04-08T12:57:21+08:00 ] 58.211.2.96 /Pay/link?uid=8493&code=041mSaqR0QV88c2vTIoR0ha1qR0mSaqH&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000232s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0011s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081257216be923fb620201736177',`openid`='oLiX9wCjcyV6ehj_FIGNEQZBfsKw' WHERE ( orderid='ln1491627439699112' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003500s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003517s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000103s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000117s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000287s ]
INFO: [ app_end ] --END-- [ RunTime:0.000311s ]

[ 2017-04-08T12:57:24+08:00 ] 58.211.2.96 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491627444_8493796571
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000243s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000260s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627439699112' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627444_8493796571' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491627444_8493796571','ln1491627444_8493796571','ln1491627444_8493796571','1491627444','1491627444','8493','22222','22222','1','1491627444','0','21','183.214.25.35','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491627444_8493796571' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19627444,"sex":1,"openid":"ln1491627444_8493796571","cps_app_id":"1000000001","reg_type":1,"reg_time":1491627444,"reg_ip":3084261667,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8493: reg:42 pay:31
DEBUG: reg--pay1-8493 randrate: 2.998
DEBUG: reg--pay1-8493 nowrate: 1.3548387096774
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19627444','1','ln1491627444_8493796571','1000000001','1','1491627444','3084261667','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491627443273752

[ 2017-04-08T12:57:24+08:00 ] 58.211.2.96 /Pay/link?uid=8493&code=041wAGEu1wSiJa0zRBFu1hbKEu1wAGEj&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000260s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000279s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081257248ac80595400496710101',`openid`='oLiX9wCjcyV6ehj_FIGNEQZBfsKw' WHERE ( orderid='ln1491627444_8493796571' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000034s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000051s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002953s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002970s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000094s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000107s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000332s ]
INFO: [ app_end ] --END-- [ RunTime:0.000349s ]

[ 2017-04-08T12:57:25+08:00 ] 58.211.2.96 /Pay/link?uid=8493&code=051kPR8y1OwLVd0Jv78y1WJR8y1kPR8T&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000323s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000347s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081257252f42f60f210669914909',`openid`='oLiX9wCjcyV6ehj_FIGNEQZBfsKw' WHERE ( orderid='ln1491627444_8493796571' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002880s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002894s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000118s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000132s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000276s ]
INFO: [ app_end ] --END-- [ RunTime:0.000290s ]

[ 2017-04-08T12:57:57+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000197s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000250s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000268s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491616410633533' AND `status` = 0 LIMIT 1   [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491616419',`transaction_id`='4009862001201704086258934728',`status`='1' WHERE `orderid` = 'ln1491616410633533' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000258s ]
INFO: [ app_end ] --END-- [ RunTime:0.000277s ]

[ 2017-04-08T12:58:00+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000218s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000236s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491616415561783' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491616432',`transaction_id`='4005592001201704086255939262',`status`='1' WHERE `orderid` = 'ln1491616415561783' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000293s ]
INFO: [ app_end ] --END-- [ RunTime:0.000314s ]

[ 2017-04-08T12:58:39+08:00 ] 117.34.13.96 /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491627518981701
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000201s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000224s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000242s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627518981701' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491627518981701','ln1491627518981701','ln1491627518981701','1491627519','1491627519','8407','22222','22222','1','1491627519','0','23','61.158.148.6','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491627518981701' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8407 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8407","ref1_name":"\u5c0f\u4e54","account":0,"username":"","uid":19627519,"sex":1,"openid":"ln1491627518981701","cps_app_id":"1000000001","reg_type":1,"reg_time":1491627519,"reg_ip":1033802758,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8407' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8407' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8407: reg:5 pay:5
DEBUG: reg--pay1-8407 randrate: 1.622
DEBUG: reg--pay1-8407 nowrate: 1
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8407','小乔','0','','19627519','1','ln1491627518981701','1000000001','1','1491627519','1033802758','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8407&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491627518981701

[ 2017-04-08T12:58:39+08:00 ] 117.34.13.96 /Pay/link?uid=8407&code=021KfynZ1ZfMkX0hpzoZ1R5tnZ1Kfynd&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000239s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000258s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081258397479acce290841316220',`openid`='oLiX9wIfPoG1PUT81tYDIKpGbi84' WHERE ( orderid='ln1491627518981701' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000033s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000056s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.004259s ]
INFO: [ view_parse ] --END-- [ RunTime:0.004293s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000138s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000155s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000403s ]
INFO: [ app_end ] --END-- [ RunTime:0.000423s ]

[ 2017-04-08T12:59:07+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000197s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000249s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000268s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627291_8457130625' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491627306',`transaction_id`='4000702001201704086282584274',`status`='1' WHERE `orderid` = 'ln1491627291_8457130625' [ RunTime:0.0007s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000286s ]
INFO: [ app_end ] --END-- [ RunTime:0.000312s ]

[ 2017-04-08T12:59:16+08:00 ] 122.190.2.42 /Pay/link?uid=8469&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491627555532593
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000174s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000251s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000272s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627555532593' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491627555532593','ln1491627555532593','ln1491627555532593','1491627556','1491627556','8469','22222','22222','1','1491627556','0','23','171.116.73.37','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491627555532593' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8469 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8469","ref2_name":"1022","account":0,"username":"","uid":19627556,"sex":1,"openid":"ln1491627555532593","cps_app_id":"1000000001","reg_type":1,"reg_time":1491627556,"reg_ip":2876524837}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8469' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8469' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8469: reg:3 pay:2
DEBUG: reg--pay2-8469 randrate: 2.2
DEBUG: reg--pay2-8469 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8469','1022','0','','19627556','1','ln1491627555532593','1000000001','1','1491627556','2876524837') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8469&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491627555532593

[ 2017-04-08T12:59:19+08:00 ] 117.34.13.96 /Pay/link?uid=8469&code=011e31390Sy4WJ1TLq4906U4390e313d&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000221s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000259s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000277s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040812591979aa58debb0978801693',`openid`='oLiX9wNJ6KNc2u_PkSYxrJaQXX0M' WHERE ( orderid='ln1491627555532593' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000028s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000045s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002939s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002953s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000104s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000116s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000270s ]
INFO: [ app_end ] --END-- [ RunTime:0.000286s ]

[ 2017-04-08T12:59:19+08:00 ] 117.34.13.96 /Pay/link?uid=8469&code=00199L2p0fnhAr1F2p0p0rxz2p099L2D&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000193s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040812591979aa58debb0068714991',`openid`='oLiX9wNJ6KNc2u_PkSYxrJaQXX0M' WHERE ( orderid='ln1491627555532593' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003200s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003217s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000105s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000120s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000310s ]
INFO: [ app_end ] --END-- [ RunTime:0.000326s ]

[ 2017-04-08T12:59:19+08:00 ] 117.34.13.96 /Pay/link?uid=8469&code=051DUok721qn7N0qEPh72Fwfk72DUok6&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000255s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040812591979aa58debb0793322152',`openid`='oLiX9wNJ6KNc2u_PkSYxrJaQXX0M' WHERE ( orderid='ln1491627555532593' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000064s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003053s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003067s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000107s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000121s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000289s ]
INFO: [ app_end ] --END-- [ RunTime:0.000307s ]

[ 2017-04-08T12:59:25+08:00 ] 101.71.55.130 /Pay/link?uid=8469&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491627565897521
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000244s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000265s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627565897521' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491627565897521','ln1491627565897521','ln1491627565897521','1491627565','1491627565','8469','22222','22222','1','1491627565','0','23','140.207.185.111','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491627565897521' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8469 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8469","ref2_name":"1022","account":0,"username":"","uid":19627565,"sex":1,"openid":"ln1491627565897521","cps_app_id":"1000000001","reg_type":1,"reg_time":1491627565,"reg_ip":2362423663}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8469' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8469' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8469: reg:3 pay:2
DEBUG: reg--pay2-8469 randrate: 1.516
DEBUG: reg--pay2-8469 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8469','1022','0','','19627565','1','ln1491627565897521','1000000001','1','1491627565','2362423663') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8469&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491627565897521

[ 2017-04-08T13:00:16+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000260s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000280s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491621959790567' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491621970',`transaction_id`='4001982001201704086269290484',`status`='1' WHERE `orderid` = 'ln1491621959790567' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000265s ]
INFO: [ app_end ] --END-- [ RunTime:0.000289s ]

[ 2017-04-08T13:00:32+08:00 ] 58.211.2.108 /Pay/link?uid=8448&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491627631263045
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627631263045' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491627631263045','ln1491627631263045','ln1491627631263045','1491627632','1491627632','8448','22222','22222','1','1491627632','0','23','58.217.180.193','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491627631263045' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0009s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8448 ) LIMIT 1   [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0007s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8448","ref2_name":"1001","account":0,"username":"","uid":19627632,"sex":1,"openid":"ln1491627631263045","cps_app_id":"1000000001","reg_type":1,"reg_time":1491627632,"reg_ip":987346113}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8448' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0012s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0009s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8448' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8448: reg:8 pay:5
DEBUG: reg--pay2-8448 randrate: 1.899
DEBUG: reg--pay2-8448 nowrate: 1.6
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8448','1001','0','','19627632','1','ln1491627631263045','1000000001','1','1491627632','987346113') [ RunTime:0.0006s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8448&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491627631263045

[ 2017-04-08T13:00:32+08:00 ] 58.211.2.108 /Pay/link?uid=8448&code=021phBo811TaQS1GRwp81G5No81phBox&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000230s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0011s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408130032b19780e8f60901031974',`openid`='oLiX9wEf9LrTrlAIMzWziGqHJU7U' WHERE ( orderid='ln1491627631263045' ) [ RunTime:0.0009s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000040s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003016s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003030s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000099s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000111s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000294s ]
INFO: [ app_end ] --END-- [ RunTime:0.000328s ]

[ 2017-04-08T13:00:40+08:00 ] 101.71.55.130 /Pay/link?uid=8448&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491627640800442
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000195s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000240s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000259s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627640800442' LIMIT 1   [ RunTime:0.0013s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491627640800442','ln1491627640800442','ln1491627640800442','1491627640','1491627640','8448','22222','22222','1','1491627640','0','23','140.207.185.109','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491627640800442' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8448 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8448","ref2_name":"1001","account":1,"username":"","uid":19627640,"sex":1,"openid":"ln1491627640800442","cps_app_id":"1000000001","reg_type":1,"reg_time":1491627640,"reg_ip":2362423661}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8448' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8448' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8448: reg:8 pay:5
DEBUG: reg--pay2-8448 randrate: 2.419
DEBUG: reg--pay2-8448 nowrate: 1.6
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8448','1001','1','','19627640','1','ln1491627640800442','1000000001','1','1491627640','2362423661') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8448&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491627640800442

[ 2017-04-08T13:00:47+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000232s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000283s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000304s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491625596_8448521239' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491625605',`transaction_id`='4006762001201704086280363516',`status`='1' WHERE `orderid` = 'ln1491625596_8448521239' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000289s ]
INFO: [ app_end ] --END-- [ RunTime:0.000310s ]

[ 2017-04-08T13:00:49+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491623788973788' AND `status` = 0 LIMIT 1   [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491623803',`transaction_id`='4007362001201704086273353074',`status`='1' WHERE `orderid` = 'ln1491623788973788' [ RunTime:0.0007s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000291s ]
INFO: [ app_end ] --END-- [ RunTime:0.000313s ]

[ 2017-04-08T13:01:14+08:00 ] 122.190.2.18 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491627673267247
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000258s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000276s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627673267247' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491627673267247','ln1491627673267247','ln1491627673267247','1491627674','1491627674','8493','22222','22222','1','1491627674','0','25','123.11.166.145','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491627673267247' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19627674,"sex":1,"openid":"ln1491627673267247","cps_app_id":"1000000001","reg_type":1,"reg_time":1491627674,"reg_ip":2064361105,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8493: reg:42 pay:31
DEBUG: reg--pay1-8493 randrate: 3.496
DEBUG: reg--pay1-8493 nowrate: 1.3548387096774
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19627674','1','ln1491627673267247','1000000001','1','1491627674','2064361105','0') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491627673267247

[ 2017-04-08T13:01:14+08:00 ] 122.190.2.18 /Pay/link?uid=8493&code=0314jDxi0smmAk1lyfyi0i7Sxi04jDxK&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000253s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000270s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408130114a264676ace0873229369',`openid`='oLiX9wHiQKUaav8g3aHYVnO19C9A' WHERE ( orderid='ln1491627673267247' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002908s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002924s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000098s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000111s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000284s ]
INFO: [ app_end ] --END-- [ RunTime:0.000298s ]

[ 2017-04-08T13:02:05+08:00 ] 117.34.13.96 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491627724575057
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000226s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000283s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000311s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627724575057' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491627724575057','ln1491627724575057','ln1491627724575057','1491627725','1491627725','8478','22222','22222','1','1491627725','0','25','110.153.77.228','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491627724575057' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":0,"username":"","uid":19627725,"sex":1,"openid":"ln1491627724575057","cps_app_id":"1000000001","reg_type":1,"reg_time":1491627725,"reg_ip":1855540708}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8478: reg:36 pay:22
DEBUG: reg--pay2-8478 randrate: 2.253
DEBUG: reg--pay2-8478 nowrate: 1.6363636363636
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','0','','19627725','1','ln1491627724575057','1000000001','1','1491627725','1855540708') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491627724575057

[ 2017-04-08T13:02:06+08:00 ] 117.34.13.96 /Pay/link?uid=8478&code=051Gl05M1loKH11Rlo6M1CPW4M1Gl05S&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000225s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000261s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000282s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081302067dbf2383de0593869009',`openid`='oLiX9wGWdNAcDtSY04jWOpweP4H0' WHERE ( orderid='ln1491627724575057' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003251s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003399s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000101s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000113s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000341s ]
INFO: [ app_end ] --END-- [ RunTime:0.000359s ]

[ 2017-04-08T13:02:22+08:00 ] 58.211.2.18 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491627741809790
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000221s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000239s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627741809790' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491627741809790','ln1491627741809790','ln1491627741809790','1491627742','1491627742','8493','22222','22222','1','1491627742','0','32','36.5.129.74','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491627741809790' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19627742,"sex":1,"openid":"ln1491627741809790","cps_app_id":"1000000001","reg_type":1,"reg_time":1491627742,"reg_ip":604340554,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8493: reg:42 pay:31
DEBUG: reg--pay1-8493 randrate: 2.376
DEBUG: reg--pay1-8493 nowrate: 1.3548387096774
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19627742','1','ln1491627741809790','1000000001','1','1491627742','604340554','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491627741809790

[ 2017-04-08T13:02:22+08:00 ] 58.211.2.18 /Pay/link?uid=8493&code=021pD0dl2p8NkI05MAdl2aPWcl2pD0d2&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000235s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000257s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040813022223d83b87200698407013',`openid`='oLiX9wJ6YobujnogX5gorsiudbiw' WHERE ( orderid='ln1491627741809790' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000032s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000052s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002942s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002959s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000111s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000124s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000322s ]
INFO: [ app_end ] --END-- [ RunTime:0.000338s ]

[ 2017-04-08T13:03:24+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491616740159725' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491616754',`transaction_id`='4005452001201704086261017020',`status`='1' WHERE `orderid` = 'ln1491616740159725' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000265s ]
INFO: [ app_end ] --END-- [ RunTime:0.000285s ]

[ 2017-04-08T13:03:36+08:00 ] 117.34.13.96 /Pay/link?uid=8466&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln149162781667323
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000209s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000255s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149162781667323' LIMIT 1   [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149162781667323','ln149162781667323','ln149162781667323','1491627816','1491627816','8466','22222','22222','1','1491627816','0','32','27.206.98.209','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149162781667323' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0009s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8466 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8466","ref2_name":"1019","account":0,"username":"","uid":19627816,"sex":1,"openid":"ln149162781667323","cps_app_id":"1000000001","reg_type":1,"reg_time":1491627816,"reg_ip":466510545}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8466' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0011s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8466' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8466: reg:1 pay:1
DEBUG: reg--pay2-8466 randrate: 1.925
DEBUG: reg--pay2-8466 nowrate: 1
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8466','1019','0','','19627816','1','ln149162781667323','1000000001','1','1491627816','466510545') [ RunTime:0.0006s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8466&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln149162781667323

[ 2017-04-08T13:03:37+08:00 ] 122.190.2.6 /Pay/link?uid=8466&code=031vZWwT0TTl5U1vCHwT0uWWwT0vZWw9&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408130337973ccbfbbf0941767171',`openid`='oLiX9wLpEQ1wvN71o7xJ5y36i0KA' WHERE ( orderid='ln149162781667323' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000026s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000045s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002894s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002913s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000104s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000131s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000353s ]
INFO: [ app_end ] --END-- [ RunTime:0.000373s ]

[ 2017-04-08T13:03:38+08:00 ] 117.34.13.96 /Pay/link?uid=8466&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491627818_8466509052
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000311s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000333s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149162781667323' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627818_8466509052' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491627818_8466509052','ln1491627818_8466509052','ln1491627818_8466509052','1491627818','1491627818','8466','22222','22222','1','1491627818','0','32','27.206.98.209','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491627818_8466509052' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0011s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8466 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8466","ref2_name":"1019","account":0,"username":"","uid":19627818,"sex":1,"openid":"ln1491627818_8466509052","cps_app_id":"1000000001","reg_type":1,"reg_time":1491627818,"reg_ip":466510545}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8466' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8466' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8466: reg:1 pay:1
DEBUG: reg--pay2-8466 randrate: 2.071
DEBUG: reg--pay2-8466 nowrate: 1
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8466','1019','0','','19627818','1','ln1491627818_8466509052','1000000001','1','1491627818','466510545') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8466&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491627817551155

[ 2017-04-08T13:03:39+08:00 ] 122.190.2.12 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491627818207016
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000239s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000349s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000373s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627818207016' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491627818207016','ln1491627818207016','ln1491627818207016','1491627819','1491627819','8493','22222','22222','1','1491627819','0','23','116.2.81.90','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491627818207016' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19627819,"sex":1,"openid":"ln1491627818207016","cps_app_id":"1000000001","reg_type":1,"reg_time":1491627819,"reg_ip":1946308954,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8493: reg:42 pay:31
DEBUG: reg--pay1-8493 randrate: 3.321
DEBUG: reg--pay1-8493 nowrate: 1.3548387096774
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19627819','1','ln1491627818207016','1000000001','1','1491627819','1946308954','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491627818207016

[ 2017-04-08T13:03:39+08:00 ] 117.34.13.96 /Pay/link?uid=8466&code=041Zk5yc1qmHFs0Hdgzc1UF5yc1Zk5yg&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000241s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000258s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408130339ca0b6b8fd90808141159',`openid`='oLiX9wLpEQ1wvN71o7xJ5y36i0KA' WHERE ( orderid='ln1491627818_8466509052' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002949s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002963s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000105s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000118s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000282s ]
INFO: [ app_end ] --END-- [ RunTime:0.000298s ]

[ 2017-04-08T13:03:40+08:00 ] 117.34.13.96 /Pay/link?uid=8466&code=001qAZ4r1RcKFp0Jpp4r1suM4r1qAZ46&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000197s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408130340607b2ce0df0800730105',`openid`='oLiX9wLpEQ1wvN71o7xJ5y36i0KA' WHERE ( orderid='ln1491627818_8466509052' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000032s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000056s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.004376s ]
INFO: [ view_parse ] --END-- [ RunTime:0.004399s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000121s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000140s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000455s ]
INFO: [ app_end ] --END-- [ RunTime:0.000479s ]

[ 2017-04-08T13:03:40+08:00 ] 117.34.13.36 /Pay/link?uid=8493&code=021KzhK21J3SbN1HIQL21RHuK21KzhKX&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000255s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000274s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0012s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408130340607b2ce0df0428382306',`openid`='oLiX9wAHweYvk3Zovtcn_O2PTi4A' WHERE ( orderid='ln1491627818207016' ) [ RunTime:0.0011s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003353s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003371s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000119s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000138s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000344s ]
INFO: [ app_end ] --END-- [ RunTime:0.000363s ]

[ 2017-04-08T13:03:40+08:00 ] 122.190.2.6 /Pay/link?uid=8466&code=021DdNy11NZf722UFQw11s9Sy11DdNyK&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000235s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408130340607b2ce0df0485031954',`openid`='oLiX9wLpEQ1wvN71o7xJ5y36i0KA' WHERE ( orderid='ln1491627818_8466509052' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002920s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002935s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000136s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000153s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000280s ]
INFO: [ app_end ] --END-- [ RunTime:0.000299s ]

[ 2017-04-08T13:03:46+08:00 ] 58.211.2.138 /Pay/link?uid=8466&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491627826147407
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000225s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000242s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627826147407' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491627826147407','ln1491627826147407','ln1491627826147407','1491627826','1491627826','8466','22222','22222','1','1491627826','0','32','180.163.2.118','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491627826147407' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0009s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8466 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8466","ref2_name":"1019","account":0,"username":"","uid":19627826,"sex":1,"openid":"ln1491627826147407","cps_app_id":"1000000001","reg_type":1,"reg_time":1491627826,"reg_ip":3030581878}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8466' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0013s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8466' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8466: reg:1 pay:1
DEBUG: reg--pay2-8466 randrate: 2.067
DEBUG: reg--pay2-8466 nowrate: 1
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8466','1019','0','','19627826','1','ln1491627826147407','1000000001','1','1491627826','3030581878') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8466&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491627826147407

[ 2017-04-08T13:03:56+08:00 ] 122.190.2.6 /Pay/link?uid=8466&code=021hGUln1hwErm0cHQmn1gHTln1hGUlD&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000196s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408130356d091f972dc0987993623',`openid`='oLiX9wLpEQ1wvN71o7xJ5y36i0KA' WHERE ( orderid='ln1491627818_8466509052' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002814s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002828s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000095s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000107s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000301s ]
INFO: [ app_end ] --END-- [ RunTime:0.000317s ]

[ 2017-04-08T13:03:57+08:00 ] 117.34.13.96 /Pay/link?uid=8466&code=051Yttfi2IBMIG02ZPgi2GXqfi2YttfM&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000250s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081303578f47cac7f00807404482',`openid`='oLiX9wLpEQ1wvN71o7xJ5y36i0KA' WHERE ( orderid='ln1491627818_8466509052' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002846s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002861s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000102s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000114s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000261s ]
INFO: [ app_end ] --END-- [ RunTime:0.000285s ]

[ 2017-04-08T13:04:32+08:00 ] 122.190.2.72 /Pay/link?uid=8447&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491627871670226
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627871670226' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491627871670226','ln1491627871670226','ln1491627871670226','1491627872','1491627872','8447','22222','22222','1','1491627872','0','21','123.149.2.129','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491627871670226' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8447 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8447","ref2_name":"\u82b1","account":0,"username":"","uid":19627872,"sex":1,"openid":"ln1491627871670226","cps_app_id":"1000000001","reg_type":1,"reg_time":1491627872,"reg_ip":2073363073}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8447' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8447' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8447: reg:5 pay:3
DEBUG: reg--pay2-8447 randrate: 1.827
DEBUG: reg--pay2-8447 nowrate: 1.6666666666667
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8447','花','0','','19627872','1','ln1491627871670226','1000000001','1','1491627872','2073363073') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8447&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491627871670226

[ 2017-04-08T13:04:33+08:00 ] 117.34.13.36 /Pay/link?uid=8447&code=001IBT4c1icZkt0D3Y2c1z9e5c1IBT4n&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000404s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000426s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0013s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081304339f9a2695a30229462705',`openid`='oLiX9wPUwpnnLn8KmVAp91rweJAs' WHERE ( orderid='ln1491627871670226' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002958s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002983s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000099s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000285s ]
INFO: [ app_end ] --END-- [ RunTime:0.000304s ]

[ 2017-04-08T13:04:33+08:00 ] 122.190.2.72 /Pay/link?uid=8447&code=0411p6622vujt11nly222EGL5221p66P&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081304339f9a2695a30616164366',`openid`='oLiX9wPUwpnnLn8KmVAp91rweJAs' WHERE ( orderid='ln1491627871670226' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002945s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002960s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000119s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000132s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000283s ]
INFO: [ app_end ] --END-- [ RunTime:0.000299s ]

[ 2017-04-08T13:05:08+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000206s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000245s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000265s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491616839978960' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491616852',`transaction_id`='4003582001201704086261038283',`status`='1' WHERE `orderid` = 'ln1491616839978960' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000265s ]
INFO: [ app_end ] --END-- [ RunTime:0.000287s ]

[ 2017-04-08T13:05:22+08:00 ] 101.71.55.90 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491627921552103
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000232s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000250s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627921552103' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491627921552103','ln1491627921552103','ln1491627921552103','1491627922','1491627922','8493','22222','22222','1','1491627922','0','29','112.17.243.28','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491627921552103' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":1,"username":"","uid":19627922,"sex":1,"openid":"ln1491627921552103","cps_app_id":"1000000001","reg_type":1,"reg_time":1491627922,"reg_ip":1880224540,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0012s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8493: reg:42 pay:31
DEBUG: reg--pay1-8493 randrate: 2.817
DEBUG: reg--pay1-8493 nowrate: 1.3548387096774
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','1','','19627922','1','ln1491627921552103','1000000001','1','1491627922','1880224540','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=29&orderid=ln1491627921552103

[ 2017-04-08T13:05:22+08:00 ] 101.71.55.90 /Pay/link?uid=8493&code=051duqTk2jQINI0lLrSk2dTbTk2duqTa&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000327s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000307s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000330s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040813052212925ef1b20288812207',`openid`='oLiX9wGDsk8v_1ix_zEM1zYY4u4c' WHERE ( orderid='ln1491627921552103' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003106s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003128s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000118s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000131s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000304s ]
INFO: [ app_end ] --END-- [ RunTime:0.000319s ]

[ 2017-04-08T13:05:23+08:00 ] 101.71.55.90 /Pay/link?uid=8493&code=011Zc6PG1ttZm50GZdRG18frPG1Zc6Pr&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000204s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000237s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000255s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040813052384968e7c170818287000',`openid`='oLiX9wGDsk8v_1ix_zEM1zYY4u4c' WHERE ( orderid='ln1491627921552103' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000040s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002789s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002804s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000129s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000142s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000277s ]
INFO: [ app_end ] --END-- [ RunTime:0.000291s ]

[ 2017-04-08T13:05:24+08:00 ] 101.71.55.90 /favicon.ico
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000245s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.

[ 2017-04-08T13:05:30+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000222s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000243s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491624078_8490561947' AND `status` = 0 LIMIT 1   [ RunTime:0.0004s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491624085',`transaction_id`='4007612001201704086276439425',`status`='1' WHERE `orderid` = 'ln1491624078_8490561947' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000254s ]
INFO: [ app_end ] --END-- [ RunTime:0.000274s ]

[ 2017-04-08T13:06:23+08:00 ] 122.190.2.18 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491627982461437
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000254s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000271s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627982461437' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491627982461437','ln1491627982461437','ln1491627982461437','1491627983','1491627983','8478','22222','22222','1','1491627983','0','21','60.4.42.171','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491627982461437' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":0,"username":"","uid":19627983,"sex":1,"openid":"ln1491627982461437","cps_app_id":"1000000001","reg_type":1,"reg_time":1491627983,"reg_ip":1006906027}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8478: reg:36 pay:22
DEBUG: reg--pay2-8478 randrate: 2.466
DEBUG: reg--pay2-8478 nowrate: 1.6363636363636
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','0','','19627983','1','ln1491627982461437','1000000001','1','1491627983','1006906027') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491627982461437

[ 2017-04-08T13:06:24+08:00 ] 122.190.2.18 /Pay/link?uid=8478&code=021uJK7w0LqOVf1OVu8w0BJJ7w0uJK7P&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000201s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000223s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000244s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081306237e92f7bd440862663613',`openid`='oLiX9wK6VTeVMDkGl5N46eonCXjM' WHERE ( orderid='ln1491627982461437' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000032s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000056s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003142s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003157s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000129s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000143s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000280s ]
INFO: [ app_end ] --END-- [ RunTime:0.000302s ]

[ 2017-04-08T13:06:32+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000248s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000266s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627982461437' AND `status` = 0 LIMIT 1   [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491627992',`transaction_id`='4000322001201704086283014652',`status`='1' WHERE `orderid` = 'ln1491627982461437' [ RunTime:0.0008s ]
DEBUG: order: {"id":"5612","refid":"8478","prepayid":"wx201704081306237e92f7bd440862663613","orderid":"ln1491627982461437","pay_orderid":"ln1491627982461437","openid":"oLiX9wK6VTeVMDkGl5N46eonCXjM","uid":"1491627983","gid":"1","time":"1491627983","status":"0","money":"21","ip":"60.4.42.171","call_url":"http:\/\/www.wxaso.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 5612 LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491627982461437' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: bili:1--22222 -- 2017-04-06 22:14:26
DEBUG: {"account":1,"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","uid":"ln1491627982461437","username":"","cps_app_id":"1000000001","pay_serial":"ln1491627982461437","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4000322001201704086283014652","pay_channel":"1","pay_amount":"21","pay_type":1,"pay_time":"1491627992","pay_time_ymd":"2017-04-08","pay_time_h":"13","pay_time_ymdh":"2017040813","pay_ip":"60.4.42.171"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8389','mrpei','8478','1031','ln1491627982461437','','1000000001','ln1491627982461437','22222','22222','4000322001201704086283014652','1','21','1','1491627992','2017-04-08','13','2017040813','60.4.42.171') [ RunTime:0.0005s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-08T13:06:38+08:00 ] 122.190.2.18 /Pay/link?type=jscall&orderid=ln1491627982461437&isvip=ln1491627982461437&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000225s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000242s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627982461437' LIMIT 1   [ RunTime:0.0006s ]

[ 2017-04-08T13:06:45+08:00 ] 122.190.2.12 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000245s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000266s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627982461437' AND `status` = 0 LIMIT 1   [ RunTime:0.0004s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491627992',`transaction_id`='4000322001201704086283014652',`status`='1' WHERE `orderid` = 'ln1491627982461437' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000255s ]
INFO: [ app_end ] --END-- [ RunTime:0.000275s ]

[ 2017-04-08T13:07:03+08:00 ] 117.34.13.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000232s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627982461437' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491627992',`transaction_id`='4000322001201704086283014652',`status`='1' WHERE `orderid` = 'ln1491627982461437' [ RunTime:0.0007s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000252s ]
INFO: [ app_end ] --END-- [ RunTime:0.000272s ]

[ 2017-04-08T13:07:12+08:00 ] 122.190.2.30 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000266s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000283s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000062s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000077s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000070s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000081s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000270s ]
INFO: [ app_end ] --END-- [ RunTime:0.000285s ]

[ 2017-04-08T13:07:12+08:00 ] 58.211.2.84 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000230s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000063s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000078s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000085s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000097s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000279s ]
INFO: [ app_end ] --END-- [ RunTime:0.000293s ]

[ 2017-04-08T13:07:12+08:00 ] 116.31.126.152 /Pay/link?uid=8471&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491628032500780
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000196s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000222s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000239s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491628032500780' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491628032500780','ln1491628032500780','ln1491628032500780','1491628032','1491628032','8471','22222','22222','1','1491628032','0','23','223.104.24.168','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491628032500780' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8471 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8471","ref2_name":"1024","account":0,"username":"","uid":19628032,"sex":1,"openid":"ln1491628032500780","cps_app_id":"1000000001","reg_type":1,"reg_time":1491628032,"reg_ip":3748141224}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8471' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8471' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8471: reg:7 pay:6
DEBUG: reg--pay2-8471 randrate: 2
DEBUG: reg--pay2-8471 nowrate: 1.1666666666667
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8471','1024','0','','19628032','1','ln1491628032500780','1000000001','1','1491628032','3748141224') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8471&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491628032500780

[ 2017-04-08T13:07:13+08:00 ] 116.31.126.152 /Pay/link?uid=8471&code=041WFnr91tOjPR16ohr91Cv1r91WFnrO&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000253s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000273s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081307132dafe98d580311043032',`openid`='oLiX9wDuP29PbYJWOBML0FghfByk' WHERE ( orderid='ln1491628032500780' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003198s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003213s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000102s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000114s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000328s ]
INFO: [ app_end ] --END-- [ RunTime:0.000345s ]

[ 2017-04-08T13:07:15+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000226s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000244s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491616938121026' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491616977',`transaction_id`='4005082001201704086257995430',`status`='1' WHERE `orderid` = 'ln1491616938121026' [ RunTime:0.0007s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000298s ]
INFO: [ app_end ] --END-- [ RunTime:0.000322s ]

[ 2017-04-08T13:07:34+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000013s ]
INFO: [ app_init ] --END-- [ RunTime:0.000217s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000246s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000269s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627982461437' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491627992',`transaction_id`='4000322001201704086283014652',`status`='1' WHERE `orderid` = 'ln1491627982461437' [ RunTime:0.0007s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000276s ]
INFO: [ app_end ] --END-- [ RunTime:0.000297s ]

[ 2017-04-08T13:09:31+08:00 ] 58.211.2.96 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491628170918981
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000215s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491628170918981' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491628170918981','ln1491628170918981','ln1491628170918981','1491628171','1491628171','8478','22222','22222','1','1491628171','0','23','112.17.243.200','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491628170918981' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":1,"username":"","uid":19628171,"sex":1,"openid":"ln1491628170918981","cps_app_id":"1000000001","reg_type":1,"reg_time":1491628171,"reg_ip":1880224712}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8478: reg:36 pay:23
DEBUG: reg--pay2-8478 randrate: 2.382
DEBUG: reg--pay2-8478 nowrate: 1.5652173913043
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','1','','19628171','1','ln1491628170918981','1000000001','1','1491628171','1880224712') [ RunTime:0.0008s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491628170918981

[ 2017-04-08T13:09:31+08:00 ] 58.211.2.36 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000221s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000238s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000069s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000087s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000074s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000086s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000234s ]
INFO: [ app_end ] --END-- [ RunTime:0.000248s ]

[ 2017-04-08T13:09:31+08:00 ] 101.71.55.85 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000059s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000074s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000069s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000081s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000273s ]
INFO: [ app_end ] --END-- [ RunTime:0.000288s ]

[ 2017-04-08T13:09:32+08:00 ] 58.211.2.96 /Pay/link?uid=8478&code=051yWTLl0pWX1o19MjLl03QDLl0yWTLA&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000222s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000241s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408130932ceb7d120020187071609',`openid`='oLiX9wEgzj8gwOjriRC7IBlZJ07M' WHERE ( orderid='ln1491628170918981' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000030s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000053s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003125s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003144s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000103s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000126s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000323s ]
INFO: [ app_end ] --END-- [ RunTime:0.000338s ]

[ 2017-04-08T13:09:32+08:00 ] 58.211.2.84 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491628171417962
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491628171417962' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491628171417962','ln1491628171417962','ln1491628171417962','1491628172','1491628172','8478','22222','22222','1','1491628172','0','21','117.136.0.244','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491628171417962' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":1,"username":"","uid":19628172,"sex":1,"openid":"ln1491628171417962","cps_app_id":"1000000001","reg_type":1,"reg_time":1491628172,"reg_ip":1971847412}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8478: reg:37 pay:23
DEBUG: reg--pay2-8478 randrate: 2.297
DEBUG: reg--pay2-8478 nowrate: 1.6086956521739
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','1','','19628172','1','ln1491628171417962','1000000001','1','1491628172','1971847412') [ RunTime:0.0006s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491628171417962

[ 2017-04-08T13:09:33+08:00 ] 58.211.2.84 /Pay/link?uid=8478&code=0412y8lw0OatRf1TXmjw0CnMkw02y8lF&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000192s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040813093378e6cbe8c30963170450',`openid`='oLiX9wHhWi555gx_oCQYAoePeR4E' WHERE ( orderid='ln1491628171417962' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000033s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000053s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002917s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002933s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000098s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000110s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000270s ]
INFO: [ app_end ] --END-- [ RunTime:0.000288s ]

[ 2017-04-08T13:10:32+08:00 ] 116.31.126.107 /Pay/link?uid=8451&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491628232407397
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000204s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000288s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000306s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491628232407397' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491628232407397','ln1491628232407397','ln1491628232407397','1491628232','1491628232','8451','22222','22222','1','1491628232','0','39','182.91.210.103','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491628232407397' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8451 ) LIMIT 1   [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8451","ref2_name":"1004","account":1,"username":"","uid":19628232,"sex":1,"openid":"ln1491628232407397","cps_app_id":"1000000001","reg_type":1,"reg_time":1491628232,"reg_ip":3059470951}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8451' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8451' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8451: reg:6 pay:5
DEBUG: reg--pay2-8451 randrate: 2.042
DEBUG: reg--pay2-8451 nowrate: 1.2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8451','1004','1','','19628232','1','ln1491628232407397','1000000001','1','1491628232','3059470951') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8451&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491628232407397

[ 2017-04-08T13:10:33+08:00 ] 116.31.126.106 /Pay/link?uid=8451&code=051yJ6Xw0OrBoh1PKEYw04NOWw0yJ6Xp&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000196s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000229s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000246s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408131033c99e7aff640738567793',`openid`='oLiX9wL2ruZP6DY5uwXWpvWBFbUg' WHERE ( orderid='ln1491628232407397' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000040s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000062s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003168s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003189s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000110s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000125s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000260s ]
INFO: [ app_end ] --END-- [ RunTime:0.000285s ]

[ 2017-04-08T13:10:35+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000197s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000223s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000241s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627982461437' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491627992',`transaction_id`='4000322001201704086283014652',`status`='1' WHERE `orderid` = 'ln1491627982461437' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000295s ]
INFO: [ app_end ] --END-- [ RunTime:0.000318s ]

[ 2017-04-08T13:11:17+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000201s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000223s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000243s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491622612678303' AND `status` = 0 LIMIT 1   [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491622624',`transaction_id`='4001082001201704086272689430',`status`='1' WHERE `orderid` = 'ln1491622612678303' [ RunTime:0.0008s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000270s ]
INFO: [ app_end ] --END-- [ RunTime:0.000294s ]

[ 2017-04-08T13:11:24+08:00 ] 116.31.126.107 /Pay/link?uid=8490&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491628284794358
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000243s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000338s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000361s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0010s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491628284794358' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491628284794358','ln1491628284794358','ln1491628284794358','1491628284','1491628284','8490','22222','22222','1','1491628284','0','21','119.137.87.15','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491628284794358' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8490 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay-data: {"ref1_id":"8490","ref1_name":"\u6606","account":1,"username":"","uid":19628284,"sex":1,"openid":"ln1491628284794358","cps_app_id":"1000000001","reg_type":1,"reg_time":1491628284,"reg_ip":2005489423,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8490' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8490' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8490: reg:8 pay:5
DEBUG: reg--pay1-8490 randrate: 3.033
DEBUG: reg--pay1-8490 nowrate: 1.6
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8490','昆','1','','19628284','1','ln1491628284794358','1000000001','1','1491628284','2005489423','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8490&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491628284794358

[ 2017-04-08T13:11:25+08:00 ] 116.31.126.107 /Pay/link?uid=8490&code=051Zy4bT0n3jAU1oJf9T0RTPaT0Zy4bU&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040813112501750f89110642541908',`openid`='oLiX9wC6g4prAjt1Xea4BT_L4YjM' WHERE ( orderid='ln1491628284794358' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002939s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002953s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000104s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000118s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000316s ]
INFO: [ app_end ] --END-- [ RunTime:0.000332s ]

[ 2017-04-08T13:11:26+08:00 ] 116.31.126.102 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000215s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000229s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491622626648230' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491622635',`transaction_id`='4005342001201704086270709713',`status`='1' WHERE `orderid` = 'ln1491622626648230' [ RunTime:0.0007s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000290s ]
INFO: [ app_end ] --END-- [ RunTime:0.000313s ]

[ 2017-04-08T13:11:59+08:00 ] 58.211.2.84 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491628319_8478551341
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491628171417962' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491628319_8478551341' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491628319_8478551341','ln1491628319_8478551341','ln1491628319_8478551341','1491628319','1491628319','8478','22222','22222','1','1491628319','0','21','117.136.0.244','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491628319_8478551341' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":0,"username":"","uid":19628319,"sex":1,"openid":"ln1491628319_8478551341","cps_app_id":"1000000001","reg_type":1,"reg_time":1491628319,"reg_ip":1971847412}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8478: reg:38 pay:23
DEBUG: reg--pay2-8478 randrate: 1.588
DEBUG: reg--pay2-8478 nowrate: 1.6521739130435
DEBUG: reg--pay2-8478 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','0','','19628319','1','ln1491628319_8478551341','1000000001','1','1491628319','1971847412') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491628318678464

[ 2017-04-08T13:11:59+08:00 ] 58.211.2.84 /Pay/link?uid=8478&code=021H13Ic2MN7YA0H7qGc2ctIHc2H13IX&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000201s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000255s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081311596b7ff540c40330298125',`openid`='oLiX9wHhWi555gx_oCQYAoePeR4E' WHERE ( orderid='ln1491628319_8478551341' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002906s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002926s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000127s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000141s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000303s ]
INFO: [ app_end ] --END-- [ RunTime:0.000318s ]

[ 2017-04-08T13:12:06+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000195s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000257s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491628319_8478551341' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491628326',`transaction_id`='4002642001201704086281870262',`status`='1' WHERE `orderid` = 'ln1491628319_8478551341' [ RunTime:0.0007s ]
DEBUG: order: {"id":"5618","refid":"8478","prepayid":"wx201704081311596b7ff540c40330298125","orderid":"ln1491628319_8478551341","pay_orderid":"ln1491628319_8478551341","openid":"oLiX9wHhWi555gx_oCQYAoePeR4E","uid":"1491628319","gid":"1","time":"1491628319","status":"0","money":"21","ip":"117.136.0.244","call_url":"http:\/\/www.wxasj.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 5618 LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491628319_8478551341' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: bili:1--22222 -- 2017-04-06 22:14:26
DEBUG: {"account":1,"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","uid":"ln1491628319_8478551341","username":"","cps_app_id":"1000000001","pay_serial":"ln1491628319_8478551341","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4002642001201704086281870262","pay_channel":"1","pay_amount":"21","pay_type":1,"pay_time":"1491628326","pay_time_ymd":"2017-04-08","pay_time_h":"13","pay_time_ymdh":"2017040813","pay_ip":"117.136.0.244"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8389','mrpei','8478','1031','ln1491628319_8478551341','','1000000001','ln1491628319_8478551341','22222','22222','4002642001201704086281870262','1','21','1','1491628326','2017-04-08','13','2017040813','117.136.0.244') [ RunTime:0.0005s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-08T13:12:11+08:00 ] 58.211.2.84 /Pay/link?type=jscall&orderid=ln1491628319_8478551341&isvip=ln1491628319_8478551341&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000194s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491628319_8478551341' LIMIT 1   [ RunTime:0.0005s ]

[ 2017-04-08T13:12:20+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000238s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491628319_8478551341' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491628326',`transaction_id`='4002642001201704086281870262',`status`='1' WHERE `orderid` = 'ln1491628319_8478551341' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000272s ]
INFO: [ app_end ] --END-- [ RunTime:0.000293s ]

[ 2017-04-08T13:12:21+08:00 ] 58.211.2.42 /Pay/link?type=jscall&orderid=ln1491628319_8478551341&isvip=ln1491628319_8478551341&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000224s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000242s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491628319_8478551341' LIMIT 1   [ RunTime:0.0005s ]

[ 2017-04-08T13:12:23+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000198s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000216s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491620884_8469701759' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491620889',`transaction_id`='4002352001201704086265806654',`status`='1' WHERE `orderid` = 'ln1491620884_8469701759' [ RunTime:0.0007s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000247s ]
INFO: [ app_end ] --END-- [ RunTime:0.000269s ]

[ 2017-04-08T13:12:25+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000249s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000271s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0009s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149161728514388' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491617293',`transaction_id`='4000042001201704086261226112',`status`='1' WHERE `orderid` = 'ln149161728514388' [ RunTime:0.0007s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000268s ]
INFO: [ app_end ] --END-- [ RunTime:0.000288s ]

[ 2017-04-08T13:12:37+08:00 ] 117.34.13.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000209s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491628319_8478551341' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491628326',`transaction_id`='4002642001201704086281870262',`status`='1' WHERE `orderid` = 'ln1491628319_8478551341' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000259s ]
INFO: [ app_end ] --END-- [ RunTime:0.000280s ]

[ 2017-04-08T13:12:45+08:00 ] 58.211.2.84 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491628365_8478397755
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000217s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000239s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000257s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491628319_8478551341' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491628365_8478397755' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491628365_8478397755','ln1491628365_8478397755','ln1491628365_8478397755','1491628365','1491628365','8478','22222','22222','1','1491628365','0','21','117.136.0.244','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491628365_8478397755' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":0,"username":"","uid":19628365,"sex":1,"openid":"ln1491628365_8478397755","cps_app_id":"1000000001","reg_type":1,"reg_time":1491628365,"reg_ip":1971847412}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0011s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8478: reg:38 pay:24
DEBUG: reg--pay2-8478 randrate: 1.72
DEBUG: reg--pay2-8478 nowrate: 1.5833333333333
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','0','','19628365','1','ln1491628365_8478397755','1000000001','1','1491628365','1971847412') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491628365563358

[ 2017-04-08T13:12:46+08:00 ] 58.211.2.84 /Pay/link?uid=8478&code=041e9VMx0IhRwg13IYMx0AhRMx0e9VMf&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000199s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000242s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000260s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081312469a29b0f09d0576553296',`openid`='oLiX9wHhWi555gx_oCQYAoePeR4E' WHERE ( orderid='ln1491628365_8478397755' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000040s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002800s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002815s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000113s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000127s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000268s ]
INFO: [ app_end ] --END-- [ RunTime:0.000283s ]

[ 2017-04-08T13:12:51+08:00 ] 58.211.2.96 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491628370289934
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000235s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491628370289934' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491628370289934','ln1491628370289934','ln1491628370289934','1491628371','1491628371','8478','22222','22222','1','1491628371','0','21','117.136.45.220','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491628370289934' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":0,"username":"","uid":19628371,"sex":1,"openid":"ln1491628370289934","cps_app_id":"1000000001","reg_type":1,"reg_time":1491628371,"reg_ip":1971858908}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8478: reg:38 pay:24
DEBUG: reg--pay2-8478 randrate: 1.981
DEBUG: reg--pay2-8478 nowrate: 1.5833333333333
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','0','','19628371','1','ln1491628370289934','1000000001','1','1491628371','1971858908') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491628370289934

[ 2017-04-08T13:12:52+08:00 ] 58.211.2.96 /Pay/link?uid=8478&code=041y2hWj2DjylH0r5XXj2DGeWj2y2hWb&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000241s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000259s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408131252f269f48d490880371558',`openid`='oLiX9wEmSOlsX8goXQJHUBso4lC8' WHERE ( orderid='ln1491628370289934' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002890s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002904s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000122s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000135s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000259s ]
INFO: [ app_end ] --END-- [ RunTime:0.000275s ]

[ 2017-04-08T13:13:08+08:00 ] 101.71.55.85 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000235s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491628319_8478551341' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491628326',`transaction_id`='4002642001201704086281870262',`status`='1' WHERE `orderid` = 'ln1491628319_8478551341' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000260s ]
INFO: [ app_end ] --END-- [ RunTime:0.000281s ]

[ 2017-04-08T13:14:53+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000251s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491617429206608' AND `status` = 0 LIMIT 1   [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491617440',`transaction_id`='4002052001201704086259376370',`status`='1' WHERE `orderid` = 'ln1491617429206608' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000289s ]
INFO: [ app_end ] --END-- [ RunTime:0.000312s ]

[ 2017-04-08T13:14:59+08:00 ] 58.211.2.36 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491628498579613
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491628498579613' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491628498579613','ln1491628498579613','ln1491628498579613','1491628499','1491628499','8478','22222','22222','1','1491628499','0','23','117.136.50.203','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491628498579613' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":0,"username":"","uid":19628499,"sex":1,"openid":"ln1491628498579613","cps_app_id":"1000000001","reg_type":1,"reg_time":1491628499,"reg_ip":1971860171}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0012s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8478: reg:38 pay:24
DEBUG: reg--pay2-8478 randrate: 2.049
DEBUG: reg--pay2-8478 nowrate: 1.5833333333333
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','0','','19628499','1','ln1491628498579613','1000000001','1','1491628499','1971860171') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491628498579613

[ 2017-04-08T13:14:59+08:00 ] 58.211.2.36 /Pay/link?uid=8478&code=051axPq429XPDL039Yq42Kppq42axPqF&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000221s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000242s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040813145990d80d7a020578527671',`openid`='oLiX9wOIx_ZS_7YaQ2rC2dubiSHI' WHERE ( orderid='ln1491628498579613' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002818s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002832s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000101s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000114s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000454s ]
INFO: [ app_end ] --END-- [ RunTime:0.000477s ]

[ 2017-04-08T13:15:39+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000193s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000221s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000239s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491622849486180' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491622887',`transaction_id`='4006272001201704086269761318',`status`='1' WHERE `orderid` = 'ln1491622849486180' [ RunTime:0.0007s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000261s ]
INFO: [ app_end ] --END-- [ RunTime:0.000281s ]

[ 2017-04-08T13:16:11+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000194s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000266s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000285s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491628319_8478551341' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491628326',`transaction_id`='4002642001201704086281870262',`status`='1' WHERE `orderid` = 'ln1491628319_8478551341' [ RunTime:0.0007s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000267s ]
INFO: [ app_end ] --END-- [ RunTime:0.000290s ]

[ 2017-04-08T13:16:12+08:00 ] 58.211.2.96 /Pay/link?uid=8499&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491628571128296
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000198s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491628571128296' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491628571128296','ln1491628571128296','ln1491628571128296','1491628572','1491628572','8499','22222','22222','1','1491628572','0','32','117.136.45.184','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491628571128296' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8499 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8398 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8398","ref1_name":"\u4fca","ref2_id":"8499","ref2_name":"\u767d\u96ea","account":0,"username":"","uid":19628572,"sex":1,"openid":"ln1491628571128296","cps_app_id":"1000000001","reg_type":1,"reg_time":1491628572,"reg_ip":1971858872}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8499' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8499' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8499: reg:9 pay:7
DEBUG: reg--pay2-8499 randrate: 2.227
DEBUG: reg--pay2-8499 nowrate: 1.2857142857143
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8398','俊','8499','白雪','0','','19628572','1','ln1491628571128296','1000000001','1','1491628572','1971858872') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8499&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491628571128296

[ 2017-04-08T13:16:13+08:00 ] 58.211.2.96 /Pay/link?uid=8499&code=011RfBEf0DyVEy1n3yFf0FubEf0RfBE5&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000218s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000239s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408131613df5f78df140558456641',`openid`='oLiX9wEtOohfoc88YtQ_dyWV0xBo' WHERE ( orderid='ln1491628571128296' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002796s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002812s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000097s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000113s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000269s ]
INFO: [ app_end ] --END-- [ RunTime:0.000305s ]

[ 2017-04-08T13:16:13+08:00 ] 58.211.2.96 /Pay/link?uid=8499&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491628573_8499410191
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491628571128296' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491628573_8499410191' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491628573_8499410191','ln1491628573_8499410191','ln1491628573_8499410191','1491628573','1491628573','8499','22222','22222','1','1491628573','0','32','117.136.45.184','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491628573_8499410191' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8499 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8398 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8398","ref1_name":"\u4fca","ref2_id":"8499","ref2_name":"\u767d\u96ea","account":0,"username":"","uid":19628573,"sex":1,"openid":"ln1491628573_8499410191","cps_app_id":"1000000001","reg_type":1,"reg_time":1491628573,"reg_ip":1971858872}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8499' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8499' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8499: reg:9 pay:7
DEBUG: reg--pay2-8499 randrate: 2.058
DEBUG: reg--pay2-8499 nowrate: 1.2857142857143
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8398','俊','8499','白雪','0','','19628573','1','ln1491628573_8499410191','1000000001','1','1491628573','1971858872') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8499&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491628572915849

[ 2017-04-08T13:16:14+08:00 ] 58.211.2.96 /Pay/link?uid=8499&code=0316YKKi1L2siA0Of4Ii1XZOKi16YKK5&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000232s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040813161417c67e00b60895017501',`openid`='oLiX9wEtOohfoc88YtQ_dyWV0xBo' WHERE ( orderid='ln1491628573_8499410191' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002954s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002972s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000117s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000131s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000292s ]
INFO: [ app_end ] --END-- [ RunTime:0.000309s ]

[ 2017-04-08T13:16:14+08:00 ] 58.211.2.96 /Pay/link?uid=8499&code=021OwuWa1nylcs0W8lTa1L9zWa1OwuWm&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040813161417c67e00b60755802977',`openid`='oLiX9wEtOohfoc88YtQ_dyWV0xBo' WHERE ( orderid='ln1491628573_8499410191' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002924s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002939s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000100s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000112s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000297s ]
INFO: [ app_end ] --END-- [ RunTime:0.000312s ]

[ 2017-04-08T13:16:21+08:00 ] 58.211.2.12 /Pay/link?uid=8499&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln149162858160279
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000251s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149162858160279' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149162858160279','ln149162858160279','ln149162858160279','1491628581','1491628581','8499','22222','22222','1','1491628581','0','32','101.226.99.196','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149162858160279' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8499 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8398 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8398","ref1_name":"\u4fca","ref2_id":"8499","ref2_name":"\u767d\u96ea","account":1,"username":"","uid":19628581,"sex":1,"openid":"ln149162858160279","cps_app_id":"1000000001","reg_type":1,"reg_time":1491628581,"reg_ip":1709335492}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8499' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8499' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8499: reg:9 pay:7
DEBUG: reg--pay2-8499 randrate: 2.441
DEBUG: reg--pay2-8499 nowrate: 1.2857142857143
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8398','俊','8499','白雪','1','','19628581','1','ln149162858160279','1000000001','1','1491628581','1709335492') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8499&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln149162858160279

[ 2017-04-08T13:16:58+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000224s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000304s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000327s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491624759_849350526' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491624766',`transaction_id`='4002662001201704086273901404',`status`='1' WHERE `orderid` = 'ln1491624759_849350526' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000277s ]
INFO: [ app_end ] --END-- [ RunTime:0.000306s ]

[ 2017-04-08T13:17:20+08:00 ] 58.211.2.24 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491628639565080
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491628639565080' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491628639565080','ln1491628639565080','ln1491628639565080','1491628640','1491628640','8493','22222','22222','1','1491628640','0','21','113.57.29.9','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491628639565080' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":1,"username":"","uid":19628640,"sex":1,"openid":"ln1491628639565080","cps_app_id":"1000000001","reg_type":1,"reg_time":1491628640,"reg_ip":1899568393,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8493: reg:43 pay:31
DEBUG: reg--pay1-8493 randrate: 2.869
DEBUG: reg--pay1-8493 nowrate: 1.3870967741935
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','1','','19628640','1','ln1491628639565080','1000000001','1','1491628640','1899568393','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491628639565080

[ 2017-04-08T13:17:20+08:00 ] 58.211.2.24 /Pay/link?uid=8493&code=021KMYw4060YpF1zaRv40seNw40KMYwZ&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000178s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000225s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000242s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040813172082e94972a30271493263',`openid`='oLiX9wJ03g8Ima-so49iiqKiaoRA' WHERE ( orderid='ln1491628639565080' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000032s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000049s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002977s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002996s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000100s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000113s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000276s ]
INFO: [ app_end ] --END-- [ RunTime:0.000295s ]

[ 2017-04-08T13:17:54+08:00 ] 117.34.13.36 /Pay/link?uid=8499&code=021OwuWa1nylcs0W8lTa1L9zWa1OwuWm&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 718 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 738 行.
NOTIC: [8] Undefined variable: prepayId /data/www/pay/App/Index/Controller/PayController.class.php 第 749 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 751 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000035s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000071s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003110s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003131s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000120s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000133s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000288s ]
INFO: [ app_end ] --END-- [ RunTime:0.000308s ]

[ 2017-04-08T13:18:12+08:00 ] 117.34.13.72 /Pay/link?uid=8499&code=021OwuWa1nylcs0W8lTa1L9zWa1OwuWm&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000251s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000269s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 718 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 738 行.
NOTIC: [8] Undefined variable: prepayId /data/www/pay/App/Index/Controller/PayController.class.php 第 749 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 751 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000046s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003692s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003711s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000129s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000142s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000270s ]
INFO: [ app_end ] --END-- [ RunTime:0.000285s ]

[ 2017-04-08T13:19:18+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491617700_8499601838' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491617710',`transaction_id`='4003502001201704086264315448',`status`='1' WHERE `orderid` = 'ln1491617700_8499601838' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000301s ]
INFO: [ app_end ] --END-- [ RunTime:0.000322s ]

[ 2017-04-08T13:19:25+08:00 ] 122.190.2.24 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491628765569751
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000245s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000262s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491628765569751' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491628765569751','ln1491628765569751','ln1491628765569751','1491628765','1491628765','8478','22222','22222','1','1491628765','0','21','124.166.200.209','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491628765569751' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":0,"username":"","uid":19628765,"sex":1,"openid":"ln1491628765569751","cps_app_id":"1000000001","reg_type":1,"reg_time":1491628765,"reg_ip":2091305169}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8478: reg:38 pay:24
DEBUG: reg--pay2-8478 randrate: 1.844
DEBUG: reg--pay2-8478 nowrate: 1.5833333333333
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','0','','19628765','1','ln1491628765569751','1000000001','1','1491628765','2091305169') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491628765569751

[ 2017-04-08T13:19:26+08:00 ] 122.190.2.24 /Pay/link?uid=8478&code=021K6TuU03kkpV1S0VxU0ZubvU0K6Tuh&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000162s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000207s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000223s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040813192634af1cec360470232007',`openid`='oLiX9wALKHVdzSFZdQ8NeEnjlGBk' WHERE ( orderid='ln1491628765569751' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000033s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000051s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002749s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002763s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000103s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000114s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000275s ]
INFO: [ app_end ] --END-- [ RunTime:0.000290s ]

[ 2017-04-08T13:19:31+08:00 ] 122.190.2.42 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln149162877045484
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000244s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000264s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149162877045484' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149162877045484','ln149162877045484','ln149162877045484','1491628771','1491628771','8493','22222','22222','1','1491628771','0','39','119.167.107.98','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149162877045484' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0009s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19628771,"sex":1,"openid":"ln149162877045484","cps_app_id":"1000000001","reg_type":1,"reg_time":1491628771,"reg_ip":2007460706,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay1-8493: reg:44 pay:31
DEBUG: reg--pay1-8493 randrate: 3.082
DEBUG: reg--pay1-8493 nowrate: 1.4193548387097
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19628771','1','ln149162877045484','1000000001','1','1491628771','2007460706','0') [ RunTime:0.0007s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln149162877045484

[ 2017-04-08T13:19:32+08:00 ] 117.34.13.36 /Pay/link?uid=8493&code=031iGVdF0NkQwh2IivcF0AySdF0iGVdL&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000257s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000276s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081319323cf15597380256590133',`openid`='oLiX9wDyR_icNEmp1gIAwiB50pCI' WHERE ( orderid='ln149162877045484' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003030s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003049s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000104s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000117s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000291s ]
INFO: [ app_end ] --END-- [ RunTime:0.000306s ]

[ 2017-04-08T13:19:32+08:00 ] 117.34.13.36 /Pay/link?uid=8493&code=001t3hrF0KvAsh2o4MoF0htZqF0t3hrC&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000213s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000238s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081319323cf15597380364265979',`openid`='oLiX9wDyR_icNEmp1gIAwiB50pCI' WHERE ( orderid='ln149162877045484' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002963s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002981s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000123s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000137s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000293s ]
INFO: [ app_end ] --END-- [ RunTime:0.000308s ]

[ 2017-04-08T13:19:44+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000251s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149162877045484' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491628784',`transaction_id`='4004872001201704086282107831',`status`='1' WHERE `orderid` = 'ln149162877045484' [ RunTime:0.0006s ]
DEBUG: order: {"id":"5627","refid":"8493","prepayid":"wx201704081319323cf15597380364265979","orderid":"ln149162877045484","pay_orderid":"ln149162877045484","openid":"oLiX9wDyR_icNEmp1gIAwiB50pCI","uid":"1491628771","gid":"1","time":"1491628771","status":"0","money":"39","ip":"119.167.107.98","call_url":"http:\/\/www.wxaso.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 5627 LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln149162877045484' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8395 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: bili:1--22222 -- 2017-04-07 17:31:33
DEBUG: {"account":1,"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","ref0_id":"8395","ref0_name":"sam","uid":"ln149162877045484","username":"","cps_app_id":"1000000001","pay_serial":"ln149162877045484","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4004872001201704086282107831","pay_channel":"1","pay_amount":"39","pay_type":1,"pay_time":"1491628784","pay_time_ymd":"2017-04-08","pay_time_h":"13","pay_time_ymdh":"2017040813","pay_ip":"119.167.107.98","ref2_id":0}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref0_id`,`ref0_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`,`ref2_id`) VALUES ('1','8493','大宝哥','8395','sam','ln149162877045484','','1000000001','ln149162877045484','22222','22222','4004872001201704086282107831','1','39','1','1491628784','2017-04-08','13','2017040813','119.167.107.98','0') [ RunTime:0.0005s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-08T13:19:53+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000281s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000299s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149162877045484' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491628784',`transaction_id`='4004872001201704086282107831',`status`='1' WHERE `orderid` = 'ln149162877045484' [ RunTime:0.0007s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000249s ]
INFO: [ app_end ] --END-- [ RunTime:0.000269s ]

[ 2017-04-08T13:19:53+08:00 ] 117.34.13.36 /Pay/link?type=jscall&orderid=ln149162877045484&isvip=ln149162877045484&uiver=&money=39&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000248s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000266s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0009s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149162877045484' LIMIT 1   [ RunTime:0.0005s ]

[ 2017-04-08T13:20:10+08:00 ] 101.71.55.85 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000194s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000254s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000273s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149162877045484' AND `status` = 0 LIMIT 1   [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491628784',`transaction_id`='4004872001201704086282107831',`status`='1' WHERE `orderid` = 'ln149162877045484' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000298s ]
INFO: [ app_end ] --END-- [ RunTime:0.000325s ]

[ 2017-04-08T13:20:23+08:00 ] 117.34.13.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000221s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000240s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491623161956987' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491623172',`transaction_id`='4001202001201704086272988833',`status`='1' WHERE `orderid` = 'ln1491623161956987' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000259s ]
INFO: [ app_end ] --END-- [ RunTime:0.000279s ]

[ 2017-04-08T13:20:41+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000015s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000240s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000260s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149162877045484' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491628784',`transaction_id`='4004872001201704086282107831',`status`='1' WHERE `orderid` = 'ln149162877045484' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000278s ]
INFO: [ app_end ] --END-- [ RunTime:0.000307s ]

[ 2017-04-08T13:20:48+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000009s ]
INFO: [ app_init ] --END-- [ RunTime:0.000222s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000253s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000274s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491617738_8499735657' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491617792',`transaction_id`='4003502001201704086258284173',`status`='1' WHERE `orderid` = 'ln1491617738_8499735657' [ RunTime:0.0007s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000285s ]
INFO: [ app_end ] --END-- [ RunTime:0.000306s ]

[ 2017-04-08T13:21:54+08:00 ] 117.34.13.66 /Pay/link?uid=8443&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491628913599243
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000250s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491628913599243' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491628913599243','ln1491628913599243','ln1491628913599243','1491628914','1491628914','8443','22222','22222','1','1491628914','0','39','219.156.181.218','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491628913599243' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0009s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8443 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8443","ref1_name":"baby","account":0,"username":"","uid":19628914,"sex":1,"openid":"ln1491628913599243","cps_app_id":"1000000001","reg_type":1,"reg_time":1491628914,"reg_ip":3684480474,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8443' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0011s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8443' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8443: reg:3 pay:1
DEBUG: reg--pay1-8443 randrate: 3.328
DEBUG: reg--pay1-8443 nowrate: 3
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8443','baby','0','','19628914','1','ln1491628913599243','1000000001','1','1491628914','3684480474','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8443&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491628913599243

[ 2017-04-08T13:21:54+08:00 ] 117.34.13.66 /Pay/link?uid=8443&code=001gzynN0mjGe72lXEnN02YnnN0gzyn9&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040813215433895dabd30754526762',`openid`='oLiX9wMI04dAvr3udYDtCvS7_2dc' WHERE ( orderid='ln1491628913599243' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002880s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002899s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000090s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000103s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000282s ]
INFO: [ app_end ] --END-- [ RunTime:0.000298s ]

[ 2017-04-08T13:21:55+08:00 ] 117.34.13.66 /Pay/link?uid=8443&code=051cJiFj0su8Il1MguGj0cmDFj0cJiFY&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000174s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000251s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000269s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408132155a16264e7d50573171844',`openid`='oLiX9wMI04dAvr3udYDtCvS7_2dc' WHERE ( orderid='ln1491628913599243' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002916s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002929s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000098s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000111s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000283s ]
INFO: [ app_end ] --END-- [ RunTime:0.000299s ]

[ 2017-04-08T13:22:03+08:00 ] 58.211.2.126 /Pay/link?uid=8443&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491628923231705
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000224s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000242s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491628923231705' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491628923231705','ln1491628923231705','ln1491628923231705','1491628923','1491628923','8443','22222','22222','1','1491628923','0','39','180.153.212.13','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491628923231705' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8443 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8443","ref1_name":"baby","account":0,"username":"","uid":19628923,"sex":1,"openid":"ln1491628923231705","cps_app_id":"1000000001","reg_type":1,"reg_time":1491628923,"reg_ip":3029980173,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8443' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8443' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8443: reg:3 pay:1
DEBUG: reg--pay1-8443 randrate: 2.059
DEBUG: reg--pay1-8443 nowrate: 3
DEBUG: reg--pay1-8443 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8443','baby','0','','19628923','1','ln1491628923231705','1000000001','1','1491628923','3029980173','0') [ RunTime:0.0006s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8443&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491628923231705

[ 2017-04-08T13:22:04+08:00 ] 117.34.13.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491628913599243' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491628923',`transaction_id`='4010132001201704086282187627',`status`='1' WHERE `orderid` = 'ln1491628913599243' [ RunTime:0.0006s ]
DEBUG: order: {"id":"5628","refid":"8443","prepayid":"wx20170408132155a16264e7d50573171844","orderid":"ln1491628913599243","pay_orderid":"ln1491628913599243","openid":"oLiX9wMI04dAvr3udYDtCvS7_2dc","uid":"1491628914","gid":"1","time":"1491628914","status":"0","money":"39","ip":"219.156.181.218","call_url":"http:\/\/www.wxasj.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 5628 LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491628913599243' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8443 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8395 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: bili:1--22222 -- 2017-04-06 10:45:22
DEBUG: {"account":1,"ref1_id":"8443","ref1_name":"baby","ref0_id":"8395","ref0_name":"sam","uid":"ln1491628913599243","username":"","cps_app_id":"1000000001","pay_serial":"ln1491628913599243","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4010132001201704086282187627","pay_channel":"1","pay_amount":"39","pay_type":1,"pay_time":"1491628923","pay_time_ymd":"2017-04-08","pay_time_h":"13","pay_time_ymdh":"2017040813","pay_ip":"219.156.181.218","ref2_id":0}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref0_id`,`ref0_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`,`ref2_id`) VALUES ('1','8443','baby','8395','sam','ln1491628913599243','','1000000001','ln1491628913599243','22222','22222','4010132001201704086282187627','1','39','1','1491628923','2017-04-08','13','2017040813','219.156.181.218','0') [ RunTime:0.0006s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-08T13:22:14+08:00 ] 122.190.2.30 /Pay/link?type=jscall&orderid=ln1491628913599243&isvip=ln1491628913599243&uiver=&money=39&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000238s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491628913599243' LIMIT 1   [ RunTime:0.0005s ]

[ 2017-04-08T13:22:15+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000224s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000254s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491628913599243' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491628923',`transaction_id`='4010132001201704086282187627',`status`='1' WHERE `orderid` = 'ln1491628913599243' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000250s ]
INFO: [ app_end ] --END-- [ RunTime:0.000270s ]

[ 2017-04-08T13:22:19+08:00 ] 58.211.2.18 /Pay/link?uid=8435&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491628939219147
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000221s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000287s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000308s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491628939219147' LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491628939219147','ln1491628939219147','ln1491628939219147','1491628939','1491628939','8435','22222','22222','1','1491628939','0','21','223.104.147.240','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491628939219147' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8435 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8435","ref2_name":"\u5c0f\u9648","account":0,"username":"","uid":19628939,"sex":1,"openid":"ln1491628939219147","cps_app_id":"1000000001","reg_type":1,"reg_time":1491628939,"reg_ip":3748172784}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8435' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8435' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8435: reg:5 pay:2
DEBUG: reg--pay2-8435 randrate: 2.117
DEBUG: reg--pay2-8435 nowrate: 2.5
DEBUG: reg--pay2-8435 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8435','小陈','0','','19628939','1','ln1491628939219147','1000000001','1','1491628939','3748172784') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8435&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491628939219147

[ 2017-04-08T13:22:20+08:00 ] 58.211.2.18 /Pay/link?uid=8435&code=051HsG3p1H4X0n0Tlc4p1nUt3p1HsG3Q&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000218s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000239s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040813222092a50f66900502897034',`openid`='oLiX9wFXPe2Ctr-g_O7M4bCGqmLk' WHERE ( orderid='ln1491628939219147' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002991s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003012s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000100s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000112s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000293s ]
INFO: [ app_end ] --END-- [ RunTime:0.000311s ]

[ 2017-04-08T13:22:21+08:00 ] 58.211.2.18 /Pay/link?uid=8435&code=021UXeud0A5phw1hhJud0YXdud0UXeu3&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000303s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000325s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408132221a0e8646c360197165339',`openid`='oLiX9wFXPe2Ctr-g_O7M4bCGqmLk' WHERE ( orderid='ln1491628939219147' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000031s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000056s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003174s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003201s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000090s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000103s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000292s ]
INFO: [ app_end ] --END-- [ RunTime:0.000308s ]

[ 2017-04-08T13:22:21+08:00 ] 58.211.2.18 /Pay/link?uid=8435&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491628941_8435485885
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000236s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000221s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000240s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491628939219147' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491628941_8435485885' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491628941_8435485885','ln1491628941_8435485885','ln1491628941_8435485885','1491628941','1491628941','8435','22222','22222','1','1491628941','0','21','223.104.147.240','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491628941_8435485885' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8435 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8435","ref2_name":"\u5c0f\u9648","account":0,"username":"","uid":19628941,"sex":1,"openid":"ln1491628941_8435485885","cps_app_id":"1000000001","reg_type":1,"reg_time":1491628941,"reg_ip":3748172784}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8435' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8435' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8435: reg:5 pay:2
DEBUG: reg--pay2-8435 randrate: 2.264
DEBUG: reg--pay2-8435 nowrate: 2.5
DEBUG: reg--pay2-8435 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8435','小陈','0','','19628941','1','ln1491628941_8435485885','1000000001','1','1491628941','3748172784') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8435&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491628940163563

[ 2017-04-08T13:22:22+08:00 ] 58.211.2.18 /Pay/link?uid=8435&code=021VUpqd1Uad7u0xDWod1ZFpqd1VUpq5&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408132221a0e8646c360699579912',`openid`='oLiX9wFXPe2Ctr-g_O7M4bCGqmLk' WHERE ( orderid='ln1491628941_8435485885' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000044s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003088s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003105s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000097s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000115s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000296s ]
INFO: [ app_end ] --END-- [ RunTime:0.000312s ]

[ 2017-04-08T13:22:22+08:00 ] 58.211.2.18 /Pay/link?uid=8435&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491628942_843591502
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491628941_8435485885' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491628942_843591502' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491628942_843591502','ln1491628942_843591502','ln1491628942_843591502','1491628942','1491628942','8435','22222','22222','1','1491628942','0','21','223.104.147.240','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491628942_843591502' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8435 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8435","ref2_name":"\u5c0f\u9648","account":0,"username":"","uid":19628942,"sex":1,"openid":"ln1491628942_843591502","cps_app_id":"1000000001","reg_type":1,"reg_time":1491628942,"reg_ip":3748172784}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8435' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8435' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8435: reg:5 pay:2
DEBUG: reg--pay2-8435 randrate: 1.911
DEBUG: reg--pay2-8435 nowrate: 2.5
DEBUG: reg--pay2-8435 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8435','小陈','0','','19628942','1','ln1491628942_843591502','1000000001','1','1491628942','3748172784') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8435&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491628942445510

[ 2017-04-08T13:22:23+08:00 ] 58.211.2.18 /Pay/link?uid=8435&code=011jMTCG1brjs50tKqEG1dE3DG1jMTCO&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000269s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000287s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040813222344f3a900fc0364513126',`openid`='oLiX9wFXPe2Ctr-g_O7M4bCGqmLk' WHERE ( orderid='ln1491628942_843591502' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002840s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002854s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000091s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000115s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000261s ]
INFO: [ app_end ] --END-- [ RunTime:0.000277s ]

[ 2017-04-08T13:22:23+08:00 ] 58.211.2.18 /Pay/link?uid=8435&code=031oYHvC1SYju00VjtwC1uBSvC1oYHvM&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000196s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000256s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000274s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040813222344f3a900fc0235234702',`openid`='oLiX9wFXPe2Ctr-g_O7M4bCGqmLk' WHERE ( orderid='ln1491628942_843591502' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000032s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000056s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003225s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003246s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000093s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000107s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000297s ]
INFO: [ app_end ] --END-- [ RunTime:0.000313s ]

[ 2017-04-08T13:22:24+08:00 ] 116.31.126.102 /Pay/link?uid=8457&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491628944195669
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000273s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000290s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491628944195669' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491628944195669','ln1491628944195669','ln1491628944195669','1491628944','1491628944','8457','22222','22222','1','1491628944','0','21','223.150.230.96','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491628944195669' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8457 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8457","ref2_name":"1010","account":0,"username":"","uid":19628944,"sex":1,"openid":"ln1491628944195669","cps_app_id":"1000000001","reg_type":1,"reg_time":1491628944,"reg_ip":3751208544}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8457' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8457' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8457: reg:3 pay:3
DEBUG: reg--pay2-8457 randrate: 2.303
DEBUG: reg--pay2-8457 nowrate: 1
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8457','1010','0','','19628944','1','ln1491628944195669','1000000001','1','1491628944','3751208544') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8457&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491628944195669

[ 2017-04-08T13:22:24+08:00 ] 122.190.2.18 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000195s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000246s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000266s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000062s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000078s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000072s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000084s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000236s ]
INFO: [ app_end ] --END-- [ RunTime:0.000249s ]

[ 2017-04-08T13:22:24+08:00 ] 122.190.2.24 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000162s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000268s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000289s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000087s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000108s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000082s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000095s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000251s ]
INFO: [ app_end ] --END-- [ RunTime:0.000264s ]

[ 2017-04-08T13:22:25+08:00 ] 116.31.126.102 /Pay/link?uid=8457&code=0218nUKc2k731B0D8BNc26LjLc28nUKc&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000341s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000362s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081322252d6f8df2fd0150764269',`openid`='oLiX9wBP2-X8dzok1A0SgFrjs3z0' WHERE ( orderid='ln1491628944195669' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002984s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002999s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000108s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000121s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000306s ]
INFO: [ app_end ] --END-- [ RunTime:0.000325s ]

[ 2017-04-08T13:22:32+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000009s ]
INFO: [ app_init ] --END-- [ RunTime:0.000206s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000248s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000267s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491628913599243' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491628923',`transaction_id`='4010132001201704086282187627',`status`='1' WHERE `orderid` = 'ln1491628913599243' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000278s ]
INFO: [ app_end ] --END-- [ RunTime:0.000305s ]

[ 2017-04-08T13:22:34+08:00 ] 58.211.2.36 /Pay/link?uid=8457&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491628954550088
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000273s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000235s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491628954550088' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491628954550088','ln1491628954550088','ln1491628954550088','1491628954','1491628954','8457','22222','22222','1','1491628954','0','21','117.185.27.114','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491628954550088' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8457 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8457","ref2_name":"1010","account":0,"username":"","uid":19628954,"sex":1,"openid":"ln1491628954550088","cps_app_id":"1000000001","reg_type":1,"reg_time":1491628954,"reg_ip":1975065458}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8457' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8457' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8457: reg:3 pay:3
DEBUG: reg--pay2-8457 randrate: 1.904
DEBUG: reg--pay2-8457 nowrate: 1
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8457','1010','0','','19628954','1','ln1491628954550088','1000000001','1','1491628954','1975065458') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8457&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491628954550088

[ 2017-04-08T13:22:36+08:00 ] 58.211.2.18 /Pay/link?uid=8435&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491628956_8435382607
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000246s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491628942_843591502' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491628956_8435382607' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491628956_8435382607','ln1491628956_8435382607','ln1491628956_8435382607','1491628956','1491628956','8435','22222','22222','1','1491628956','0','21','223.104.147.240','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491628956_8435382607' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8435 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8435","ref2_name":"\u5c0f\u9648","account":0,"username":"","uid":19628956,"sex":1,"openid":"ln1491628956_8435382607","cps_app_id":"1000000001","reg_type":1,"reg_time":1491628956,"reg_ip":3748172784}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8435' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8435' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8435: reg:5 pay:2
DEBUG: reg--pay2-8435 randrate: 1.894
DEBUG: reg--pay2-8435 nowrate: 2.5
DEBUG: reg--pay2-8435 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8435','小陈','0','','19628956','1','ln1491628956_8435382607','1000000001','1','1491628956','3748172784') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8435&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491628955920773

[ 2017-04-08T13:22:36+08:00 ] 58.211.2.18 /Pay/link?uid=8435&code=01188QZm1QOtFk0SGM0n1S7OZm188QZm&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081322362dab28b75a0088751114',`openid`='oLiX9wFXPe2Ctr-g_O7M4bCGqmLk' WHERE ( orderid='ln1491628956_8435382607' ) [ RunTime:0.0061s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000044s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002946s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002962s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000100s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000274s ]
INFO: [ app_end ] --END-- [ RunTime:0.000290s ]

[ 2017-04-08T13:22:37+08:00 ] 58.211.2.18 /Pay/link?uid=8435&code=031Ri8Rc1JIqps0ejLPc1bV1Rc1Ri8RT&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081322378eda7bb44e0808220296',`openid`='oLiX9wFXPe2Ctr-g_O7M4bCGqmLk' WHERE ( orderid='ln1491628956_8435382607' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002966s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002981s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000106s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000122s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000285s ]
INFO: [ app_end ] --END-- [ RunTime:0.000302s ]

[ 2017-04-08T13:22:43+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491628956_8435382607' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491628963',`transaction_id`='4002372001201704086283456545',`status`='1' WHERE `orderid` = 'ln1491628956_8435382607' [ RunTime:0.0006s ]
DEBUG: order: {"id":"5635","refid":"8435","prepayid":"wx201704081322378eda7bb44e0808220296","orderid":"ln1491628956_8435382607","pay_orderid":"ln1491628956_8435382607","openid":"oLiX9wFXPe2Ctr-g_O7M4bCGqmLk","uid":"1491628956","gid":"1","time":"1491628956","status":"0","money":"21","ip":"223.104.147.240","call_url":"http:\/\/www.wxasj.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 5635 LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491628956_8435382607' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8435 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: bili:1--22222 -- 2017-04-05 23:35:39
DEBUG: {"account":1,"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8435","ref2_name":"\u5c0f\u9648","uid":"ln1491628956_8435382607","username":"","cps_app_id":"1000000001","pay_serial":"ln1491628956_8435382607","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4002372001201704086283456545","pay_channel":"1","pay_amount":"21","pay_type":1,"pay_time":"1491628963","pay_time_ymd":"2017-04-08","pay_time_h":"13","pay_time_ymdh":"2017040813","pay_ip":"223.104.147.240"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8400','文','8435','小陈','ln1491628956_8435382607','','1000000001','ln1491628956_8435382607','22222','22222','4002372001201704086283456545','1','21','1','1491628963','2017-04-08','13','2017040813','223.104.147.240') [ RunTime:0.0005s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-08T13:22:48+08:00 ] 58.211.2.18 /Pay/link?type=jscall&orderid=ln1491628956_8435382607&isvip=ln1491628956_8435382607&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000251s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491628956_8435382607' LIMIT 1   [ RunTime:0.0005s ]

[ 2017-04-08T13:22:57+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000222s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000238s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000259s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491628956_8435382607' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491628963',`transaction_id`='4002372001201704086283456545',`status`='1' WHERE `orderid` = 'ln1491628956_8435382607' [ RunTime:0.0007s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000301s ]
INFO: [ app_end ] --END-- [ RunTime:0.000322s ]

[ 2017-04-08T13:22:58+08:00 ] 58.211.2.18 /Pay/link?uid=8435&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491628978_8435304085
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000247s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000267s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491628956_8435382607' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491628978_8435304085' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491628978_8435304085','ln1491628978_8435304085','ln1491628978_8435304085','1491628978','1491628978','8435','22222','22222','1','1491628978','0','21','223.104.147.240','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491628978_8435304085' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8435 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8435","ref2_name":"\u5c0f\u9648","account":0,"username":"","uid":19628978,"sex":1,"openid":"ln1491628978_8435304085","cps_app_id":"1000000001","reg_type":1,"reg_time":1491628978,"reg_ip":3748172784}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8435' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8435' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8435: reg:5 pay:3
DEBUG: reg--pay2-8435 randrate: 1.686
DEBUG: reg--pay2-8435 nowrate: 1.6666666666667
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8435','小陈','0','','19628978','1','ln1491628978_8435304085','1000000001','1','1491628978','3748172784') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8435&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491628977145357

[ 2017-04-08T13:22:59+08:00 ] 58.211.2.18 /Pay/link?uid=8435&code=031D42ME0zhVEf23bVJE0eeVLE0D42Mg&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040813225973eba860e40765010440',`openid`='oLiX9wFXPe2Ctr-g_O7M4bCGqmLk' WHERE ( orderid='ln1491628978_8435304085' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000031s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000050s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002788s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002803s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000095s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000107s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000257s ]
INFO: [ app_end ] --END-- [ RunTime:0.000272s ]

[ 2017-04-08T13:22:59+08:00 ] 58.211.2.18 /Pay/link?uid=8435&code=051Yf1Y90uRz2t1rPyZ90VTRX90Yf1YE&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000216s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040813225973eba860e40929014318',`openid`='oLiX9wFXPe2Ctr-g_O7M4bCGqmLk' WHERE ( orderid='ln1491628978_8435304085' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000044s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003321s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003340s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000134s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000151s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000331s ]
INFO: [ app_end ] --END-- [ RunTime:0.000351s ]

[ 2017-04-08T13:23:04+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000233s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491628913599243' AND `status` = 0 LIMIT 1   [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491628923',`transaction_id`='4010132001201704086282187627',`status`='1' WHERE `orderid` = 'ln1491628913599243' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000253s ]
INFO: [ app_end ] --END-- [ RunTime:0.000274s ]

[ 2017-04-08T13:23:14+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000252s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000272s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491628956_8435382607' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491628963',`transaction_id`='4002372001201704086283456545',`status`='1' WHERE `orderid` = 'ln1491628956_8435382607' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000270s ]
INFO: [ app_end ] --END-- [ RunTime:0.000291s ]

[ 2017-04-08T13:23:17+08:00 ] 122.190.2.6 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491628996614965
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000227s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000246s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491628996614965' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491628996614965','ln1491628996614965','ln1491628996614965','1491628997','1491628997','8493','22222','22222','1','1491628997','0','21','223.90.16.156','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491628996614965' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":1,"username":"","uid":19628997,"sex":1,"openid":"ln1491628996614965","cps_app_id":"1000000001","reg_type":1,"reg_time":1491628997,"reg_ip":3747221660,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8493: reg:44 pay:32
DEBUG: reg--pay1-8493 randrate: 2.007
DEBUG: reg--pay1-8493 nowrate: 1.375
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','1','','19628997','1','ln1491628996614965','1000000001','1','1491628997','3747221660','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491628996614965

[ 2017-04-08T13:23:18+08:00 ] 117.34.13.66 /Pay/link?uid=8493&code=0114U6Dg0flpZz10V7Fg03H7Dg04U6D0&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081323181b4a3f513b0996978422',`openid`='oLiX9wFkTe6GFfUAONMdngKhy8iQ' WHERE ( orderid='ln1491628996614965' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000040s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002814s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002830s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000095s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000107s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000258s ]
INFO: [ app_end ] --END-- [ RunTime:0.000279s ]

[ 2017-04-08T13:23:43+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000014s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000292s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000312s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149162877045484' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491628784',`transaction_id`='4004872001201704086282107831',`status`='1' WHERE `orderid` = 'ln149162877045484' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000269s ]
INFO: [ app_end ] --END-- [ RunTime:0.000300s ]

[ 2017-04-08T13:23:46+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000274s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000296s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491628956_8435382607' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491628963',`transaction_id`='4002372001201704086283456545',`status`='1' WHERE `orderid` = 'ln1491628956_8435382607' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000273s ]
INFO: [ app_end ] --END-- [ RunTime:0.000294s ]

[ 2017-04-08T13:23:48+08:00 ] 58.211.2.18 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491629027460332
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000223s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000251s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491629027460332' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491629027460332','ln1491629027460332','ln1491629027460332','1491629028','1491629028','8478','22222','22222','1','1491629028','0','25','120.192.82.122','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491629027460332' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":0,"username":"","uid":19629028,"sex":1,"openid":"ln1491629027460332","cps_app_id":"1000000001","reg_type":1,"reg_time":1491629028,"reg_ip":2025869946}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
DEBUG: reg--pay2-8478: reg:38 pay:24
DEBUG: reg--pay2-8478 randrate: 2.415
DEBUG: reg--pay2-8478 nowrate: 1.5833333333333
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','0','','19629028','1','ln1491629027460332','1000000001','1','1491629028','2025869946') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491629027460332

[ 2017-04-08T13:23:48+08:00 ] 58.211.2.18 /Pay/link?uid=8478&code=051hgvop1rrtMm0z7opp1gyDop1hgvos&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000013s ]
INFO: [ app_init ] --END-- [ RunTime:0.000202s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000248s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000268s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081323486663eed97f0008722438',`openid`='oLiX9wIA5Tm7bWNPF2mkuV7MIFaU' WHERE ( orderid='ln1491629027460332' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000030s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000053s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002992s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003010s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000112s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000128s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000373s ]
INFO: [ app_end ] --END-- [ RunTime:0.000393s ]

[ 2017-04-08T13:23:56+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000183s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491628765569751' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491629036',`transaction_id`='4008212001201704086283513288',`status`='1' WHERE `orderid` = 'ln1491628765569751' [ RunTime:0.0007s ]
DEBUG: order: {"id":"5626","refid":"8478","prepayid":"wx2017040813192634af1cec360470232007","orderid":"ln1491628765569751","pay_orderid":"ln1491628765569751","openid":"oLiX9wALKHVdzSFZdQ8NeEnjlGBk","uid":"1491628765","gid":"1","time":"1491628765","status":"0","money":"21","ip":"124.166.200.209","call_url":"http:\/\/www.wxasj.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 5626 LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491628765569751' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: bili:1--22222 -- 2017-04-06 22:14:26
DEBUG: {"account":1,"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","uid":"ln1491628765569751","username":"","cps_app_id":"1000000001","pay_serial":"ln1491628765569751","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4008212001201704086283513288","pay_channel":"1","pay_amount":"21","pay_type":1,"pay_time":"1491629036","pay_time_ymd":"2017-04-08","pay_time_h":"13","pay_time_ymdh":"2017040813","pay_ip":"124.166.200.209"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8389','mrpei','8478','1031','ln1491628765569751','','1000000001','ln1491628765569751','22222','22222','4008212001201704086283513288','1','21','1','1491629036','2017-04-08','13','2017040813','124.166.200.209') [ RunTime:0.0005s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-08T13:24:10+08:00 ] 122.190.2.24 /Pay/link?type=jscall&orderid=ln1491628765569751&isvip=ln1491628765569751&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000240s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491628765569751' LIMIT 1   [ RunTime:0.0005s ]

[ 2017-04-08T13:24:13+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000208s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000225s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491628765569751' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491629036',`transaction_id`='4008212001201704086283513288',`status`='1' WHERE `orderid` = 'ln1491628765569751' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000267s ]
INFO: [ app_end ] --END-- [ RunTime:0.000292s ]

[ 2017-04-08T13:24:30+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000248s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000267s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491628765569751' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491629036',`transaction_id`='4008212001201704086283513288',`status`='1' WHERE `orderid` = 'ln1491628765569751' [ RunTime:0.0007s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000291s ]
INFO: [ app_end ] --END-- [ RunTime:0.000312s ]

[ 2017-04-08T13:24:44+08:00 ] 101.71.55.130 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000237s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000265s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000063s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000080s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000088s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000101s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000259s ]
INFO: [ app_end ] --END-- [ RunTime:0.000274s ]

[ 2017-04-08T13:24:44+08:00 ] 58.211.2.18 /Pay/link?uid=8434&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491629083943661
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000183s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000245s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491629083943661' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491629083943661','ln1491629083943661','ln1491629083943661','1491629084','1491629084','8434','22222','22222','1','1491629084','0','32','122.190.181.89','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491629083943661' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0028s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0009s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8434 ) LIMIT 1   [ RunTime:0.0018s ]
DEBUG: reg--pay-data: {"ref1_id":"8434","ref1_name":"\u65ed","account":1,"username":"","uid":19629084,"sex":1,"openid":"ln1491629083943661","cps_app_id":"1000000001","reg_type":1,"reg_time":1491629084,"reg_ip":2059318617,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8434' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0010s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8434' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0008s ]
DEBUG: reg--pay1-8434: reg:4 pay:1
DEBUG: reg--pay1-8434 randrate: 2.218
DEBUG: reg--pay1-8434 nowrate: 4
DEBUG: reg--pay1-8434 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8434','旭','0','','19629084','1','ln1491629083943661','1000000001','1','1491629084','2059318617','0') [ RunTime:0.0022s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8434&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491629083943661

[ 2017-04-08T13:24:44+08:00 ] 58.211.2.18 /Pay/link?uid=8434&code=051j8Agh1RXUax0ugthh14xPgh1j8AgP&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000230s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408132444fa2f703c0f0943845200',`openid`='oLiX9wFhvvI4Hp7jke6qI2HKGCiw' WHERE ( orderid='ln1491629083943661' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003012s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003026s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000099s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000262s ]
INFO: [ app_end ] --END-- [ RunTime:0.000278s ]

[ 2017-04-08T13:24:53+08:00 ] 58.211.2.18 /Pay/link?uid=8434&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491629093474135
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000193s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000241s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000258s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491629093474135' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491629093474135','ln1491629093474135','ln1491629093474135','1491629093','1491629093','8434','22222','22222','1','1491629093','0','32','101.226.89.122','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491629093474135' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8434 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8434","ref1_name":"\u65ed","account":0,"username":"","uid":19629093,"sex":1,"openid":"ln1491629093474135","cps_app_id":"1000000001","reg_type":1,"reg_time":1491629093,"reg_ip":1709332858,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8434' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8434' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay1-8434: reg:4 pay:1
DEBUG: reg--pay1-8434 randrate: 1.957
DEBUG: reg--pay1-8434 nowrate: 4
DEBUG: reg--pay1-8434 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8434','旭','0','','19629093','1','ln1491629093474135','1000000001','1','1491629093','1709332858','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8434&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491629093474135

[ 2017-04-08T13:24:54+08:00 ] 58.211.2.36 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000192s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000224s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000243s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000061s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000077s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000071s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000083s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000285s ]
INFO: [ app_end ] --END-- [ RunTime:0.000301s ]

[ 2017-04-08T13:25:03+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000178s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000248s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000267s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0011s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491628765569751' AND `status` = 0 LIMIT 1   [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491629036',`transaction_id`='4008212001201704086283513288',`status`='1' WHERE `orderid` = 'ln1491628765569751' [ RunTime:0.0007s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000258s ]
INFO: [ app_end ] --END-- [ RunTime:0.000279s ]

[ 2017-04-08T13:25:04+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000011s ]
INFO: [ app_init ] --END-- [ RunTime:0.000223s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000259s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627040_8457367059' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491627055',`transaction_id`='4000702001201704086278184433',`status`='1' WHERE `orderid` = 'ln1491627040_8457367059' [ RunTime:0.0007s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000285s ]
INFO: [ app_end ] --END-- [ RunTime:0.000312s ]

[ 2017-04-08T13:25:07+08:00 ] 122.190.2.36 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000210s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000230s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000063s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000078s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000079s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000090s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000298s ]
INFO: [ app_end ] --END-- [ RunTime:0.000312s ]

[ 2017-04-08T13:25:08+08:00 ] 117.34.13.90 /Pay/link?uid=8413&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491629107336077
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000267s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000286s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491629107336077' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491629107336077','ln1491629107336077','ln1491629107336077','1491629108','1491629108','8413','22222','22222','1','1491629108','0','32','125.68.91.27','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491629107336077' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8413 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8413","ref2_name":"\u5c0f\u4e09","account":0,"username":"","uid":19629108,"sex":1,"openid":"ln1491629107336077","cps_app_id":"1000000001","reg_type":1,"reg_time":1491629108,"reg_ip":2101631771}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8413' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8413' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8413: reg:0 pay:0
DEBUG: reg--pay2-8413 randrate: 2.425
DEBUG: reg--pay2-8413 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8413','小三','1','','19629108','1','ln1491629107336077','1000000001','1','1491629108','2101631771') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8413&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491629107336077

[ 2017-04-08T13:25:08+08:00 ] 117.34.13.48 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000194s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000276s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000295s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000091s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000115s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000082s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000095s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000279s ]
INFO: [ app_end ] --END-- [ RunTime:0.000293s ]

[ 2017-04-08T13:25:08+08:00 ] 117.34.13.90 /Pay/link?uid=8413&code=031tk15L1DNUG21FGw4L1dhi5L1tk15c&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000242s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000264s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408132508d8b6db113d0100845752',`openid`='oLiX9wJaYfigBal4HA6flNul2w8A' WHERE ( orderid='ln1491629107336077' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003052s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003070s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000111s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000127s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000362s ]
INFO: [ app_end ] --END-- [ RunTime:0.000383s ]

[ 2017-04-08T13:25:31+08:00 ] 117.34.13.96 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln149162913079806
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000200s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000245s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000267s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149162913079806' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149162913079806','ln149162913079806','ln149162913079806','1491629131','1491629131','8493','22222','22222','1','1491629131','0','23','218.26.55.115','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149162913079806' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19629131,"sex":1,"openid":"ln149162913079806","cps_app_id":"1000000001","reg_type":1,"reg_time":1491629131,"reg_ip":3659151219,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8493: reg:45 pay:32
DEBUG: reg--pay1-8493 randrate: 1.874
DEBUG: reg--pay1-8493 nowrate: 1.40625
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19629131','1','ln149162913079806','1000000001','1','1491629131','3659151219','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln149162913079806

[ 2017-04-08T13:25:32+08:00 ] 117.34.13.96 /Pay/link?uid=8493&code=0413gKAn0AS0vo1Vo4zn0AwoAn03gKAO&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000192s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000251s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000269s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408132532eb3c4413470044654719',`openid`='oLiX9wJd9QufOzTkyDr7HZdLAq40' WHERE ( orderid='ln149162913079806' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000053s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003121s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003140s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000102s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000120s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000312s ]
INFO: [ app_end ] --END-- [ RunTime:0.000329s ]

[ 2017-04-08T13:25:32+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000235s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491623475818543' AND `status` = 0 LIMIT 1   [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491623485',`transaction_id`='4005682001201704086270092752',`status`='1' WHERE `orderid` = 'ln1491623475818543' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000261s ]
INFO: [ app_end ] --END-- [ RunTime:0.000282s ]

[ 2017-04-08T13:26:07+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000204s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000233s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491628913599243' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491628923',`transaction_id`='4010132001201704086282187627',`status`='1' WHERE `orderid` = 'ln1491628913599243' [ RunTime:0.0007s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000413s ]
INFO: [ app_end ] --END-- [ RunTime:0.000444s ]

[ 2017-04-08T13:26:24+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627129492629' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491627137',`transaction_id`='4007782001201704086282469716',`status`='1' WHERE `orderid` = 'ln1491627129492629' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000248s ]
INFO: [ app_end ] --END-- [ RunTime:0.000269s ]

[ 2017-04-08T13:26:47+08:00 ] 58.211.2.18 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491629207_8478529875
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000222s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000239s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491629027460332' LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491629207_8478529875' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491629207_8478529875','ln1491629207_8478529875','ln1491629207_8478529875','1491629207','1491629207','8478','22222','22222','1','1491629207','0','29','120.192.82.122','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491629207_8478529875' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":1,"username":"","uid":19629207,"sex":1,"openid":"ln1491629207_8478529875","cps_app_id":"1000000001","reg_type":1,"reg_time":1491629207,"reg_ip":2025869946}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
DEBUG: reg--pay2-8478: reg:38 pay:25
DEBUG: reg--pay2-8478 randrate: 2.224
DEBUG: reg--pay2-8478 nowrate: 1.52
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','1','','19629207','1','ln1491629207_8478529875','1000000001','1','1491629207','2025869946') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491629206666344

[ 2017-04-08T13:26:47+08:00 ] 58.211.2.18 /Pay/link?uid=8478&code=001zQu8K1oEBT80kwe7K14ll8K1zQu8w&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000223s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000241s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081326474e312df5ed0268352061',`openid`='oLiX9wIA5Tm7bWNPF2mkuV7MIFaU' WHERE ( orderid='ln1491629207_8478529875' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002896s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002910s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000106s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000119s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000350s ]
INFO: [ app_end ] --END-- [ RunTime:0.000367s ]

[ 2017-04-08T13:26:48+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000265s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000288s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491628956_8435382607' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491628963',`transaction_id`='4002372001201704086283456545',`status`='1' WHERE `orderid` = 'ln1491628956_8435382607' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000257s ]
INFO: [ app_end ] --END-- [ RunTime:0.000292s ]

[ 2017-04-08T13:27:24+08:00 ] 117.34.13.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000333s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000240s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000260s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491629207_8478529875' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491629243',`transaction_id`='4005762001201704086288326057',`status`='1' WHERE `orderid` = 'ln1491629207_8478529875' [ RunTime:0.0007s ]
DEBUG: order: {"id":"5643","refid":"8478","prepayid":"wx201704081326474e312df5ed0268352061","orderid":"ln1491629207_8478529875","pay_orderid":"ln1491629207_8478529875","openid":"oLiX9wIA5Tm7bWNPF2mkuV7MIFaU","uid":"1491629207","gid":"1","time":"1491629207","status":"0","money":"29","ip":"120.192.82.122","call_url":"http:\/\/www.wxasj.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 5643 LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491629207_8478529875' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: bili:1--22222 -- 2017-04-06 22:14:26
DEBUG: {"account":1,"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","uid":"ln1491629207_8478529875","username":"","cps_app_id":"1000000001","pay_serial":"ln1491629207_8478529875","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4005762001201704086288326057","pay_channel":"1","pay_amount":"29","pay_type":1,"pay_time":"1491629243","pay_time_ymd":"2017-04-08","pay_time_h":"13","pay_time_ymdh":"2017040813","pay_ip":"120.192.82.122"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8389','mrpei','8478','1031','ln1491629207_8478529875','','1000000001','ln1491629207_8478529875','22222','22222','4005762001201704086288326057','1','29','1','1491629243','2017-04-08','13','2017040813','120.192.82.122') [ RunTime:0.0007s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-08T13:27:31+08:00 ] 58.211.2.18 /Pay/link?type=jscall&orderid=ln1491629207_8478529875&isvip=ln1491629207_8478529875&uiver=&money=29&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000174s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000262s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000282s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491629207_8478529875' LIMIT 1   [ RunTime:0.0005s ]

[ 2017-04-08T13:27:40+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000240s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000258s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0013s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491629207_8478529875' AND `status` = 0 LIMIT 1   [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491629243',`transaction_id`='4005762001201704086288326057',`status`='1' WHERE `orderid` = 'ln1491629207_8478529875' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000309s ]
INFO: [ app_end ] --END-- [ RunTime:0.000331s ]

[ 2017-04-08T13:27:56+08:00 ] 116.31.126.102 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000194s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000239s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000271s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491629207_8478529875' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491629243',`transaction_id`='4005762001201704086288326057',`status`='1' WHERE `orderid` = 'ln1491629207_8478529875' [ RunTime:0.0008s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000268s ]
INFO: [ app_end ] --END-- [ RunTime:0.000290s ]

[ 2017-04-08T13:28:03+08:00 ] 117.34.13.66 /Pay/link?uid=8443&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491629283_8443916803
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000016s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000240s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000257s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491628913599243' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491629283_8443916803' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491629283_8443916803','ln1491629283_8443916803','ln1491629283_8443916803','1491629283','1491629283','8443','22222','22222','1','1491629283','0','39','219.156.181.218','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491629283_8443916803' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8443 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8443","ref1_name":"baby","account":0,"username":"","uid":19629283,"sex":1,"openid":"ln1491629283_8443916803","cps_app_id":"1000000001","reg_type":1,"reg_time":1491629283,"reg_ip":3684480474,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8443' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8443' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay1-8443: reg:3 pay:2
DEBUG: reg--pay1-8443 randrate: 1.553
DEBUG: reg--pay1-8443 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8443','baby','0','','19629283','1','ln1491629283_8443916803','1000000001','1','1491629283','3684480474','0') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8443&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491629283895062

[ 2017-04-08T13:28:04+08:00 ] 117.34.13.66 /Pay/link?uid=8443&code=001cVq1f2orxhD0sOr1f2jO51f2cVq1m&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000249s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000277s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040813280438f66893450290614680',`openid`='oLiX9wMI04dAvr3udYDtCvS7_2dc' WHERE ( orderid='ln1491629283_8443916803' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003088s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003105s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000134s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000148s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000306s ]
INFO: [ app_end ] --END-- [ RunTime:0.000322s ]

[ 2017-04-08T13:28:04+08:00 ] 122.190.2.30 /Pay/link?uid=8443&code=021Ns8yA1hqy3g0vxtyA1B19yA1Ns8yA&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000201s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040813280438f66893450161239880',`openid`='oLiX9wMI04dAvr3udYDtCvS7_2dc' WHERE ( orderid='ln1491629283_8443916803' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002798s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002812s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000100s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000112s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000328s ]
INFO: [ app_end ] --END-- [ RunTime:0.000346s ]

[ 2017-04-08T13:28:05+08:00 ] 116.31.126.102 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000245s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491628765569751' AND `status` = 0 LIMIT 1   [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491629036',`transaction_id`='4008212001201704086283513288',`status`='1' WHERE `orderid` = 'ln1491628765569751' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000272s ]
INFO: [ app_end ] --END-- [ RunTime:0.000292s ]

[ 2017-04-08T13:28:28+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000203s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000266s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000285s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491629207_8478529875' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491629243',`transaction_id`='4005762001201704086288326057',`status`='1' WHERE `orderid` = 'ln1491629207_8478529875' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000278s ]
INFO: [ app_end ] --END-- [ RunTime:0.000299s ]

[ 2017-04-08T13:29:09+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627291_8457130625' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491627306',`transaction_id`='4000702001201704086282584274',`status`='1' WHERE `orderid` = 'ln1491627291_8457130625' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000311s ]
INFO: [ app_end ] --END-- [ RunTime:0.000333s ]

[ 2017-04-08T13:29:31+08:00 ] 122.190.2.18 /Pay/link?uid=8434&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln149162937134429
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000221s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000242s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149162937134429' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149162937134429','ln149162937134429','ln149162937134429','1491629371','1491629371','8434','22222','22222','1','1491629371','0','21','111.26.36.25','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149162937134429' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8434 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8434","ref1_name":"\u65ed","account":0,"username":"","uid":19629371,"sex":1,"openid":"ln149162937134429","cps_app_id":"1000000001","reg_type":1,"reg_time":1491629371,"reg_ip":1863984153,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8434' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8434' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay1-8434: reg:4 pay:1
DEBUG: reg--pay1-8434 randrate: 2.99
DEBUG: reg--pay1-8434 nowrate: 4
DEBUG: reg--pay1-8434 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8434','旭','0','','19629371','1','ln149162937134429','1000000001','1','1491629371','1863984153','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8434&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln149162937134429

[ 2017-04-08T13:29:32+08:00 ] 122.190.2.18 /Pay/link?uid=8434&code=031I5eQU1otsNS0Lg6QU1iafQU1I5eQH&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000174s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000257s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000275s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040813293256d08057ba0939573264',`openid`='oLiX9wPFhGoIqft9vhEzKNQdT32Y' WHERE ( orderid='ln149162937134429' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002836s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002850s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000100s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000112s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000323s ]
INFO: [ app_end ] --END-- [ RunTime:0.000339s ]

[ 2017-04-08T13:29:40+08:00 ] 58.211.2.120 /Pay/link?uid=8434&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491629380818023
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000270s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000288s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491629380818023' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491629380818023','ln1491629380818023','ln1491629380818023','1491629380','1491629380','8434','22222','22222','1','1491629380','0','21','101.226.33.208','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491629380818023' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8434 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay-data: {"ref1_id":"8434","ref1_name":"\u65ed","account":1,"username":"","uid":19629380,"sex":1,"openid":"ln1491629380818023","cps_app_id":"1000000001","reg_type":1,"reg_time":1491629380,"reg_ip":1709318608,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8434' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8434' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay1-8434: reg:4 pay:1
DEBUG: reg--pay1-8434 randrate: 3.085
DEBUG: reg--pay1-8434 nowrate: 4
DEBUG: reg--pay1-8434 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8434','旭','0','','19629380','1','ln1491629380818023','1000000001','1','1491629380','1709318608','0') [ RunTime:0.0006s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8434&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491629380818023

[ 2017-04-08T13:30:18+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000174s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491621959790567' AND `status` = 0 LIMIT 1   [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491621970',`transaction_id`='4001982001201704086269290484',`status`='1' WHERE `orderid` = 'ln1491621959790567' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000265s ]
INFO: [ app_end ] --END-- [ RunTime:0.000286s ]

[ 2017-04-08T13:30:23+08:00 ] 122.190.2.42 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491629422917814
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000271s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000289s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491629422917814' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491629422917814','ln1491629422917814','ln1491629422917814','1491629423','1491629423','8493','22222','22222','1','1491629423','0','39','202.99.113.176','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491629422917814' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19629423,"sex":1,"openid":"ln1491629422917814","cps_app_id":"1000000001","reg_type":1,"reg_time":1491629423,"reg_ip":3395514800,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8493: reg:45 pay:32
DEBUG: reg--pay1-8493 randrate: 3.345
DEBUG: reg--pay1-8493 nowrate: 1.40625
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19629423','1','ln1491629422917814','1000000001','1','1491629423','3395514800','0') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491629422917814

[ 2017-04-08T13:30:23+08:00 ] 122.190.2.42 /Pay/link?uid=8493&code=031yFLAr19xHYo0HGqBr1yAQAr1yFLA6&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000205s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000242s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000259s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0011s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040813302307c31ef9250961120062',`openid`='oLiX9wFH8OilYW-j6ASSsSgUnX-s' WHERE ( orderid='ln1491629422917814' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002989s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003019s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000095s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000115s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000279s ]
INFO: [ app_end ] --END-- [ RunTime:0.000297s ]

[ 2017-04-08T13:30:35+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000201s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000242s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000263s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491629422917814' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491629434',`transaction_id`='4002242001201704086286463763',`status`='1' WHERE `orderid` = 'ln1491629422917814' [ RunTime:0.0006s ]
DEBUG: order: {"id":"5647","refid":"8493","prepayid":"wx2017040813302307c31ef9250961120062","orderid":"ln1491629422917814","pay_orderid":"ln1491629422917814","openid":"oLiX9wFH8OilYW-j6ASSsSgUnX-s","uid":"1491629423","gid":"1","time":"1491629423","status":"0","money":"39","ip":"202.99.113.176","call_url":"http:\/\/www.wxasj.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 5647 LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491629422917814' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8395 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: bili:1--22222 -- 2017-04-07 17:31:33
DEBUG: {"account":1,"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","ref0_id":"8395","ref0_name":"sam","uid":"ln1491629422917814","username":"","cps_app_id":"1000000001","pay_serial":"ln1491629422917814","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4002242001201704086286463763","pay_channel":"1","pay_amount":"39","pay_type":1,"pay_time":"1491629434","pay_time_ymd":"2017-04-08","pay_time_h":"13","pay_time_ymdh":"2017040813","pay_ip":"202.99.113.176","ref2_id":0}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref0_id`,`ref0_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`,`ref2_id`) VALUES ('1','8493','大宝哥','8395','sam','ln1491629422917814','','1000000001','ln1491629422917814','22222','22222','4002242001201704086286463763','1','39','1','1491629434','2017-04-08','13','2017040813','202.99.113.176','0') [ RunTime:0.0005s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-08T13:30:39+08:00 ] 122.190.2.42 /Pay/link?type=jscall&orderid=ln1491629422917814&isvip=ln1491629422917814&uiver=&money=39&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000193s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: T6jOjbmj1NZ7evC4a5LFbp1Kkn6s4TCqn9059aD45PvgqbMJ7XXblGq2k50wWDu0fnfxvRqxhz9P8x5-egEefTfSbVToCKVv_pRRVaK9L1gUTPiAJAPOK
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491629422917814' LIMIT 1   [ RunTime:0.0006s ]

[ 2017-04-08T13:30:49+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491625596_8448521239' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491625605',`transaction_id`='4006762001201704086280363516',`status`='1' WHERE `orderid` = 'ln1491625596_8448521239' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000271s ]
INFO: [ app_end ] --END-- [ RunTime:0.000292s ]

[ 2017-04-08T13:30:50+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000239s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000258s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491629422917814' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491629434',`transaction_id`='4002242001201704086286463763',`status`='1' WHERE `orderid` = 'ln1491629422917814' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000269s ]
INFO: [ app_end ] --END-- [ RunTime:0.000290s ]

[ 2017-04-08T13:30:51+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000013s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000242s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000260s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491623788973788' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491623803',`transaction_id`='4007362001201704086273353074',`status`='1' WHERE `orderid` = 'ln1491623788973788' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000276s ]
INFO: [ app_end ] --END-- [ RunTime:0.000301s ]

[ 2017-04-08T13:31:06+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000206s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000224s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491629422917814' AND `status` = 0 LIMIT 1   [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491629434',`transaction_id`='4002242001201704086286463763',`status`='1' WHERE `orderid` = 'ln1491629422917814' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000280s ]
INFO: [ app_end ] --END-- [ RunTime:0.000303s ]

[ 2017-04-08T13:31:30+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491629207_8478529875' AND `status` = 0 LIMIT 1   [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491629243',`transaction_id`='4005762001201704086288326057',`status`='1' WHERE `orderid` = 'ln1491629207_8478529875' [ RunTime:0.0007s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000279s ]
INFO: [ app_end ] --END-- [ RunTime:0.000301s ]

[ 2017-04-08T13:31:37+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000239s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000258s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491629422917814' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491629434',`transaction_id`='4002242001201704086286463763',`status`='1' WHERE `orderid` = 'ln1491629422917814' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000254s ]
INFO: [ app_end ] --END-- [ RunTime:0.000281s ]

[ 2017-04-08T13:33:08+08:00 ] 122.190.2.42 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491629588_8493356007
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000226s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491629422917814' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491629588_8493356007' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491629588_8493356007','ln1491629588_8493356007','ln1491629588_8493356007','1491629588','1491629588','8493','22222','22222','1','1491629588','0','39','202.99.113.176','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491629588_8493356007' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19629588,"sex":1,"openid":"ln1491629588_8493356007","cps_app_id":"1000000001","reg_type":1,"reg_time":1491629588,"reg_ip":3395514800,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8493: reg:45 pay:33
DEBUG: reg--pay1-8493 randrate: 3.165
DEBUG: reg--pay1-8493 nowrate: 1.3636363636364
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19629588','1','ln1491629588_8493356007','1000000001','1','1491629588','3395514800','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln149162958752159

[ 2017-04-08T13:33:09+08:00 ] 122.190.2.42 /Pay/link?uid=8493&code=021JVPJQ0lxoFa2CWxLQ0kIAJQ0JVPJD&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000009s ]
INFO: [ app_init ] --END-- [ RunTime:0.000271s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000289s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000313s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408133309dc05a26bbd0212322544',`openid`='oLiX9wFH8OilYW-j6ASSsSgUnX-s' WHERE ( orderid='ln1491629588_8493356007' ) [ RunTime:0.0008s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000036s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000065s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002879s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002917s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000100s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000111s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000290s ]
INFO: [ app_end ] --END-- [ RunTime:0.000312s ]

[ 2017-04-08T13:34:39+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491629422917814' AND `status` = 0 LIMIT 1   [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491629434',`transaction_id`='4002242001201704086286463763',`status`='1' WHERE `orderid` = 'ln1491629422917814' [ RunTime:0.0008s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000273s ]
INFO: [ app_end ] --END-- [ RunTime:0.000294s ]

[ 2017-04-08T13:35:31+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000205s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491624078_8490561947' AND `status` = 0 LIMIT 1   [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491624085',`transaction_id`='4007612001201704086276439425',`status`='1' WHERE `orderid` = 'ln1491624078_8490561947' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000268s ]
INFO: [ app_end ] --END-- [ RunTime:0.000290s ]

[ 2017-04-08T13:36:31+08:00 ] 122.190.2.42 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491629790109747
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000011s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491629790109747' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491629790109747','ln1491629790109747','ln1491629790109747','1491629791','1491629791','8493','22222','22222','1','1491629791','0','23','39.82.174.206','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491629790109747' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19629791,"sex":1,"openid":"ln1491629790109747","cps_app_id":"1000000001","reg_type":1,"reg_time":1491629791,"reg_ip":659730126,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8493: reg:45 pay:33
DEBUG: reg--pay1-8493 randrate: 2.303
DEBUG: reg--pay1-8493 nowrate: 1.3636363636364
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19629791','1','ln1491629790109747','1000000001','1','1491629791','659730126','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491629790109747

[ 2017-04-08T13:36:32+08:00 ] 117.34.13.96 /Pay/link?uid=8493&code=031RtPEf2m7SLE0o8TGf2I7FEf2RtPEy&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000224s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000248s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000266s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081336325cdb448a2f0108488343',`openid`='oLiX9wHbUraOyrzu2GVvUtiDzN1g' WHERE ( orderid='ln1491629790109747' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003003s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003018s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000107s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000121s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000288s ]
INFO: [ app_end ] --END-- [ RunTime:0.000303s ]

[ 2017-04-08T13:36:48+08:00 ] 58.211.2.18 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491629808_8478859505
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000248s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000268s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491629207_8478529875' LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491629808_8478859505' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491629808_8478859505','ln1491629808_8478859505','ln1491629808_8478859505','1491629808','1491629808','8478','22222','22222','1','1491629808','0','29','120.192.82.122','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491629808_8478859505' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":0,"username":"","uid":19629808,"sex":1,"openid":"ln1491629808_8478859505","cps_app_id":"1000000001","reg_type":1,"reg_time":1491629808,"reg_ip":2025869946}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8478: reg:39 pay:26
DEBUG: reg--pay2-8478 randrate: 2.281
DEBUG: reg--pay2-8478 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','0','','19629808','1','ln1491629808_8478859505','1000000001','1','1491629808','2025869946') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491629808280217

[ 2017-04-08T13:36:49+08:00 ] 58.211.2.18 /Pay/link?uid=8478&code=031SFjhY1aHZiW0Yp7kY1AcmhY1SFjh5&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000209s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000226s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081336492e3431caf00729866478',`openid`='oLiX9wIA5Tm7bWNPF2mkuV7MIFaU' WHERE ( orderid='ln1491629808_8478859505' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000034s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000051s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002748s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002763s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000099s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000112s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000263s ]
INFO: [ app_end ] --END-- [ RunTime:0.000278s ]

[ 2017-04-08T13:37:00+08:00 ] 58.211.2.18 /Pay/link?uid=8484&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491629820_8484826228
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000207s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000241s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000261s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491624420_8484289746' LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491629820_8484826228' LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491629820_8484826228','ln1491629820_8484826228','ln1491629820_8484826228','1491629820','1491629820','8484','22222','22222','1','1491629820','0','21','39.149.251.31','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491629820_8484826228' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8484 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8484","ref2_name":"1037","account":0,"username":"","uid":19629820,"sex":1,"openid":"ln1491629820_8484826228","cps_app_id":"1000000001","reg_type":1,"reg_time":1491629820,"reg_ip":664140575}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8484' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8484' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8484: reg:3 pay:0
DEBUG: reg--pay2-8484 randrate: 2.107
DEBUG: reg--pay2-8484 nowrate: 0
DEBUG: reg--pay2-8484 pay is 0 account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8484','1037','0','','19629820','1','ln1491629820_8484826228','1000000001','1','1491629820','664140575') [ RunTime:0.0006s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8484&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491629819771970

[ 2017-04-08T13:37:00+08:00 ] 58.211.2.18 /Pay/link?uid=8484&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491629820_8484818570
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000193s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000237s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000257s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491629820_8484826228' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491629820_8484818570' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491629820_8484818570','ln1491629820_8484818570','ln1491629820_8484818570','1491629820','1491629820','8484','22222','22222','1','1491629820','0','21','39.149.251.31','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491629820_8484818570' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8484 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8484","ref2_name":"1037","account":0,"username":"","uid":19629820,"sex":1,"openid":"ln1491629820_8484818570","cps_app_id":"1000000001","reg_type":1,"reg_time":1491629820,"reg_ip":664140575}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8484' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8484' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8484: reg:3 pay:0
DEBUG: reg--pay2-8484 randrate: 2.135
DEBUG: reg--pay2-8484 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8484','1037','0','','19629820','1','ln1491629820_8484818570','1000000001','1','1491629820','664140575') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8484&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491629820610084

[ 2017-04-08T13:37:01+08:00 ] 58.211.2.18 /Pay/link?uid=8484&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491629821_8484645982
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491629820_8484818570' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491629821_8484645982' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491629821_8484645982','ln1491629821_8484645982','ln1491629821_8484645982','1491629821','1491629821','8484','22222','22222','1','1491629821','0','21','39.149.251.31','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491629821_8484645982' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8484 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8484","ref2_name":"1037","account":0,"username":"","uid":19629821,"sex":1,"openid":"ln1491629821_8484645982","cps_app_id":"1000000001","reg_type":1,"reg_time":1491629821,"reg_ip":664140575}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8484' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8484' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8484: reg:3 pay:0
DEBUG: reg--pay2-8484 randrate: 2.109
DEBUG: reg--pay2-8484 nowrate: 0
DEBUG: reg--pay2-8484 pay is 0 account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8484','1037','0','','19629821','1','ln1491629821_8484645982','1000000001','1','1491629821','664140575') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8484&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491629821387027

[ 2017-04-08T13:37:02+08:00 ] 58.211.2.18 /Pay/link?uid=8484&code=0413qPr30eY6kG13aTp30eXIr303qPrr&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000238s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000256s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408133702700cb861260722307672',`openid`='oLiX9wATzzQG3FOs5O0pvYkmAGVA' WHERE ( orderid='ln1491629821_8484645982' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000033s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000058s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.004217s ]
INFO: [ view_parse ] --END-- [ RunTime:0.004239s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000135s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000154s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000445s ]
INFO: [ app_end ] --END-- [ RunTime:0.000467s ]

[ 2017-04-08T13:37:45+08:00 ] 116.31.126.90 /Pay/link?uid=8455&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491629864980938
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000225s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000340s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000366s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491629864980938' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491629864980938','ln1491629864980938','ln1491629864980938','1491629865','1491629865','8455','22222','22222','1','1491629865','0','21','14.114.25.126','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491629864980938' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8455 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8455","ref2_name":"1008","account":0,"username":"","uid":19629865,"sex":1,"openid":"ln1491629864980938","cps_app_id":"1000000001","reg_type":1,"reg_time":1491629865,"reg_ip":242358654}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8455' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8455' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8455: reg:3 pay:3
DEBUG: reg--pay2-8455 randrate: 1.503
DEBUG: reg--pay2-8455 nowrate: 1
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8455','1008','0','','19629865','1','ln1491629864980938','1000000001','1','1491629865','242358654') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8455&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491629864980938

[ 2017-04-08T13:37:45+08:00 ] 116.31.126.90 /Pay/link?uid=8455&code=051Gpt6p1te58n0lJ25p1Owy6p1Gpt6z&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000261s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000286s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408133745395e6d11960264105557',`openid`='oLiX9wKjoO2lhzaDg7zHOLYNg54c' WHERE ( orderid='ln1491629864980938' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003034s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003049s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000097s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000110s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000276s ]
INFO: [ app_end ] --END-- [ RunTime:0.000297s ]

[ 2017-04-08T13:38:04+08:00 ] 101.71.55.95 /Pay/link?uid=8461&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491629883627896
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000239s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000256s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491629883627896' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491629883627896','ln1491629883627896','ln1491629883627896','1491629884','1491629884','8461','22222','22222','1','1491629884','0','23','27.211.40.54','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491629883627896' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8461 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8461","ref2_name":"1014","account":1,"username":"","uid":19629884,"sex":1,"openid":"ln1491629883627896","cps_app_id":"1000000001","reg_type":1,"reg_time":1491629884,"reg_ip":466823222}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8461' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8461' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8461: reg:7 pay:4
DEBUG: reg--pay2-8461 randrate: 2.082
DEBUG: reg--pay2-8461 nowrate: 1.75
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8461','1014','1','','19629884','1','ln1491629883627896','1000000001','1','1491629884','466823222') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8461&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491629883627896

[ 2017-04-08T13:38:05+08:00 ] 101.71.55.95 /Pay/link?uid=8461&code=021Q8D4D1IyDb20gTc4D1HDi4D1Q8D4U&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000252s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000271s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408133804f48a7842400044650640',`openid`='oLiX9wKqRk-1Lk3fzWPomj0T_eJI' WHERE ( orderid='ln1491629883627896' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000045s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003173s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003188s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000115s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000132s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000299s ]
INFO: [ app_end ] --END-- [ RunTime:0.000324s ]

[ 2017-04-08T13:38:11+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000208s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000226s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491629883627896' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491629890',`transaction_id`='4007432001201704086286678196',`status`='1' WHERE `orderid` = 'ln1491629883627896' [ RunTime:0.0006s ]
DEBUG: order: {"id":"5655","refid":"8461","prepayid":"wx20170408133804f48a7842400044650640","orderid":"ln1491629883627896","pay_orderid":"ln1491629883627896","openid":"oLiX9wKqRk-1Lk3fzWPomj0T_eJI","uid":"1491629884","gid":"1","time":"1491629884","status":"0","money":"23","ip":"27.211.40.54","call_url":"http:\/\/www.wxasj.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 5655 LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491629883627896' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8461 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: bili:1--22222 -- 2017-04-06 21:49:20
DEBUG: {"account":1,"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8461","ref2_name":"1014","uid":"ln1491629883627896","username":"","cps_app_id":"1000000001","pay_serial":"ln1491629883627896","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4007432001201704086286678196","pay_channel":"1","pay_amount":"23","pay_type":1,"pay_time":"1491629890","pay_time_ymd":"2017-04-08","pay_time_h":"13","pay_time_ymdh":"2017040813","pay_ip":"27.211.40.54"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8389','mrpei','8461','1014','ln1491629883627896','','1000000001','ln1491629883627896','22222','22222','4007432001201704086286678196','1','23','1','1491629890','2017-04-08','13','2017040813','27.211.40.54') [ RunTime:0.0006s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-08T13:38:14+08:00 ] 101.71.55.95 /Pay/link?type=jscall&orderid=ln1491629883627896&isvip=ln1491629883627896&uiver=&money=23&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000255s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000274s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491629883627896' LIMIT 1   [ RunTime:0.0005s ]

[ 2017-04-08T13:38:26+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491629883627896' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491629890',`transaction_id`='4007432001201704086286678196',`status`='1' WHERE `orderid` = 'ln1491629883627896' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000270s ]
INFO: [ app_end ] --END-- [ RunTime:0.000290s ]

[ 2017-04-08T13:38:42+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000174s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000256s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000278s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491629883627896' AND `status` = 0 LIMIT 1   [ RunTime:0.0004s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491629890',`transaction_id`='4007432001201704086286678196',`status`='1' WHERE `orderid` = 'ln1491629883627896' [ RunTime:0.0007s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000271s ]
INFO: [ app_end ] --END-- [ RunTime:0.000292s ]

[ 2017-04-08T13:39:15+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000246s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000251s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000270s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491629883627896' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491629890',`transaction_id`='4007432001201704086286678196',`status`='1' WHERE `orderid` = 'ln1491629883627896' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000271s ]
INFO: [ app_end ] --END-- [ RunTime:0.000292s ]

[ 2017-04-08T13:39:30+08:00 ] 101.71.55.95 /Pay/link?uid=8461&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491629970_8461454112
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000208s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000241s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491629883627896' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491629970_8461454112' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491629970_8461454112','ln1491629970_8461454112','ln1491629970_8461454112','1491629970','1491629970','8461','22222','22222','1','1491629970','0','23','27.211.40.54','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491629970_8461454112' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8461 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8461","ref2_name":"1014","account":0,"username":"","uid":19629970,"sex":1,"openid":"ln1491629970_8461454112","cps_app_id":"1000000001","reg_type":1,"reg_time":1491629970,"reg_ip":466823222}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8461' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8461' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8461: reg:8 pay:5
DEBUG: reg--pay2-8461 randrate: 2.065
DEBUG: reg--pay2-8461 nowrate: 1.6
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8461','1014','0','','19629970','1','ln1491629970_8461454112','1000000001','1','1491629970','466823222') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8461&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491629970569138

[ 2017-04-08T13:39:31+08:00 ] 101.71.55.95 /Pay/link?uid=8461&code=051S9pqa2k1SQQ0yNvsa2lthqa2S9pqu&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000205s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000242s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000260s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040813393142c73c8c500639695541',`openid`='oLiX9wKqRk-1Lk3fzWPomj0T_eJI' WHERE ( orderid='ln1491629970_8461454112' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003071s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003094s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000110s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000122s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000296s ]
INFO: [ app_end ] --END-- [ RunTime:0.000310s ]

[ 2017-04-08T13:39:40+08:00 ] 58.211.2.42 /Pay/link?uid=8461
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000220s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000252s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000271s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491629980_8461925736' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491629980_8461925736','ln1491629980_8461925736','ln1491629980_8461925736','1491629980','1491629980','8461','22222','22222','1','1491629980','0','39','101.226.66.181','ceshi','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491629980_8461925736' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8461 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8461","ref2_name":"1014","account":1,"username":"","uid":19629980,"sex":1,"openid":"ln1491629980_8461925736","cps_app_id":"1000000001","reg_type":1,"reg_time":1491629980,"reg_ip":1709327029}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8461' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8461' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8461: reg:8 pay:5
DEBUG: reg--pay2-8461 randrate: 1.677
DEBUG: reg--pay2-8461 nowrate: 1.6
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8461','1014','1','','19629980','1','ln1491629980_8461925736','1000000001','1','1491629980','1709327029') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8461

[ 2017-04-08T13:40:36+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000193s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627982461437' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491627992',`transaction_id`='4000322001201704086283014652',`status`='1' WHERE `orderid` = 'ln1491627982461437' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000247s ]
INFO: [ app_end ] --END-- [ RunTime:0.000267s ]

[ 2017-04-08T13:41:18+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000280s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000329s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491622612678303' AND `status` = 0 LIMIT 1   [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491622624',`transaction_id`='4001082001201704086272689430',`status`='1' WHERE `orderid` = 'ln1491622612678303' [ RunTime:0.0007s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000275s ]
INFO: [ app_end ] --END-- [ RunTime:0.000296s ]

[ 2017-04-08T13:41:29+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000201s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491622626648230' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491622635',`transaction_id`='4005342001201704086270709713',`status`='1' WHERE `orderid` = 'ln1491622626648230' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000267s ]
INFO: [ app_end ] --END-- [ RunTime:0.000289s ]

[ 2017-04-08T13:42:18+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000222s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000240s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491629883627896' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491629890',`transaction_id`='4007432001201704086286678196',`status`='1' WHERE `orderid` = 'ln1491629883627896' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000268s ]
INFO: [ app_end ] --END-- [ RunTime:0.000290s ]

[ 2017-04-08T13:43:51+08:00 ] 122.190.2.24 /Pay/link?uid=8471&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491630231_8471541647
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000243s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000263s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491560467_8471770566' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491630231_8471541647' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491630231_8471541647','ln1491630231_8471541647','ln1491630231_8471541647','1491630231','1491630231','8471','22222','22222','1','1491630231','0','23','118.74.33.215','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491630231_8471541647' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8471 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8471","ref2_name":"1024","account":0,"username":"","uid":19630231,"sex":1,"openid":"ln1491630231_8471541647","cps_app_id":"1000000001","reg_type":1,"reg_time":1491630231,"reg_ip":1984569815}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8471' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8471' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8471: reg:7 pay:6
DEBUG: reg--pay2-8471 randrate: 2.205
DEBUG: reg--pay2-8471 nowrate: 1.1666666666667
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8471','1024','0','','19630231','1','ln1491630231_8471541647','1000000001','1','1491630231','1984569815') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8471&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491630230208773

[ 2017-04-08T13:43:52+08:00 ] 117.34.13.96 /Pay/link?uid=8471&code=0213ghnK1KRrD80kwppK1213nK13ghnd&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000192s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000245s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000267s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408134352f690d8d83a0594086526',`openid`='oLiX9wGmV94X-s1LpEbAZjZUcdPg' WHERE ( orderid='ln1491630231_8471541647' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000026s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002893s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002907s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000099s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000111s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000324s ]
INFO: [ app_end ] --END-- [ RunTime:0.000341s ]

[ 2017-04-08T13:43:52+08:00 ] 122.190.2.24 /Pay/link?uid=8471&code=021SJsE907ghit1j1eH90MipE90SJsEI&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408134352f690d8d83a0356682828',`openid`='oLiX9wGmV94X-s1LpEbAZjZUcdPg' WHERE ( orderid='ln1491630231_8471541647' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000034s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000051s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002896s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002910s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000105s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000118s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000288s ]
INFO: [ app_end ] --END-- [ RunTime:0.000304s ]

[ 2017-04-08T13:44:58+08:00 ] 117.34.13.84 /Pay/link?uid=8406&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491630298182699
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000192s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000260s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000280s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491630298182699' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491630298182699','ln1491630298182699','ln1491630298182699','1491630298','1491630298','8406','22222','22222','1','1491630298','0','39','14.107.38.212','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0013s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491630298182699' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8406 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8401 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8401","ref1_name":"\u840d","ref2_id":"8406","ref2_name":"\u8303\u51b0\u51b0","account":1,"username":"","uid":19630298,"sex":1,"openid":"ln1491630298182699","cps_app_id":"1000000001","reg_type":1,"reg_time":1491630298,"reg_ip":241903316}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8406' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8406' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8406: reg:3 pay:0
DEBUG: reg--pay2-8406 randrate: 2.14
DEBUG: reg--pay2-8406 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8401','萍','8406','范冰冰','1','','19630298','1','ln1491630298182699','1000000001','1','1491630298','241903316') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8406&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491630298182699

[ 2017-04-08T13:44:59+08:00 ] 117.34.13.84 /Pay/link?uid=8406&code=011bWPkc1pgu1t0NLUjc138Qkc1bWPk3&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000247s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000267s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081344592e915ad5750871017423',`openid`='oLiX9wNXNtj0AzsKyGJgXHgqMsWI' WHERE ( orderid='ln1491630298182699' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003076s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003090s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000091s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000105s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000321s ]
INFO: [ app_end ] --END-- [ RunTime:0.000337s ]

[ 2017-04-08T13:44:59+08:00 ] 117.34.13.84 /Pay/link?uid=8406&code=011Ni8fZ1oHZtX0CqdgZ1ndSeZ1Ni8fZ&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081344592e915ad5750014150660',`openid`='oLiX9wNXNtj0AzsKyGJgXHgqMsWI' WHERE ( orderid='ln1491630298182699' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002810s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002824s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000095s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000107s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000293s ]
INFO: [ app_end ] --END-- [ RunTime:0.000308s ]

[ 2017-04-08T13:45:00+08:00 ] 117.34.13.30 /favicon.ico
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.

[ 2017-04-08T13:45:08+08:00 ] 58.211.2.138 /Pay/link?uid=8406&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491630308537576
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000201s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000227s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491630308537576' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491630308537576','ln1491630308537576','ln1491630308537576','1491630308','1491630308','8406','22222','22222','1','1491630308','0','39','180.163.2.88','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491630308537576' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8406 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8401 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8401","ref1_name":"\u840d","ref2_id":"8406","ref2_name":"\u8303\u51b0\u51b0","account":0,"username":"","uid":19630308,"sex":1,"openid":"ln1491630308537576","cps_app_id":"1000000001","reg_type":1,"reg_time":1491630308,"reg_ip":3030581848}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8406' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0009s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8406' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8406: reg:4 pay:0
DEBUG: reg--pay2-8406 randrate: 1.648
DEBUG: reg--pay2-8406 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8401','萍','8406','范冰冰','0','','19630308','1','ln1491630308537576','1000000001','1','1491630308','3030581848') [ RunTime:0.0006s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8406&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491630308537576

[ 2017-04-08T13:45:41+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000220s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000240s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000259s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491622849486180' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491622887',`transaction_id`='4006272001201704086269761318',`status`='1' WHERE `orderid` = 'ln1491622849486180' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000282s ]
INFO: [ app_end ] --END-- [ RunTime:0.000302s ]

[ 2017-04-08T13:46:13+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000216s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491628319_8478551341' AND `status` = 0 LIMIT 1   [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491628326',`transaction_id`='4002642001201704086281870262',`status`='1' WHERE `orderid` = 'ln1491628319_8478551341' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000254s ]
INFO: [ app_end ] --END-- [ RunTime:0.000273s ]

[ 2017-04-08T13:46:25+08:00 ] 122.190.2.48 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491630384296767
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000187s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000235s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491630384296767' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491630384296767','ln1491630384296767','ln1491630384296767','1491630385','1491630385','8478','22222','22222','1','1491630385','0','32','202.109.166.213','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491630384296767' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":0,"username":"","uid":19630385,"sex":1,"openid":"ln1491630384296767","cps_app_id":"1000000001","reg_type":1,"reg_time":1491630385,"reg_ip":3396183765}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8478: reg:39 pay:26
DEBUG: reg--pay2-8478 randrate: 2.413
DEBUG: reg--pay2-8478 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','0','','19630385','1','ln1491630384296767','1000000001','1','1491630385','3396183765') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=32&orderid=ln1491630384296767

[ 2017-04-08T13:46:26+08:00 ] 122.190.2.48 /Pay/link?uid=8478&code=031BSyK20omXLE1jfII20qkLK20BSyKL&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000248s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000265s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040813462637283eee560795162706',`openid`='oLiX9wPit9marukivBg6MPa1iq1o' WHERE ( orderid='ln1491630384296767' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003219s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003233s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000124s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000138s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000365s ]
INFO: [ app_end ] --END-- [ RunTime:0.000384s ]

[ 2017-04-08T13:46:59+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000264s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000287s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491624759_849350526' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491624766',`transaction_id`='4002662001201704086273901404',`status`='1' WHERE `orderid` = 'ln1491624759_849350526' [ RunTime:0.0008s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000273s ]
INFO: [ app_end ] --END-- [ RunTime:0.000294s ]

[ 2017-04-08T13:47:02+08:00 ] 122.190.2.18 /Pay/link?uid=8502&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491630421622516
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000192s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000255s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491630421622516' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491630421622516','ln1491630421622516','ln1491630421622516','1491630422','1491630422','8502','22222','22222','1','1491630422','0','21','123.11.233.229','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0011s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0010s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491630421622516' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0012s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8502 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8502","ref2_name":"\u59b2\u5df188","account":0,"username":"","uid":19630422,"sex":1,"openid":"ln1491630421622516","cps_app_id":"1000000001","reg_type":1,"reg_time":1491630422,"reg_ip":2064378341}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8502' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0013s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8502' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
DEBUG: reg--pay2-8502: reg:0 pay:0
DEBUG: reg--pay2-8502 randrate: 2.498
DEBUG: reg--pay2-8502 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8502','妲己88','1','','19630422','1','ln1491630421622516','1000000001','1','1491630422','2064378341') [ RunTime:0.0010s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8502&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491630421622516

[ 2017-04-08T13:47:02+08:00 ] 122.190.2.18 /Pay/link?uid=8502&code=011NRZ4Q0f3n592Ihc4Q0U735Q0NRZ4j&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408134702b1d6ea67870895840498',`openid`='oLiX9wI8F0lmzGS3VNrLHTz0kY9Y' WHERE ( orderid='ln1491630421622516' ) [ RunTime:0.0009s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002864s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002879s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000098s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000109s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000296s ]
INFO: [ app_end ] --END-- [ RunTime:0.000311s ]

[ 2017-04-08T13:47:11+08:00 ] 58.211.2.120 /Pay/link?uid=8502&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491630431375195
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000197s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000274s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000298s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491630431375195' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491630431375195','ln1491630431375195','ln1491630431375195','1491630431','1491630431','8502','22222','22222','1','1491630431','0','21','101.226.33.203','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491630431375195' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8502 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8502","ref2_name":"\u59b2\u5df188","account":1,"username":"","uid":19630431,"sex":1,"openid":"ln1491630431375195","cps_app_id":"1000000001","reg_type":1,"reg_time":1491630431,"reg_ip":1709318603}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8502' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8502' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8502: reg:1 pay:0
DEBUG: reg--pay2-8502 randrate: 2.153
DEBUG: reg--pay2-8502 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8502','妲己88','1','','19630431','1','ln1491630431375195','1000000001','1','1491630431','1709318603') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8502&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491630431375195

[ 2017-04-08T13:48:39+08:00 ] 116.31.126.102 /Pay/link?uid=8404&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491630519930385
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000226s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000252s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000270s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491630519930385' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491630519930385','ln1491630519930385','ln1491630519930385','1491630519','1491630519','8404','22222','22222','1','1491630519','0','21','113.65.21.125','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491630519930385' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8404 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8404","ref2_name":"\u5c0f\u4e5d","account":1,"username":"","uid":19630519,"sex":1,"openid":"ln1491630519930385","cps_app_id":"1000000001","reg_type":1,"reg_time":1491630519,"reg_ip":1900090749}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8404' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8404' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8404: reg:3 pay:0
DEBUG: reg--pay2-8404 randrate: 1.721
DEBUG: reg--pay2-8404 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8404','小九','1','','19630519','1','ln1491630519930385','1000000001','1','1491630519','1900090749') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8404&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491630519930385

[ 2017-04-08T13:48:39+08:00 ] 122.190.2.24 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000249s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000268s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000078s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000094s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000095s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000107s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000267s ]
INFO: [ app_end ] --END-- [ RunTime:0.000280s ]

[ 2017-04-08T13:48:39+08:00 ] 122.190.2.12 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000211s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000306s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000329s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000072s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000093s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000108s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000122s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000264s ]
INFO: [ app_end ] --END-- [ RunTime:0.000280s ]

[ 2017-04-08T13:48:40+08:00 ] 116.31.126.102 /Pay/link?uid=8404&code=021zx5Cp0M9f1r1x9fzp0UKPBp0zx5Cn&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040813484098bc48f4760769724962',`openid`='oLiX9wKCoV_vzGzFu99jmyyFyDW0' WHERE ( orderid='ln1491630519930385' ) [ RunTime:0.0009s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002974s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002991s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000099s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000112s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000292s ]
INFO: [ app_end ] --END-- [ RunTime:0.000308s ]

[ 2017-04-08T13:48:40+08:00 ] 116.31.126.102 /Pay/link?uid=8404&code=031Yt1z21rnzeL1A0sv21EkXy21Yt1zQ&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000232s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000249s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040813484098bc48f4760185426709',`openid`='oLiX9wKCoV_vzGzFu99jmyyFyDW0' WHERE ( orderid='ln1491630519930385' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002847s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002864s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000093s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000106s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000277s ]
INFO: [ app_end ] --END-- [ RunTime:0.000293s ]

[ 2017-04-08T13:48:49+08:00 ] 58.211.2.78 /Pay/link?uid=8404&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491630529737666
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000232s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000250s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491630529737666' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491630529737666','ln1491630529737666','ln1491630529737666','1491630529','1491630529','8404','22222','22222','1','1491630529','0','21','180.153.214.182','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491630529737666' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8404 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8404","ref2_name":"\u5c0f\u4e5d","account":0,"username":"","uid":19630529,"sex":1,"openid":"ln1491630529737666","cps_app_id":"1000000001","reg_type":1,"reg_time":1491630529,"reg_ip":3029980854}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8404' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8404' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8404: reg:4 pay:0
DEBUG: reg--pay2-8404 randrate: 1.621
DEBUG: reg--pay2-8404 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8404','小九','0','','19630529','1','ln1491630529737666','1000000001','1','1491630529','3029980854') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8404&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491630529737666

[ 2017-04-08T13:48:55+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000230s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000218s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000238s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491630519930385' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491630535',`transaction_id`='4006232001201704086284134562',`status`='1' WHERE `orderid` = 'ln1491630519930385' [ RunTime:0.0006s ]
DEBUG: order: {"id":"5664","refid":"8404","prepayid":"wx2017040813484098bc48f4760185426709","orderid":"ln1491630519930385","pay_orderid":"ln1491630519930385","openid":"oLiX9wKCoV_vzGzFu99jmyyFyDW0","uid":"1491630519","gid":"1","time":"1491630519","status":"0","money":"21","ip":"113.65.21.125","call_url":"http:\/\/www.wxaso.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 5664 LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491630519930385' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8404 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: bili:1--22222 -- 2017-04-04 15:25:06
DEBUG: {"account":1,"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8404","ref2_name":"\u5c0f\u4e5d","uid":"ln1491630519930385","username":"","cps_app_id":"1000000001","pay_serial":"ln1491630519930385","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4006232001201704086284134562","pay_channel":"1","pay_amount":"21","pay_type":1,"pay_time":"1491630535","pay_time_ymd":"2017-04-08","pay_time_h":"13","pay_time_ymdh":"2017040813","pay_ip":"113.65.21.125"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8399','小美','8404','小九','ln1491630519930385','','1000000001','ln1491630519930385','22222','22222','4006232001201704086284134562','1','21','1','1491630535','2017-04-08','13','2017040813','113.65.21.125') [ RunTime:0.0005s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-08T13:49:00+08:00 ] 116.31.126.107 /Pay/link?type=jscall&orderid=ln1491630519930385&isvip=ln1491630519930385&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491630519930385' LIMIT 1   [ RunTime:0.0005s ]

[ 2017-04-08T13:49:04+08:00 ] 116.31.126.102 /Pay/link?uid=8404&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491630544_8404457861
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000241s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000258s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491630519930385' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491630544_8404457861' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491630544_8404457861','ln1491630544_8404457861','ln1491630544_8404457861','1491630544','1491630544','8404','22222','22222','1','1491630544','0','21','113.65.21.125','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491630544_8404457861' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8404 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8399 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8399","ref1_name":"\u5c0f\u7f8e","ref2_id":"8404","ref2_name":"\u5c0f\u4e5d","account":1,"username":"","uid":19630544,"sex":1,"openid":"ln1491630544_8404457861","cps_app_id":"1000000001","reg_type":1,"reg_time":1491630544,"reg_ip":1900090749}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8404' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8404' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8404: reg:4 pay:1
DEBUG: reg--pay2-8404 randrate: 1.719
DEBUG: reg--pay2-8404 nowrate: 4
DEBUG: reg--pay2-8404 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8399','小美','8404','小九','0','','19630544','1','ln1491630544_8404457861','1000000001','1','1491630544','1900090749') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8404&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491630542938371

[ 2017-04-08T13:49:06+08:00 ] 116.31.126.102 /Pay/link?uid=8404&code=011tnHcU0Cu8GV1TAJdU0IjCcU0tnHcE&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000217s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000229s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000250s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408134906b4b82a465c0254139084',`openid`='oLiX9wKCoV_vzGzFu99jmyyFyDW0' WHERE ( orderid='ln1491630544_8404457861' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000027s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000063s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002784s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002811s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000100s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000268s ]
INFO: [ app_end ] --END-- [ RunTime:0.000284s ]

[ 2017-04-08T13:49:08+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000221s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000239s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491630519930385' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491630535',`transaction_id`='4006232001201704086284134562',`status`='1' WHERE `orderid` = 'ln1491630519930385' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000260s ]
INFO: [ app_end ] --END-- [ RunTime:0.000281s ]

[ 2017-04-08T13:49:24+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000178s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491619497_8451483903' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491619513',`transaction_id`='4001472001201704086265098560',`status`='1' WHERE `orderid` = 'ln1491619497_8451483903' [ RunTime:0.0007s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000288s ]
INFO: [ app_end ] --END-- [ RunTime:0.000320s ]

[ 2017-04-08T13:49:25+08:00 ] 117.34.13.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000244s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000263s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491630519930385' AND `status` = 0 LIMIT 1   [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491630535',`transaction_id`='4006232001201704086284134562',`status`='1' WHERE `orderid` = 'ln1491630519930385' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000270s ]
INFO: [ app_end ] --END-- [ RunTime:0.000291s ]

[ 2017-04-08T13:49:56+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491630519930385' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491630535',`transaction_id`='4006232001201704086284134562',`status`='1' WHERE `orderid` = 'ln1491630519930385' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000270s ]
INFO: [ app_end ] --END-- [ RunTime:0.000289s ]

[ 2017-04-08T13:50:09+08:00 ] 117.34.13.84 /Pay/link?uid=8461&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491630608898217
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000192s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000251s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000273s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0010s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491630608898217' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491630608898217','ln1491630608898217','ln1491630608898217','1491630609','1491630609','8461','22222','22222','1','1491630609','0','39','219.155.183.76','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491630608898217' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8461 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8461","ref2_name":"1014","account":0,"username":"","uid":19630609,"sex":1,"openid":"ln1491630608898217","cps_app_id":"1000000001","reg_type":1,"reg_time":1491630609,"reg_ip":3684415308}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8461' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8461' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8461: reg:9 pay:5
DEBUG: reg--pay2-8461 randrate: 2.042
DEBUG: reg--pay2-8461 nowrate: 1.8
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8461','1014','0','','19630609','1','ln1491630608898217','1000000001','1','1491630609','3684415308') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8461&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491630608898217

[ 2017-04-08T13:50:10+08:00 ] 122.190.2.84 /Pay/link?uid=8461&code=021mwxez1dTN5f0UvTez133Iez1mwxew&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000177s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000222s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000238s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408135010bed4f307db0773522424',`openid`='oLiX9wM3kg7CemW9BK5fOSl9aoy8' WHERE ( orderid='ln1491630608898217' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002984s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003007s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000130s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000148s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000300s ]
INFO: [ app_end ] --END-- [ RunTime:0.000315s ]

[ 2017-04-08T13:50:23+08:00 ] 122.190.2.84 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491630622575529
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000250s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491630622575529' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491630622575529','ln1491630622575529','ln1491630622575529','1491630623','1491630623','8493','22222','22222','1','1491630623','0','29','223.104.1.227','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491630622575529' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0006s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19630623,"sex":1,"openid":"ln1491630622575529","cps_app_id":"1000000001","reg_type":1,"reg_time":1491630623,"reg_ip":3748135395,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8493: reg:45 pay:33
DEBUG: reg--pay1-8493 randrate: 2.698
DEBUG: reg--pay1-8493 nowrate: 1.3636363636364
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19630623','1','ln1491630622575529','1000000001','1','1491630623','3748135395','0') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491630622575529

[ 2017-04-08T13:50:24+08:00 ] 122.190.2.84 /Pay/link?uid=8493&code=011usbi91dkIXR1UDwj919Dji91usbig&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000243s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000260s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408135024060dfee8ec0378513328',`openid`='oLiX9wPbtyCd2edDAOShdhkDgphg' WHERE ( orderid='ln1491630622575529' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000030s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000050s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002948s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002962s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000087s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000109s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000297s ]
INFO: [ app_end ] --END-- [ RunTime:0.000317s ]

[ 2017-04-08T13:50:25+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491623161956987' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491623172',`transaction_id`='4001202001201704086272988833',`status`='1' WHERE `orderid` = 'ln1491623161956987' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000259s ]
INFO: [ app_end ] --END-- [ RunTime:0.000280s ]

[ 2017-04-08T13:50:29+08:00 ] 116.31.126.105 /Pay/link?uid=8502&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491630628201678
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000245s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491630628201678' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491630628201678','ln1491630628201678','ln1491630628201678','1491630629','1491630629','8502','22222','22222','1','1491630629','0','21','183.25.243.204','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491630628201678' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0009s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8502 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8502","ref2_name":"\u59b2\u5df188","account":1,"username":"","uid":19630629,"sex":1,"openid":"ln1491630628201678","cps_app_id":"1000000001","reg_type":1,"reg_time":1491630629,"reg_ip":3071931340}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8502' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8502' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8502: reg:2 pay:0
DEBUG: reg--pay2-8502 randrate: 2.446
DEBUG: reg--pay2-8502 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8502','妲己88','1','','19630629','1','ln1491630628201678','1000000001','1','1491630629','3071931340') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8502&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491630628201678

[ 2017-04-08T13:50:29+08:00 ] 116.31.126.105 /Pay/link?uid=8502&code=021kj3Oo1hhQon0ezoNo1eShOo1kj3OW&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000261s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000281s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408135029e8307348fb0195799736',`openid`='oLiX9wE26bPQCk6fEPZ3pTRprmLA' WHERE ( orderid='ln1491630628201678' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000026s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000047s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002934s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002948s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000109s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000132s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000311s ]
INFO: [ app_end ] --END-- [ RunTime:0.000332s ]

[ 2017-04-08T13:50:38+08:00 ] 58.211.2.42 /Pay/link?uid=8502&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491630638856572
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000208s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000224s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491630638856572' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491630638856572','ln1491630638856572','ln1491630638856572','1491630638','1491630638','8502','22222','22222','1','1491630638','0','21','180.153.206.23','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491630638856572' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8502 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8502","ref2_name":"\u59b2\u5df188","account":1,"username":"","uid":19630638,"sex":1,"openid":"ln1491630638856572","cps_app_id":"1000000001","reg_type":1,"reg_time":1491630638,"reg_ip":3029978647}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8502' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8502' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8502: reg:3 pay:0
DEBUG: reg--pay2-8502 randrate: 2.45
DEBUG: reg--pay2-8502 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8502','妲己88','1','','19630638','1','ln1491630638856572','1000000001','1','1491630638','3029978647') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8502&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491630638856572

[ 2017-04-08T13:50:43+08:00 ] 117.34.13.12 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491630643688279
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000213s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000257s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000275s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491630643688279' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491630643688279','ln1491630643688279','ln1491630643688279','1491630643','1491630643','8478','22222','22222','1','1491630643','0','29','223.104.15.244','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491630643688279' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":0,"username":"","uid":19630643,"sex":1,"openid":"ln1491630643688279","cps_app_id":"1000000001","reg_type":1,"reg_time":1491630643,"reg_ip":3748138996}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8478: reg:39 pay:26
DEBUG: reg--pay2-8478 randrate: 1.692
DEBUG: reg--pay2-8478 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','0','','19630643','1','ln1491630643688279','1000000001','1','1491630643','3748138996') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491630643688279

[ 2017-04-08T13:50:44+08:00 ] 117.34.13.12 /Pay/link?uid=8478&code=011SONkb2LvpkS0k9Ynb2S9Kkb2SONkm&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081350443369b588600608240505',`openid`='oLiX9wMkhQDVKLfCHG8sE53iR39I' WHERE ( orderid='ln1491630643688279' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000026s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000045s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002796s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002810s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000111s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000135s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000258s ]
INFO: [ app_end ] --END-- [ RunTime:0.000273s ]

[ 2017-04-08T13:51:19+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491619614282195' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491619621',`transaction_id`='4002882001201704086265142954',`status`='1' WHERE `orderid` = 'ln1491619614282195' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000249s ]
INFO: [ app_end ] --END-- [ RunTime:0.000269s ]

[ 2017-04-08T13:51:33+08:00 ] 122.190.2.42 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491630692642557
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000241s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000258s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491630692642557' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491630692642557','ln1491630692642557','ln1491630692642557','1491630693','1491630693','8493','22222','22222','1','1491630693','0','39','117.136.98.158','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491630692642557' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19630693,"sex":1,"openid":"ln1491630692642557","cps_app_id":"1000000001","reg_type":1,"reg_time":1491630693,"reg_ip":1971872414,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8493: reg:45 pay:33
DEBUG: reg--pay1-8493 randrate: 2.814
DEBUG: reg--pay1-8493 nowrate: 1.3636363636364
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19630693','1','ln1491630692642557','1000000001','1','1491630693','1971872414','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln1491630692642557

[ 2017-04-08T13:51:34+08:00 ] 122.190.2.42 /Pay/link?uid=8493&code=041N2O0q0IIdzq1yXZZp0quZ0q0N2O0n&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000202s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408135134a8cbb31d8c0127176481',`openid`='oLiX9wIKzymIZOTADmd22xLD_OLo' WHERE ( orderid='ln1491630692642557' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000026s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000047s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002958s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002974s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000106s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000120s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000331s ]
INFO: [ app_end ] --END-- [ RunTime:0.000347s ]

[ 2017-04-08T13:51:37+08:00 ] 122.190.2.42 /Pay/link?uid=8469&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491630697523853
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000354s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000373s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491630697523853' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491630697523853','ln1491630697523853','ln1491630697523853','1491630697','1491630697','8469','22222','22222','1','1491630697','0','21','118.77.229.72','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491630697523853' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8469 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8469","ref2_name":"1022","account":0,"username":"","uid":19630697,"sex":1,"openid":"ln1491630697523853","cps_app_id":"1000000001","reg_type":1,"reg_time":1491630697,"reg_ip":1984816456}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8469' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8469' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8469: reg:3 pay:2
DEBUG: reg--pay2-8469 randrate: 2.056
DEBUG: reg--pay2-8469 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8469','1022','0','','19630697','1','ln1491630697523853','1000000001','1','1491630697','1984816456') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8469&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491630697523853

[ 2017-04-08T13:51:38+08:00 ] 122.190.2.42 /Pay/link?uid=8469&code=0416ZAtT1rfUea1JAouT16NBtT16ZAtN&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000201s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000227s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000245s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081351381f525a97530463119885',`openid`='oLiX9wHcfOk6NjG1UrTq-c_KPdKo' WHERE ( orderid='ln1491630697523853' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000028s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000046s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003155s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003170s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000120s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000136s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000330s ]
INFO: [ app_end ] --END-- [ RunTime:0.000346s ]

[ 2017-04-08T13:51:38+08:00 ] 122.190.2.42 /Pay/link?uid=8469&code=051dzZaR1pY4W71GmMbR1pv7bR1dzZaF&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000201s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000226s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081351381f525a97530360958391',`openid`='oLiX9wHcfOk6NjG1UrTq-c_KPdKo' WHERE ( orderid='ln1491630697523853' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002921s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002939s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000100s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000113s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000292s ]
INFO: [ app_end ] --END-- [ RunTime:0.000307s ]

[ 2017-04-08T13:51:44+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000195s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000225s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491630692642557' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491630703',`transaction_id`='4007742001201704086290344642',`status`='1' WHERE `orderid` = 'ln1491630692642557' [ RunTime:0.0007s ]
DEBUG: order: {"id":"5672","refid":"8493","prepayid":"wx20170408135134a8cbb31d8c0127176481","orderid":"ln1491630692642557","pay_orderid":"ln1491630692642557","openid":"oLiX9wIKzymIZOTADmd22xLD_OLo","uid":"1491630693","gid":"1","time":"1491630693","status":"0","money":"39","ip":"117.136.98.158","call_url":"http:\/\/www.wxasj.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 5672 LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491630692642557' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8395 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: bili:1--22222 -- 2017-04-07 17:31:33
DEBUG: {"account":1,"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","ref0_id":"8395","ref0_name":"sam","uid":"ln1491630692642557","username":"","cps_app_id":"1000000001","pay_serial":"ln1491630692642557","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4007742001201704086290344642","pay_channel":"1","pay_amount":"39","pay_type":1,"pay_time":"1491630703","pay_time_ymd":"2017-04-08","pay_time_h":"13","pay_time_ymdh":"2017040813","pay_ip":"117.136.98.158","ref2_id":0}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref0_id`,`ref0_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`,`ref2_id`) VALUES ('1','8493','大宝哥','8395','sam','ln1491630692642557','','1000000001','ln1491630692642557','22222','22222','4007742001201704086290344642','1','39','1','1491630703','2017-04-08','13','2017040813','117.136.98.158','0') [ RunTime:0.0005s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-08T13:51:47+08:00 ] 58.211.2.42 /Pay/link?uid=8469&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491630707634503
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000178s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000256s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000274s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491630707634503' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491630707634503','ln1491630707634503','ln1491630707634503','1491630707','1491630707','8469','22222','22222','1','1491630707','0','21','101.226.66.181','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491630707634503' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8469 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8469","ref2_name":"1022","account":0,"username":"","uid":19630707,"sex":1,"openid":"ln1491630707634503","cps_app_id":"1000000001","reg_type":1,"reg_time":1491630707,"reg_ip":1709327029}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8469' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8469' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8469: reg:3 pay:2
DEBUG: reg--pay2-8469 randrate: 2.325
DEBUG: reg--pay2-8469 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8469','1022','0','','19630707','1','ln1491630707634503','1000000001','1','1491630707','1709327029') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8469&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491630707634503

[ 2017-04-08T13:51:47+08:00 ] 122.190.2.42 /Pay/link?type=jscall&orderid=ln1491630692642557&isvip=ln1491630692642557&uiver=&money=39&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000174s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491630692642557' LIMIT 1   [ RunTime:0.0005s ]

[ 2017-04-08T13:51:51+08:00 ] 58.211.2.18 /Pay/link?uid=8469&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491630711774369
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000236s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491630711774369' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491630711774369','ln1491630711774369','ln1491630711774369','1491630711','1491630711','8469','22222','22222','1','1491630711','0','21','101.226.65.104','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491630711774369' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8469 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8469","ref2_name":"1022","account":1,"username":"","uid":19630711,"sex":1,"openid":"ln1491630711774369","cps_app_id":"1000000001","reg_type":1,"reg_time":1491630711,"reg_ip":1709326696}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8469' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8469' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8469: reg:3 pay:2
DEBUG: reg--pay2-8469 randrate: 1.707
DEBUG: reg--pay2-8469 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8469','1022','1','','19630711','1','ln1491630711774369','1000000001','1','1491630711','1709326696') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8469&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491630711774369

[ 2017-04-08T13:51:54+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000207s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000245s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000267s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491630692642557' AND `status` = 0 LIMIT 1   [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491630703',`transaction_id`='4007742001201704086290344642',`status`='1' WHERE `orderid` = 'ln1491630692642557' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000254s ]
INFO: [ app_end ] --END-- [ RunTime:0.000275s ]

[ 2017-04-08T13:52:11+08:00 ] 116.31.126.104 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000224s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000239s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000257s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491630692642557' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491630703',`transaction_id`='4007742001201704086290344642',`status`='1' WHERE `orderid` = 'ln1491630692642557' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000250s ]
INFO: [ app_end ] --END-- [ RunTime:0.000271s ]

[ 2017-04-08T13:52:19+08:00 ] 183.136.190.62 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000226s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000063s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000078s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000091s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000104s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000268s ]
INFO: [ app_end ] --END-- [ RunTime:0.000282s ]

[ 2017-04-08T13:52:23+08:00 ] 117.34.13.96 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491630743218542
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000219s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491630743218542' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491630743218542','ln1491630743218542','ln1491630743218542','1491630743','1491630743','8478','22222','22222','1','1491630743','0','32','60.13.215.94','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491630743218542' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":1,"username":"","uid":19630743,"sex":1,"openid":"ln1491630743218542","cps_app_id":"1000000001","reg_type":1,"reg_time":1491630743,"reg_ip":1007540062}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8478: reg:39 pay:26
DEBUG: reg--pay2-8478 randrate: 1.509
DEBUG: reg--pay2-8478 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','1','','19630743','1','ln1491630743218542','1000000001','1','1491630743','1007540062') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=32&orderid=ln1491630743218542

[ 2017-04-08T13:52:24+08:00 ] 117.34.13.96 /Pay/link?uid=8478&code=021AlnDg2HvjYD0kqWBg2aHpDg2AlnDM&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000010s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040813522414194159f40425628304',`openid`='oLiX9wHQBbwFn_ne7Ri2oq0bsK38' WHERE ( orderid='ln1491630743218542' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002799s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002813s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000096s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000108s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000284s ]
INFO: [ app_end ] --END-- [ RunTime:0.000300s ]

[ 2017-04-08T13:52:24+08:00 ] 117.34.13.96 /Pay/link?uid=8478&code=051j5k1l0GOUum1Gex4l05Kn1l0j5k18&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000220s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000238s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040813522414194159f40362349232',`openid`='oLiX9wHQBbwFn_ne7Ri2oq0bsK38' WHERE ( orderid='ln1491630743218542' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002932s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003007s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000097s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000111s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000290s ]
INFO: [ app_end ] --END-- [ RunTime:0.000306s ]

[ 2017-04-08T13:52:42+08:00 ] 117.34.13.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000204s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000296s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000318s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491630692642557' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491630703',`transaction_id`='4007742001201704086290344642',`status`='1' WHERE `orderid` = 'ln1491630692642557' [ RunTime:0.0007s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000286s ]
INFO: [ app_end ] --END-- [ RunTime:0.000308s ]

[ 2017-04-08T13:52:58+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000279s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000299s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491630519930385' AND `status` = 0 LIMIT 1   [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491630535',`transaction_id`='4006232001201704086284134562',`status`='1' WHERE `orderid` = 'ln1491630519930385' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000276s ]
INFO: [ app_end ] --END-- [ RunTime:0.000298s ]

[ 2017-04-08T13:53:17+08:00 ] 122.190.2.54 /Pay/link?uid=8479&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491630797797690
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000222s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000241s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000258s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491630797797690' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491630797797690','ln1491630797797690','ln1491630797797690','1491630797','1491630797','8479','22222','22222','1','1491630797','0','39','60.211.95.79','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491630797797690' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8479 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8479","ref2_name":"1032","account":0,"username":"","uid":19630797,"sex":1,"openid":"ln1491630797797690","cps_app_id":"1000000001","reg_type":1,"reg_time":1491630797,"reg_ip":1020485455}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8479' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8479' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8479: reg:6 pay:3
DEBUG: reg--pay2-8479 randrate: 2.183
DEBUG: reg--pay2-8479 nowrate: 2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8479','1032','0','','19630797','1','ln1491630797797690','1000000001','1','1491630797','1020485455') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8479&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491630797797690

[ 2017-04-08T13:53:18+08:00 ] 117.34.13.84 /Pay/link?uid=8479&code=0216VsJ10pKDxD1uPwK10mGoJ106VsJ0&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000235s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000276s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000296s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408135318b1039afb740976042248',`openid`='oLiX9wMN0uUe5HON9aJJQBXXzQbA' WHERE ( orderid='ln1491630797797690' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003067s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003101s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000110s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000129s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000429s ]
INFO: [ app_end ] --END-- [ RunTime:0.000451s ]

[ 2017-04-08T13:53:25+08:00 ] 116.31.126.106 /Pay/link?uid=8455&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491630805_8455750398
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000227s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000245s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491629864980938' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491630805_8455750398' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491630805_8455750398','ln1491630805_8455750398','ln1491630805_8455750398','1491630805','1491630805','8455','22222','22222','1','1491630805','0','23','14.114.25.126','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491630805_8455750398' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8455 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8455","ref2_name":"1008","account":0,"username":"","uid":19630805,"sex":1,"openid":"ln1491630805_8455750398","cps_app_id":"1000000001","reg_type":1,"reg_time":1491630805,"reg_ip":242358654}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8455' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8455' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8455: reg:3 pay:3
DEBUG: reg--pay2-8455 randrate: 1.62
DEBUG: reg--pay2-8455 nowrate: 1
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8455','1008','0','','19630805','1','ln1491630805_8455750398','1000000001','1','1491630805','242358654') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8455&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln149163080477373

[ 2017-04-08T13:53:25+08:00 ] 116.31.126.106 /Pay/link?uid=8455&code=0419mO0s0O18Ya1JrHZr0CUX0s09mO03&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000196s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000264s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000283s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081353257f94428fa60283794984',`openid`='oLiX9wKjoO2lhzaDg7zHOLYNg54c' WHERE ( orderid='ln1491630805_8455750398' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003080s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003098s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000103s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000117s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000308s ]
INFO: [ app_end ] --END-- [ RunTime:0.000324s ]

[ 2017-04-08T13:53:27+08:00 ] 58.211.2.72 /Pay/link?uid=8479
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000196s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000263s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000283s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: orderid /data/www/pay/App/Index/Controller/PayController.class.php 第 139 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491630807_8479327942' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 641 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491630807_8479327942','ln1491630807_8479327942','ln1491630807_8479327942','1491630807','1491630807','8479','22222','22222','1','1491630807','0','39','61.151.226.191','ceshi','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491630807_8479327942' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8479 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8479","ref2_name":"1032","account":0,"username":"","uid":19630807,"sex":1,"openid":"ln1491630807_8479327942","cps_app_id":"1000000001","reg_type":1,"reg_time":1491630807,"reg_ip":1033364159}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8479' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8479' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8479: reg:6 pay:3
DEBUG: reg--pay2-8479 randrate: 1.876
DEBUG: reg--pay2-8479 nowrate: 2
DEBUG: reg--pay2-8479 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8479','1032','0','','19630807','1','ln1491630807_8479327942','1000000001','1','1491630807','1033364159') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8479

[ 2017-04-08T13:53:27+08:00 ] 58.211.2.36 /Pay/link?uid=8479&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491630807625080
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000224s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000241s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491630807625080' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491630807625080','ln1491630807625080','ln1491630807625080','1491630807','1491630807','8479','22222','22222','1','1491630807','0','39','117.185.27.114','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491630807625080' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8479 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8479","ref2_name":"1032","account":1,"username":"","uid":19630807,"sex":1,"openid":"ln1491630807625080","cps_app_id":"1000000001","reg_type":1,"reg_time":1491630807,"reg_ip":1975065458}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8479' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8479' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8479: reg:6 pay:3
DEBUG: reg--pay2-8479 randrate: 1.519
DEBUG: reg--pay2-8479 nowrate: 2
DEBUG: reg--pay2-8479 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8479','1032','0','','19630807','1','ln1491630807625080','1000000001','1','1491630807','1975065458') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8479&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=39&orderid=ln1491630807625080

[ 2017-04-08T13:53:34+08:00 ] 58.211.2.24 /Pay/link?uid=8455&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln149163081459336
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000195s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000278s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000302s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149163081459336' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149163081459336','ln149163081459336','ln149163081459336','1491630814','1491630814','8455','22222','22222','1','1491630814','0','23','101.226.102.97','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149163081459336' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8455 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8455","ref2_name":"1008","account":0,"username":"","uid":19630814,"sex":1,"openid":"ln149163081459336","cps_app_id":"1000000001","reg_type":1,"reg_time":1491630814,"reg_ip":1709336161}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8455' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8455' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8455: reg:3 pay:3
DEBUG: reg--pay2-8455 randrate: 1.672
DEBUG: reg--pay2-8455 nowrate: 1
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8455','1008','0','','19630814','1','ln149163081459336','1000000001','1','1491630814','1709336161') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8455&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln149163081459336

[ 2017-04-08T13:53:41+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000205s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491630805_8455750398' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491630820',`transaction_id`='4009792001201704086286039903',`status`='1' WHERE `orderid` = 'ln1491630805_8455750398' [ RunTime:0.0006s ]
DEBUG: order: {"id":"5678","refid":"8455","prepayid":"wx201704081353257f94428fa60283794984","orderid":"ln1491630805_8455750398","pay_orderid":"ln1491630805_8455750398","openid":"oLiX9wKjoO2lhzaDg7zHOLYNg54c","uid":"1491630805","gid":"1","time":"1491630805","status":"0","money":"23","ip":"14.114.25.126","call_url":"http:\/\/www.wxaso.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 5678 LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491630805_8455750398' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8455 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: bili:1--22222 -- 2017-04-06 21:42:16
DEBUG: {"account":1,"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8455","ref2_name":"1008","uid":"ln1491630805_8455750398","username":"","cps_app_id":"1000000001","pay_serial":"ln1491630805_8455750398","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4009792001201704086286039903","pay_channel":"1","pay_amount":"23","pay_type":1,"pay_time":"1491630820","pay_time_ymd":"2017-04-08","pay_time_h":"13","pay_time_ymdh":"2017040813","pay_ip":"14.114.25.126"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8389','mrpei','8455','1008','ln1491630805_8455750398','','1000000001','ln1491630805_8455750398','22222','22222','4009792001201704086286039903','1','23','1','1491630820','2017-04-08','13','2017040813','14.114.25.126') [ RunTime:0.0005s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-08T13:53:45+08:00 ] 116.31.126.106 /Pay/link?type=jscall&orderid=ln1491630805_8455750398&isvip=ln1491630805_8455750398&uiver=&money=23&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000231s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000246s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000267s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491630805_8455750398' LIMIT 1   [ RunTime:0.0005s ]

[ 2017-04-08T13:53:45+08:00 ] 116.31.126.102 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000229s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000246s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149162877045484' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491628784',`transaction_id`='4004872001201704086282107831',`status`='1' WHERE `orderid` = 'ln149162877045484' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000290s ]
INFO: [ app_end ] --END-- [ RunTime:0.000312s ]

[ 2017-04-08T13:53:51+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000185s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000254s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491630805_8455750398' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491630820',`transaction_id`='4009792001201704086286039903',`status`='1' WHERE `orderid` = 'ln1491630805_8455750398' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000273s ]
INFO: [ app_end ] --END-- [ RunTime:0.000296s ]

[ 2017-04-08T13:53:52+08:00 ] 58.211.2.18 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000241s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000260s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000062s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000079s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000074s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000086s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000234s ]
INFO: [ app_end ] --END-- [ RunTime:0.000246s ]

[ 2017-04-08T13:54:08+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000252s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000270s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491630805_8455750398' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491630820',`transaction_id`='4009792001201704086286039903',`status`='1' WHERE `orderid` = 'ln1491630805_8455750398' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000274s ]
INFO: [ app_end ] --END-- [ RunTime:0.000295s ]

[ 2017-04-08T13:54:16+08:00 ] 116.31.126.102 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000213s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0011s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491619787351816' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491619802',`transaction_id`='4002232001201704086265294004',`status`='1' WHERE `orderid` = 'ln1491619787351816' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000312s ]
INFO: [ app_end ] --END-- [ RunTime:0.000334s ]

[ 2017-04-08T13:54:39+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000208s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000226s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491630805_8455750398' AND `status` = 0 LIMIT 1   [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491630820',`transaction_id`='4009792001201704086286039903',`status`='1' WHERE `orderid` = 'ln1491630805_8455750398' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000372s ]
INFO: [ app_end ] --END-- [ RunTime:0.000400s ]

[ 2017-04-08T13:54:46+08:00 ] 116.31.126.106 /Pay/link?uid=8455&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491630886_8455704035
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000212s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491630805_8455750398' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491630886_8455704035' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491630886_8455704035','ln1491630886_8455704035','ln1491630886_8455704035','1491630886','1491630886','8455','22222','22222','1','1491630886','0','23','14.114.25.126','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491630886_8455704035' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8455 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8455","ref2_name":"1008","account":0,"username":"","uid":19630886,"sex":1,"openid":"ln1491630886_8455704035","cps_app_id":"1000000001","reg_type":1,"reg_time":1491630886,"reg_ip":242358654}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8455' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8455' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8455: reg:3 pay:4
DEBUG: reg--pay2-8455 randrate: 2.333
DEBUG: reg--pay2-8455 nowrate: 0.75
DEBUG: reg--pay2-8455 sql: update qw_register_log set account=1 where account=0 and ref2_id='8455' AND reg_time>1491580800 limit 2
SQL: update qw_register_log set account=1 where account=0 and ref2_id='8455' AND reg_time>1491580800 limit 2 [ RunTime:0.0053s ]
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8455','1008','0','','19630886','1','ln1491630886_8455704035','1000000001','1','1491630886','242358654') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8455&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491630886809597

[ 2017-04-08T13:54:47+08:00 ] 116.31.126.106 /Pay/link?uid=8455&code=041fP8RJ1CYqU603gsRJ1fBgRJ1fP8Rd&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000194s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000216s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081354479fc596a78d0226211243',`openid`='oLiX9wKjoO2lhzaDg7zHOLYNg54c' WHERE ( orderid='ln1491630886_8455704035' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000048s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002883s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002898s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000096s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000108s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000258s ]
INFO: [ app_end ] --END-- [ RunTime:0.000273s ]

[ 2017-04-08T13:55:06+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000225s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000244s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627040_8457367059' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491627055',`transaction_id`='4000702001201704086278184433',`status`='1' WHERE `orderid` = 'ln1491627040_8457367059' [ RunTime:0.0007s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000258s ]
INFO: [ app_end ] --END-- [ RunTime:0.000280s ]

[ 2017-04-08T13:55:14+08:00 ] 116.31.126.106 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491630914652831
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000247s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000264s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491630914652831' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491630914652831','ln1491630914652831','ln1491630914652831','1491630914','1491630914','8478','22222','22222','1','1491630914','0','21','1.204.123.18','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491630914652831' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":1,"username":"","uid":19630914,"sex":1,"openid":"ln1491630914652831","cps_app_id":"1000000001","reg_type":1,"reg_time":1491630914,"reg_ip":30178066}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8478: reg:40 pay:26
DEBUG: reg--pay2-8478 randrate: 2.469
DEBUG: reg--pay2-8478 nowrate: 1.5384615384615
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','1','','19630914','1','ln1491630914652831','1000000001','1','1491630914','30178066') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491630914652831

[ 2017-04-08T13:55:15+08:00 ] 116.31.126.106 /Pay/link?uid=8478&code=051vwT2Y0HxGFY1gKp6Y0zNW2Y0vwT2M&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000241s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000259s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040813551527da01accf0268612856',`openid`='oLiX9wCaTPEX6hofwguVkUg6LGkM' WHERE ( orderid='ln1491630914652831' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002811s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002825s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000099s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000112s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000295s ]
INFO: [ app_end ] --END-- [ RunTime:0.000310s ]

[ 2017-04-08T13:55:15+08:00 ] 116.31.126.106 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491630915_8478590804
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000290s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000311s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491630914652831' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491630915_8478590804' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491630915_8478590804','ln1491630915_8478590804','ln1491630915_8478590804','1491630915','1491630915','8478','22222','22222','1','1491630915','0','21','1.204.123.18','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491630915_8478590804' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":0,"username":"","uid":19630915,"sex":1,"openid":"ln1491630915_8478590804","cps_app_id":"1000000001","reg_type":1,"reg_time":1491630915,"reg_ip":30178066}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8478: reg:41 pay:26
DEBUG: reg--pay2-8478 randrate: 2.357
DEBUG: reg--pay2-8478 nowrate: 1.5769230769231
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','0','','19630915','1','ln1491630915_8478590804','1000000001','1','1491630915','30178066') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491630915203457

[ 2017-04-08T13:55:16+08:00 ] 116.31.126.106 /Pay/link?uid=8478&code=051uBool1HcjZj0KVbrl1cIxol1uBoog&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000248s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000267s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081355164a94a5d74c0491483260',`openid`='oLiX9wCaTPEX6hofwguVkUg6LGkM' WHERE ( orderid='ln1491630915_8478590804' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003036s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003050s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000101s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000112s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000276s ]
INFO: [ app_end ] --END-- [ RunTime:0.000300s ]

[ 2017-04-08T13:55:16+08:00 ] 116.31.126.106 /Pay/link?uid=8478&code=03111bXk1Vbtkk0HeAWk1FQ0Xk111bXX&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000198s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000216s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000233s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0011s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081355164a94a5d74c0031366761',`openid`='oLiX9wCaTPEX6hofwguVkUg6LGkM' WHERE ( orderid='ln1491630915_8478590804' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000030s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000049s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003373s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003404s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000120s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000134s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000320s ]
INFO: [ app_end ] --END-- [ RunTime:0.000336s ]

[ 2017-04-08T13:55:16+08:00 ] 116.31.126.106 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491630916_8478932676
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000230s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000247s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491630915_8478590804' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491630916_8478932676' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491630916_8478932676','ln1491630916_8478932676','ln1491630916_8478932676','1491630916','1491630916','8478','22222','22222','1','1491630916','0','21','1.204.123.18','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491630916_8478932676' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":0,"username":"","uid":19630916,"sex":1,"openid":"ln1491630916_8478932676","cps_app_id":"1000000001","reg_type":1,"reg_time":1491630916,"reg_ip":30178066}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8478: reg:41 pay:26
DEBUG: reg--pay2-8478 randrate: 2.402
DEBUG: reg--pay2-8478 nowrate: 1.5769230769231
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','0','','19630916','1','ln1491630916_8478932676','1000000001','1','1491630916','30178066') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491630916358194

[ 2017-04-08T13:55:17+08:00 ] 116.31.126.106 /Pay/link?uid=8478&code=001UUJwQ01mHJa2XqwwQ0aqFwQ0UUJwn&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000238s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000259s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408135517beeacd35af0344032865',`openid`='oLiX9wCaTPEX6hofwguVkUg6LGkM' WHERE ( orderid='ln1491630916_8478932676' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000044s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000067s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003209s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003251s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000117s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000133s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000345s ]
INFO: [ app_end ] --END-- [ RunTime:0.000362s ]

[ 2017-04-08T13:55:35+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000246s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000266s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491623475818543' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491623485',`transaction_id`='4005682001201704086270092752',`status`='1' WHERE `orderid` = 'ln1491623475818543' [ RunTime:0.0012s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000280s ]
INFO: [ app_end ] --END-- [ RunTime:0.000301s ]

[ 2017-04-08T13:55:44+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000195s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000254s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0011s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491630692642557' AND `status` = 0 LIMIT 1   [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491630703',`transaction_id`='4007742001201704086290344642',`status`='1' WHERE `orderid` = 'ln1491630692642557' [ RunTime:0.0007s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000243s ]
INFO: [ app_end ] --END-- [ RunTime:0.000264s ]

[ 2017-04-08T13:56:08+08:00 ] 116.31.126.102 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000222s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000241s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491628913599243' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491628923',`transaction_id`='4010132001201704086282187627',`status`='1' WHERE `orderid` = 'ln1491628913599243' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000248s ]
INFO: [ app_end ] --END-- [ RunTime:0.000269s ]

[ 2017-04-08T13:56:16+08:00 ] 122.190.2.72 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491630975521023
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000247s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000275s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491630975521023' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491630975521023','ln1491630975521023','ln1491630975521023','1491630976','1491630976','8478','22222','22222','1','1491630976','0','21','122.194.3.207','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491630975521023' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":1,"username":"","uid":19630976,"sex":1,"openid":"ln1491630975521023","cps_app_id":"1000000001","reg_type":1,"reg_time":1491630976,"reg_ip":2059535311}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8478: reg:41 pay:26
DEBUG: reg--pay2-8478 randrate: 2.23
DEBUG: reg--pay2-8478 nowrate: 1.5769230769231
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','1','','19630976','1','ln1491630975521023','1000000001','1','1491630976','2059535311') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491630975521023

[ 2017-04-08T13:56:17+08:00 ] 122.190.2.72 /Pay/link?uid=8478&code=011RzgFL0jw1o42rgWDL0kHuFL0RzgFP&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000258s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000278s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040813561750b9c51ec40434374838',`openid`='oLiX9wEdKN4UJCuZkTttdiQks9LY' WHERE ( orderid='ln1491630975521023' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003058s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003075s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000097s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000109s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000293s ]
INFO: [ app_end ] --END-- [ RunTime:0.000307s ]

[ 2017-04-08T13:56:20+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491619922_8449163966' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491619928',`transaction_id`='4007262001201704086266587345',`status`='1' WHERE `orderid` = 'ln1491619922_8449163966' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000299s ]
INFO: [ app_end ] --END-- [ RunTime:0.000321s ]

[ 2017-04-08T13:56:25+08:00 ] 117.34.13.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000242s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000261s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627129492629' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491627137',`transaction_id`='4007782001201704086282469716',`status`='1' WHERE `orderid` = 'ln1491627129492629' [ RunTime:0.0008s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000301s ]
INFO: [ app_end ] --END-- [ RunTime:0.000322s ]

[ 2017-04-08T13:56:46+08:00 ] 122.190.2.72 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491631006_8478269418
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000238s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000255s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491630975521023' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491631006_8478269418' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491631006_8478269418','ln1491631006_8478269418','ln1491631006_8478269418','1491631006','1491631006','8478','22222','22222','1','1491631006','0','25','122.194.3.207','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491631006_8478269418' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":0,"username":"","uid":19631006,"sex":1,"openid":"ln1491631006_8478269418","cps_app_id":"1000000001","reg_type":1,"reg_time":1491631006,"reg_ip":2059535311}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8478: reg:42 pay:26
DEBUG: reg--pay2-8478 randrate: 2.314
DEBUG: reg--pay2-8478 nowrate: 1.6153846153846
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','0','','19631006','1','ln1491631006_8478269418','1000000001','1','1491631006','2059535311') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491631005625307

[ 2017-04-08T13:56:47+08:00 ] 122.190.2.72 /Pay/link?uid=8478&code=041G1oYx0Uvvmg1xhXVx0xdyYx0G1oY8&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000238s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000256s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081356473d86fb81910460388693',`openid`='oLiX9wEdKN4UJCuZkTttdiQks9LY' WHERE ( orderid='ln1491631006_8478269418' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003270s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003290s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000112s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000126s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000319s ]
INFO: [ app_end ] --END-- [ RunTime:0.000338s ]

[ 2017-04-08T13:56:49+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491628956_8435382607' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491628963',`transaction_id`='4002372001201704086283456545',`status`='1' WHERE `orderid` = 'ln1491628956_8435382607' [ RunTime:0.0007s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000288s ]
INFO: [ app_end ] --END-- [ RunTime:0.000309s ]

[ 2017-04-08T13:57:26+08:00 ] 116.31.126.108 /Pay/link?uid=8469&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491631046552583
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000222s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000242s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491631046552583' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491631046552583','ln1491631046552583','ln1491631046552583','1491631046','1491631046','8469','22222','22222','1','1491631046','0','21','117.136.40.61','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491631046552583' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8469 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8469","ref2_name":"1022","account":0,"username":"","uid":19631046,"sex":1,"openid":"ln1491631046552583","cps_app_id":"1000000001","reg_type":1,"reg_time":1491631046,"reg_ip":1971857469}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8469' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8469' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8469: reg:4 pay:2
DEBUG: reg--pay2-8469 randrate: 1.864
DEBUG: reg--pay2-8469 nowrate: 2
DEBUG: reg--pay2-8469 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8469','1022','0','','19631046','1','ln1491631046552583','1000000001','1','1491631046','1971857469') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8469&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491631046552583

[ 2017-04-08T13:57:27+08:00 ] 116.31.126.108 /Pay/link?uid=8469&code=011O5FQN1WUkk41fC7UN1JyDQN1O5FQG&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000244s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040813572721ee8bd9840141897480',`openid`='oLiX9wLODFPCXQCrhMu9777DvLaE' WHERE ( orderid='ln1491631046552583' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002895s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002915s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000128s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000166s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000285s ]
INFO: [ app_end ] --END-- [ RunTime:0.000301s ]

[ 2017-04-08T13:57:42+08:00 ] 101.71.55.85 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000016s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000252s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000269s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491630805_8455750398' AND `status` = 0 LIMIT 1   [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491630820',`transaction_id`='4009792001201704086286039903',`status`='1' WHERE `orderid` = 'ln1491630805_8455750398' [ RunTime:0.0008s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000270s ]
INFO: [ app_end ] --END-- [ RunTime:0.000292s ]

[ 2017-04-08T13:58:01+08:00 ] 116.31.126.107 /Pay/link?uid=8461&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491631081213691
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000183s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000279s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000296s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491631081213691' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491631081213691','ln1491631081213691','ln1491631081213691','1491631081','1491631081','8461','22222','22222','1','1491631081','0','21','59.63.248.20','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491631081213691' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8461 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8461","ref2_name":"1014","account":1,"username":"","uid":19631081,"sex":1,"openid":"ln1491631081213691","cps_app_id":"1000000001","reg_type":1,"reg_time":1491631081,"reg_ip":994048020}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8461' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8461' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
DEBUG: reg--pay2-8461: reg:9 pay:5
DEBUG: reg--pay2-8461 randrate: 2.345
DEBUG: reg--pay2-8461 nowrate: 1.8
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8461','1014','1','','19631081','1','ln1491631081213691','1000000001','1','1491631081','994048020') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8461&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491631081213691

[ 2017-04-08T13:58:02+08:00 ] 116.31.126.107 /Pay/link?uid=8461&code=011cg5y829eXkO0i13v825XOx82cg5ym&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000188s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000217s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408135802ad6d58edd00802497140',`openid`='oLiX9wEACiz0iuMGdJB9QhPrmgd0' WHERE ( orderid='ln1491631081213691' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002827s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002841s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000097s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000112s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000307s ]
INFO: [ app_end ] --END-- [ RunTime:0.000325s ]

[ 2017-04-08T13:58:03+08:00 ] 116.31.126.107 /Pay/link?uid=8461&code=051eziIc2Ga1UA05U4Jc2sfcIc2eziIp&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000228s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000246s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000265s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0012s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408135802ad6d58edd00154150770',`openid`='oLiX9wEACiz0iuMGdJB9QhPrmgd0' WHERE ( orderid='ln1491631081213691' ) [ RunTime:0.0008s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000040s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002970s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002986s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000114s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000126s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000344s ]
INFO: [ app_end ] --END-- [ RunTime:0.000378s ]

[ 2017-04-08T13:58:05+08:00 ] 101.71.55.85 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491631084978821
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000209s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000247s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000266s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491631084978821' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491631084978821','ln1491631084978821','ln1491631084978821','1491631085','1491631085','8478','22222','22222','1','1491631085','0','25','27.213.27.197','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491631084978821' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":0,"username":"","uid":19631085,"sex":1,"openid":"ln1491631084978821","cps_app_id":"1000000001","reg_type":1,"reg_time":1491631085,"reg_ip":466951109}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8478: reg:42 pay:26
DEBUG: reg--pay2-8478 randrate: 1.676
DEBUG: reg--pay2-8478 nowrate: 1.6153846153846
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','0','','19631085','1','ln1491631084978821','1000000001','1','1491631085','466951109') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491631084978821

[ 2017-04-08T13:58:05+08:00 ] 101.71.55.85 /Pay/link?uid=8478&code=011ysRls1PE8Fq0wFWks1KJEls1ysRlA&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000232s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081358058e001a464e0256974727',`openid`='oLiX9wChnD4qEfktL53tcAAfLyr4' WHERE ( orderid='ln1491631084978821' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000032s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000055s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003302s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003318s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000091s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000102s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000316s ]
INFO: [ app_end ] --END-- [ RunTime:0.000336s ]

[ 2017-04-08T13:58:06+08:00 ] 101.71.55.85 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491631086_8478889659
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000216s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000233s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491631084978821' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491631086_8478889659' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491631086_8478889659','ln1491631086_8478889659','ln1491631086_8478889659','1491631086','1491631086','8478','22222','22222','1','1491631086','0','25','27.213.27.197','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491631086_8478889659' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":0,"username":"","uid":19631086,"sex":1,"openid":"ln1491631086_8478889659","cps_app_id":"1000000001","reg_type":1,"reg_time":1491631086,"reg_ip":466951109}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8478: reg:42 pay:26
DEBUG: reg--pay2-8478 randrate: 2.328
DEBUG: reg--pay2-8478 nowrate: 1.6153846153846
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','0','','19631086','1','ln1491631086_8478889659','1000000001','1','1491631086','466951109') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491631085606876

[ 2017-04-08T13:58:06+08:00 ] 101.71.55.85 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491631086_847891802
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000265s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000286s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491631086_8478889659' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491631086_847891802' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491631086_847891802','ln1491631086_847891802','ln1491631086_847891802','1491631086','1491631086','8478','22222','22222','1','1491631086','0','25','27.213.27.197','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491631086_847891802' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":0,"username":"","uid":19631086,"sex":1,"openid":"ln1491631086_847891802","cps_app_id":"1000000001","reg_type":1,"reg_time":1491631086,"reg_ip":466951109}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8478: reg:42 pay:26
DEBUG: reg--pay2-8478 randrate: 2.319
DEBUG: reg--pay2-8478 nowrate: 1.6153846153846
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','0','','19631086','1','ln1491631086_847891802','1000000001','1','1491631086','466951109') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491631086365746

[ 2017-04-08T13:58:07+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000238s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000258s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491628765569751' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491629036',`transaction_id`='4008212001201704086283513288',`status`='1' WHERE `orderid` = 'ln1491628765569751' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000281s ]
INFO: [ app_end ] --END-- [ RunTime:0.000304s ]

[ 2017-04-08T13:58:07+08:00 ] 101.71.55.85 /Pay/link?uid=8478&code=051FsgMe1Piubv0x0zJe117lMe1FsgM4&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081358079ad3b12a7f0687760947',`openid`='oLiX9wChnD4qEfktL53tcAAfLyr4' WHERE ( orderid='ln1491631086_847891802' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000031s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000058s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002986s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003004s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000127s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000144s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000298s ]
INFO: [ app_end ] --END-- [ RunTime:0.000316s ]

[ 2017-04-08T13:59:12+08:00 ] 117.34.13.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000166s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000250s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000269s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627291_8457130625' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491627306',`transaction_id`='4000702001201704086282584274',`status`='1' WHERE `orderid` = 'ln1491627291_8457130625' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000250s ]
INFO: [ app_end ] --END-- [ RunTime:0.000270s ]

[ 2017-04-08T14:00:00+08:00 ] 116.31.126.106 /Pay/link?uid=8502&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491631199186773
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000192s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000257s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491631199186773' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491631199186773','ln1491631199186773','ln1491631199186773','1491631200','1491631200','8502','22222','22222','1','1491631200','0','21','140.240.28.215','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491631199186773' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8502 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8502","ref2_name":"\u59b2\u5df188","account":0,"username":"","uid":19631200,"sex":1,"openid":"ln1491631199186773","cps_app_id":"1000000001","reg_type":1,"reg_time":1491631200,"reg_ip":2364546263}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8502' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8502' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8502: reg:4 pay:0
DEBUG: reg--pay2-8502 randrate: 2.416
DEBUG: reg--pay2-8502 nowrate: 0
DEBUG: reg--pay2-8502 pay is 0 account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8502','妲己88','0','','19631200','1','ln1491631199186773','1000000001','1','1491631200','2364546263') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8502&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491631199186773

[ 2017-04-08T14:00:01+08:00 ] 116.31.126.106 /Pay/link?uid=8502&code=001KFdKw0sCkuf1JITKw0GVlKw0KFdKE&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000194s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000278s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000296s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0015s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408140001395d2c0af90361993898',`openid`='oLiX9wLmky0Y5LTS3zQEoOZWVIcE' WHERE ( orderid='ln1491631199186773' ) [ RunTime:0.0008s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000030s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000054s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003350s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003366s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000095s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000118s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000301s ]
INFO: [ app_end ] --END-- [ RunTime:0.000325s ]

[ 2017-04-08T14:00:09+08:00 ] 58.211.2.42 /Pay/link?uid=8502&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491631209299532
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000243s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000261s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491631209299532' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491631209299532','ln1491631209299532','ln1491631209299532','1491631209','1491631209','8502','22222','22222','1','1491631209','0','21','101.226.66.179','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491631209299532' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8502 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8502","ref2_name":"\u59b2\u5df188","account":1,"username":"","uid":19631209,"sex":1,"openid":"ln1491631209299532","cps_app_id":"1000000001","reg_type":1,"reg_time":1491631209,"reg_ip":1709327027}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8502' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0011s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8502' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8502: reg:4 pay:0
DEBUG: reg--pay2-8502 randrate: 2.485
DEBUG: reg--pay2-8502 nowrate: 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8502','妲己88','1','','19631209','1','ln1491631209299532','1000000001','1','1491631209','1709327027') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8502&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491631209299532

[ 2017-04-08T14:00:14+08:00 ] 101.71.55.130 /Pay/link?uid=8502&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491631213364728
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000224s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000244s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491631213364728' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491631213364728','ln1491631213364728','ln1491631213364728','1491631214','1491631214','8502','22222','22222','1','1491631214','0','21','140.207.185.112','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491631213364728' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0010s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8502 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8502","ref2_name":"\u59b2\u5df188","account":0,"username":"","uid":19631214,"sex":1,"openid":"ln1491631213364728","cps_app_id":"1000000001","reg_type":1,"reg_time":1491631214,"reg_ip":2362423664}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8502' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0011s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0010s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8502' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay2-8502: reg:5 pay:0
DEBUG: reg--pay2-8502 randrate: 1.979
DEBUG: reg--pay2-8502 nowrate: 0
DEBUG: reg--pay2-8502 pay is 0 account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8502','妲己88','0','','19631214','1','ln1491631213364728','1000000001','1','1491631214','2362423664') [ RunTime:0.0006s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8502&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491631213364728

[ 2017-04-08T14:00:50+08:00 ] 117.34.13.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000194s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000263s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000283s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491625596_8448521239' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491625605',`transaction_id`='4006762001201704086280363516',`status`='1' WHERE `orderid` = 'ln1491625596_8448521239' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000315s ]
INFO: [ app_end ] --END-- [ RunTime:0.000337s ]

[ 2017-04-08T14:00:54+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000218s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491623788973788' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491623803',`transaction_id`='4007362001201704086273353074',`status`='1' WHERE `orderid` = 'ln1491623788973788' [ RunTime:0.0007s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000279s ]
INFO: [ app_end ] --END-- [ RunTime:0.000304s ]

[ 2017-04-08T14:00:59+08:00 ] 58.211.2.36 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000160s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000209s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000225s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000083s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000105s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000106s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000122s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000352s ]
INFO: [ app_end ] --END-- [ RunTime:0.000372s ]

[ 2017-04-08T14:00:59+08:00 ] 58.211.2.96 /Pay/link?uid=8502&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491631259901158
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491631259901158' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491631259901158','ln1491631259901158','ln1491631259901158','1491631259','1491631259','8502','22222','22222','1','1491631259','0','21','223.68.252.51','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0009s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491631259901158' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0019s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0020s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8502 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0031s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8502","ref2_name":"\u59b2\u5df188","account":1,"username":"","uid":19631259,"sex":1,"openid":"ln1491631259901158","cps_app_id":"1000000001","reg_type":1,"reg_time":1491631259,"reg_ip":3745840179}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8502' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8502' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8502: reg:5 pay:0
DEBUG: reg--pay2-8502 randrate: 2.152
DEBUG: reg--pay2-8502 nowrate: 0
DEBUG: reg--pay2-8502 pay is 0 account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8502','妲己88','0','','19631259','1','ln1491631259901158','1000000001','1','1491631259','3745840179') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8502&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491631259901158

[ 2017-04-08T14:00:59+08:00 ] 101.71.55.130 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000243s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000262s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000061s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000077s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000078s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000091s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000268s ]
INFO: [ app_end ] --END-- [ RunTime:0.000282s ]

[ 2017-04-08T14:01:00+08:00 ] 58.211.2.96 /Pay/link?uid=8502&code=041vxHrS1ygWQ81tZwoS1nCtrS1vxHrf&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000198s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000260s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408140100e10c500d2d0155494962',`openid`='oLiX9wH6W8EuXeKXAbrfAaKvZgCQ' WHERE ( orderid='ln1491631259901158' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002912s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002926s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000115s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000128s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000297s ]
INFO: [ app_end ] --END-- [ RunTime:0.000313s ]

[ 2017-04-08T14:01:11+08:00 ] 117.34.13.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000272s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000295s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491631259901158' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491631270',`transaction_id`='4002422001201704086290584242',`status`='1' WHERE `orderid` = 'ln1491631259901158' [ RunTime:0.0005s ]
DEBUG: order: {"id":"5696","refid":"8502","prepayid":"wx20170408140100e10c500d2d0155494962","orderid":"ln1491631259901158","pay_orderid":"ln1491631259901158","openid":"oLiX9wH6W8EuXeKXAbrfAaKvZgCQ","uid":"1491631259","gid":"1","time":"1491631259","status":"0","money":"21","ip":"223.68.252.51","call_url":"http:\/\/www.wxaso.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 5696 LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491631259901158' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8502 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: bili:1--22222 -- 2017-04-08 11:13:57
DEBUG: {"account":1,"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8502","ref2_name":"\u59b2\u5df188","uid":"ln1491631259901158","username":"","cps_app_id":"1000000001","pay_serial":"ln1491631259901158","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4002422001201704086290584242","pay_channel":"1","pay_amount":"21","pay_type":1,"pay_time":"1491631270","pay_time_ymd":"2017-04-08","pay_time_h":"14","pay_time_ymdh":"2017040814","pay_ip":"223.68.252.51"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8400','文','8502','妲己88','ln1491631259901158','','1000000001','ln1491631259901158','22222','22222','4002422001201704086290584242','1','21','1','1491631270','2017-04-08','14','2017040814','223.68.252.51') [ RunTime:0.0005s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-08T14:01:15+08:00 ] 58.211.2.96 /Pay/link?type=jscall&orderid=ln1491631259901158&isvip=ln1491631259901158&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000278s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000300s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491631259901158' LIMIT 1   [ RunTime:0.0004s ]

[ 2017-04-08T14:01:23+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000174s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000241s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491631259901158' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491631270',`transaction_id`='4002422001201704086290584242',`status`='1' WHERE `orderid` = 'ln1491631259901158' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000290s ]
INFO: [ app_end ] --END-- [ RunTime:0.000312s ]

[ 2017-04-08T14:01:33+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000240s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000259s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491629207_8478529875' AND `status` = 0 LIMIT 1   [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491629243',`transaction_id`='4005762001201704086288326057',`status`='1' WHERE `orderid` = 'ln1491629207_8478529875' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000261s ]
INFO: [ app_end ] --END-- [ RunTime:0.000290s ]

[ 2017-04-08T14:01:40+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000208s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000222s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000241s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491631259901158' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491631270',`transaction_id`='4002422001201704086290584242',`status`='1' WHERE `orderid` = 'ln1491631259901158' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000300s ]
INFO: [ app_end ] --END-- [ RunTime:0.000325s ]

[ 2017-04-08T14:02:12+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000252s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000274s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491631259901158' AND `status` = 0 LIMIT 1   [ RunTime:0.0007s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491631270',`transaction_id`='4002422001201704086290584242',`status`='1' WHERE `orderid` = 'ln1491631259901158' [ RunTime:0.0007s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000270s ]
INFO: [ app_end ] --END-- [ RunTime:0.000299s ]

[ 2017-04-08T14:03:02+08:00 ] 58.211.2.18 /Pay/link?uid=8469&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491631381130764
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000018s ]
INFO: [ app_init ] --END-- [ RunTime:0.000205s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000226s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000243s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491631381130764' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491631381130764','ln1491631381130764','ln1491631381130764','1491631382','1491631382','8469','22222','22222','1','1491631382','0','23','115.237.97.175','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491631381130764' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8469 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8469","ref2_name":"1022","account":0,"username":"","uid":19631382,"sex":1,"openid":"ln1491631381130764","cps_app_id":"1000000001","reg_type":1,"reg_time":1491631382,"reg_ip":1944936879}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8469' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8469' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8469: reg:4 pay:2
DEBUG: reg--pay2-8469 randrate: 2.43
DEBUG: reg--pay2-8469 nowrate: 2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8469','1022','0','','19631382','1','ln1491631381130764','1000000001','1','1491631382','1944936879') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8469&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=23&orderid=ln1491631381130764

[ 2017-04-08T14:03:03+08:00 ] 58.211.2.18 /Pay/link?uid=8469&code=001E0gwI1uAMV50UnGyI1vf6wI1E0gwj&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000173s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408140303d5b89e84640899166364',`openid`='oLiX9wFRn7-IgYknbqrdRUn4ReMU' WHERE ( orderid='ln1491631381130764' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000031s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000053s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003927s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003947s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000112s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000140s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000360s ]
INFO: [ app_end ] --END-- [ RunTime:0.000380s ]

[ 2017-04-08T14:03:59+08:00 ] 58.211.2.54 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491631438739600
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000230s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000300s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000321s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491631438739600' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491631438739600','ln1491631438739600','ln1491631438739600','1491631439','1491631439','8478','22222','22222','1','1491631439','0','21','124.31.203.197','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491631438739600' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":0,"username":"","uid":19631439,"sex":1,"openid":"ln1491631438739600","cps_app_id":"1000000001","reg_type":1,"reg_time":1491631439,"reg_ip":2082458565}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay2-8478: reg:42 pay:26
DEBUG: reg--pay2-8478 randrate: 1.824
DEBUG: reg--pay2-8478 nowrate: 1.6153846153846
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','0','','19631439','1','ln1491631438739600','1000000001','1','1491631439','2082458565') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491631438739600

[ 2017-04-08T14:04:00+08:00 ] 58.211.2.54 /Pay/link?uid=8478&code=031PAojT0OrivU1Ok3lT09txjT0PAojQ&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000240s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000337s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000360s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408140400ebd06fd35e0180475353',`openid`='oLiX9wNdhdFeesilQCZ2P2dc7SrQ' WHERE ( orderid='ln1491631438739600' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003088s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003116s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000107s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000123s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000292s ]
INFO: [ app_end ] --END-- [ RunTime:0.000309s ]

[ 2017-04-08T14:04:05+08:00 ] 58.211.2.18 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491631445426939
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000201s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000216s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000233s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491631445426939' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491631445426939','ln1491631445426939','ln1491631445426939','1491631445','1491631445','8478','22222','22222','1','1491631445','0','21','112.26.75.193','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491631445426939' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0009s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":0,"username":"","uid":19631445,"sex":1,"openid":"ln1491631445426939","cps_app_id":"1000000001","reg_type":1,"reg_time":1491631445,"reg_ip":1880771521}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay2-8478: reg:42 pay:26
DEBUG: reg--pay2-8478 randrate: 1.891
DEBUG: reg--pay2-8478 nowrate: 1.6153846153846
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','0','','19631445','1','ln1491631445426939','1000000001','1','1491631445','1880771521') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491631445426939

[ 2017-04-08T14:04:06+08:00 ] 58.211.2.18 /Pay/link?uid=8478&code=021FFVNY1eAyTX0I60NY1ncbOY1FFVNw&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000199s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000251s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000274s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408140406ddd8f89d8b0045627051',`openid`='oLiX9wHxeEpxL7527aUCdbrQBr0Q' WHERE ( orderid='ln1491631445426939' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003378s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003395s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000120s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000134s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000305s ]
INFO: [ app_end ] --END-- [ RunTime:0.000321s ]

[ 2017-04-08T14:04:26+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000212s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000253s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000271s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491631445426939' AND `status` = 0 LIMIT 1   [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491631466',`transaction_id`='4004982001201704086289319981',`status`='1' WHERE `orderid` = 'ln1491631445426939' [ RunTime:0.0006s ]
DEBUG: order: {"id":"5699","refid":"8478","prepayid":"wx20170408140406ddd8f89d8b0045627051","orderid":"ln1491631445426939","pay_orderid":"ln1491631445426939","openid":"oLiX9wHxeEpxL7527aUCdbrQBr0Q","uid":"1491631445","gid":"1","time":"1491631445","status":"0","money":"21","ip":"112.26.75.193","call_url":"http:\/\/www.wxaso.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 5699 LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491631445426939' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: bili:1--22222 -- 2017-04-06 22:14:26
DEBUG: {"account":1,"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","uid":"ln1491631445426939","username":"","cps_app_id":"1000000001","pay_serial":"ln1491631445426939","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4004982001201704086289319981","pay_channel":"1","pay_amount":"21","pay_type":1,"pay_time":"1491631466","pay_time_ymd":"2017-04-08","pay_time_h":"14","pay_time_ymdh":"2017040814","pay_ip":"112.26.75.193"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8389','mrpei','8478','1031','ln1491631445426939','','1000000001','ln1491631445426939','22222','22222','4004982001201704086289319981','1','21','1','1491631466','2017-04-08','14','2017040814','112.26.75.193') [ RunTime:0.0005s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-08T14:04:33+08:00 ] 58.211.2.18 /Pay/link?type=jscall&orderid=ln1491631445426939&isvip=ln1491631445426939&uiver=&money=21&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000161s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000216s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000234s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491631445426939' LIMIT 1   [ RunTime:0.0005s ]

[ 2017-04-08T14:04:39+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000172s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000245s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000266s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491631445426939' AND `status` = 0 LIMIT 1   [ RunTime:0.0004s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491631466',`transaction_id`='4004982001201704086289319981',`status`='1' WHERE `orderid` = 'ln1491631445426939' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000250s ]
INFO: [ app_end ] --END-- [ RunTime:0.000271s ]

[ 2017-04-08T14:04:42+08:00 ] 101.71.55.85 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000207s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000225s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491629422917814' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491629434',`transaction_id`='4002242001201704086286463763',`status`='1' WHERE `orderid` = 'ln1491629422917814' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000370s ]
INFO: [ app_end ] --END-- [ RunTime:0.000397s ]

[ 2017-04-08T14:04:56+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000178s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000209s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491631445426939' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491631466',`transaction_id`='4004982001201704086289319981',`status`='1' WHERE `orderid` = 'ln1491631445426939' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000262s ]
INFO: [ app_end ] --END-- [ RunTime:0.000282s ]

[ 2017-04-08T14:05:14+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000193s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491631259901158' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491631270',`transaction_id`='4002422001201704086290584242',`status`='1' WHERE `orderid` = 'ln1491631259901158' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000252s ]
INFO: [ app_end ] --END-- [ RunTime:0.000273s ]

[ 2017-04-08T14:05:20+08:00 ] 58.211.2.18 /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln149163152023461
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000231s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149163152023461' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149163152023461','ln149163152023461','ln149163152023461','1491631520','1491631520','8493','22222','22222','1','1491631520','0','39','117.136.45.242','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149163152023461' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8493 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8493","ref1_name":"\u5927\u5b9d\u54e5","account":0,"username":"","uid":19631520,"sex":1,"openid":"ln149163152023461","cps_app_id":"1000000001","reg_type":1,"reg_time":1491631520,"reg_ip":1971858930,"ref2_id":0}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref1_id='8493' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref1_id='8493' AND pay_time>1491580800 and account>=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay1-8493: reg:45 pay:34
DEBUG: reg--pay1-8493 randrate: 1.907
DEBUG: reg--pay1-8493 nowrate: 1.3235294117647
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`,`ref2_id`) VALUES ('8493','大宝哥','0','','19631520','1','ln149163152023461','1000000001','1','1491631520','1971858930','0') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8493&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln149163152023461

[ 2017-04-08T14:05:21+08:00 ] 58.211.2.18 /Pay/link?uid=8493&code=021Iu1cK1FwlF80EbYbK1C80cK1Iu1cx&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000222s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000239s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081405213f55d984cf0700001388',`openid`='oLiX9wMlb6vILDhUnSsiiadfprtA' WHERE ( orderid='ln149163152023461' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000023s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003004s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003019s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000097s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000110s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000287s ]
INFO: [ app_end ] --END-- [ RunTime:0.000303s ]

[ 2017-04-08T14:05:28+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000346s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000371s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491631445426939' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491631466',`transaction_id`='4004982001201704086289319981',`status`='1' WHERE `orderid` = 'ln1491631445426939' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000275s ]
INFO: [ app_end ] --END-- [ RunTime:0.000298s ]

[ 2017-04-08T14:05:34+08:00 ] 58.211.2.138 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000281s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000304s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491624078_8490561947' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491624085',`transaction_id`='4007612001201704086276439425',`status`='1' WHERE `orderid` = 'ln1491624078_8490561947' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000281s ]
INFO: [ app_end ] --END-- [ RunTime:0.000307s ]

[ 2017-04-08T14:05:59+08:00 ] 117.34.13.18 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491631559156414
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000250s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000267s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491631559156414' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491631559156414','ln1491631559156414','ln1491631559156414','1491631559','1491631559','8409','22222','22222','1','1491631559','0','29','171.116.152.211','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491631559156414' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0009s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19631559,"sex":1,"openid":"ln1491631559156414","cps_app_id":"1000000001","reg_type":1,"reg_time":1491631559,"reg_ip":2876545235}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8409: reg:5 pay:1
DEBUG: reg--pay2-8409 randrate: 2.013
DEBUG: reg--pay2-8409 nowrate: 5
DEBUG: reg--pay2-8409 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19631559','1','ln1491631559156414','1000000001','1','1491631559','2876545235') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491631559156414

[ 2017-04-08T14:06:00+08:00 ] 117.34.13.18 /Pay/link?uid=8409&code=0118K5Ys0Hqmhc1fVR0t0x90Ys08K5Yi&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000201s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000246s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000265s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040814060055673085550034919701',`openid`='oLiX9wDPb-F782puEZBR0X5hW9j0' WHERE ( orderid='ln1491631559156414' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002802s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002816s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000099s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000111s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000290s ]
INFO: [ app_end ] --END-- [ RunTime:0.000304s ]

[ 2017-04-08T14:06:09+08:00 ] 58.211.2.96 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491631569413077
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000176s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000338s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000362s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491631569413077' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491631569413077','ln1491631569413077','ln1491631569413077','1491631569','1491631569','8409','22222','22222','1','1491631569','0','29','101.226.61.207','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491631569413077' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":0,"username":"","uid":19631569,"sex":1,"openid":"ln1491631569413077","cps_app_id":"1000000001","reg_type":1,"reg_time":1491631569,"reg_ip":1709325775}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8409: reg:5 pay:1
DEBUG: reg--pay2-8409 randrate: 2.49
DEBUG: reg--pay2-8409 nowrate: 5
DEBUG: reg--pay2-8409 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19631569','1','ln1491631569413077','1000000001','1','1491631569','1709325775') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491631569413077

[ 2017-04-08T14:06:42+08:00 ] 122.190.2.12 /Pay/link?uid=8466&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln149163159651524
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000194s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000257s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000276s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149163159651524' LIMIT 1   [ RunTime:0.0010s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149163159651524','ln149163159651524','ln149163159651524','1491631602','1491631602','8466','22222','22222','1','1491631602','0','25','60.16.151.115','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149163159651524' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8466 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8466","ref2_name":"1019","account":0,"username":"","uid":19631602,"sex":1,"openid":"ln149163159651524","cps_app_id":"1000000001","reg_type":1,"reg_time":1491631602,"reg_ip":1007720307}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8466' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8466' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8466: reg:1 pay:1
DEBUG: reg--pay2-8466 randrate: 2.095
DEBUG: reg--pay2-8466 nowrate: 1
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8466','1019','0','','19631602','1','ln149163159651524','1000000001','1','1491631602','1007720307') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8466&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln149163159651524

[ 2017-04-08T14:06:42+08:00 ] 117.34.13.96 /Pay/link?uid=8435&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491631602981741
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000160s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000251s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000269s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491631602981741' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491631602981741','ln1491631602981741','ln1491631602981741','1491631602','1491631602','8435','22222','22222','1','1491631602','0','21','117.179.253.218','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0012s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491631602981741' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8435 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8435","ref2_name":"\u5c0f\u9648","account":0,"username":"","uid":19631602,"sex":1,"openid":"ln1491631602981741","cps_app_id":"1000000001","reg_type":1,"reg_time":1491631602,"reg_ip":1974730202}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8435' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8435' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
DEBUG: reg--pay2-8435: reg:5 pay:3
DEBUG: reg--pay2-8435 randrate: 1.516
DEBUG: reg--pay2-8435 nowrate: 1.6666666666667
DEBUG: reg--pay2-8435 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8435','小陈','0','','19631602','1','ln1491631602981741','1000000001','1','1491631602','1974730202') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8435&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491631602981741

[ 2017-04-08T14:06:43+08:00 ] 122.190.2.12 /Pay/link?uid=8466&code=041bSyGO0zLQ28224NIO0BDHGO0bSyGQ&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000171s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040814064307067aaa040065963826',`openid`='oLiX9wB2Avm2Jo1CiooAItmyMy0I' WHERE ( orderid='ln149163159651524' ) [ RunTime:0.0008s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000045s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003173s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003188s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000110s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000124s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000303s ]
INFO: [ app_end ] --END-- [ RunTime:0.000323s ]

[ 2017-04-08T14:06:43+08:00 ] 117.34.13.96 /Pay/link?uid=8435&code=021WVQB100VjDD1LneA10NM3C10WVQBf&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0009s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040814064307067aaa040463894959',`openid`='oLiX9wKFcjCqADBR1d1SS2Mm44Kc' WHERE ( orderid='ln1491631602981741' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002898s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002913s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000100s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000112s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000316s ]
INFO: [ app_end ] --END-- [ RunTime:0.000355s ]

[ 2017-04-08T14:06:43+08:00 ] 117.34.13.96 /Pay/link?uid=8435&code=001jeadl2ujTkI08Gydl23Tldl2jeadk&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000226s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040814064307067aaa040114439772',`openid`='oLiX9wKFcjCqADBR1d1SS2Mm44Kc' WHERE ( orderid='ln1491631602981741' ) [ RunTime:0.0007s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000040s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002973s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002988s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000116s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000131s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000306s ]
INFO: [ app_end ] --END-- [ RunTime:0.000321s ]

[ 2017-04-08T14:06:45+08:00 ] 58.211.2.54 /Pay/link?uid=8466&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491631605451161
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000182s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000213s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000230s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491631605451161' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491631605451161','ln1491631605451161','ln1491631605451161','1491631605','1491631605','8466','22222','22222','1','1491631605','0','25','101.226.51.229','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491631605451161' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8466 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8466","ref2_name":"1019","account":0,"username":"","uid":19631605,"sex":1,"openid":"ln1491631605451161","cps_app_id":"1000000001","reg_type":1,"reg_time":1491631605,"reg_ip":1709323237}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8466' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8466' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8466: reg:1 pay:1
DEBUG: reg--pay2-8466 randrate: 1.696
DEBUG: reg--pay2-8466 nowrate: 1
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8466','1019','0','','19631605','1','ln1491631605451161','1000000001','1','1491631605','1709323237') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8466&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491631605451161

[ 2017-04-08T14:06:48+08:00 ] 58.211.2.6 /Pay/link?uid=8466&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491631607497894
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000163s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000209s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000224s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491631607497894' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491631607497894','ln1491631607497894','ln1491631607497894','1491631608','1491631608','8466','22222','22222','1','1491631608','0','25','180.153.201.28','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491631607497894' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8466 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8466","ref2_name":"1019","account":0,"username":"","uid":19631608,"sex":1,"openid":"ln1491631607497894","cps_app_id":"1000000001","reg_type":1,"reg_time":1491631608,"reg_ip":3029977372}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8466' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8466' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8466: reg:1 pay:1
DEBUG: reg--pay2-8466 randrate: 2.475
DEBUG: reg--pay2-8466 nowrate: 1
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8466','1019','0','','19631608','1','ln1491631607497894','1000000001','1','1491631608','3029977372') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8466&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=25&orderid=ln1491631607497894

[ 2017-04-08T14:06:52+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000200s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000234s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149163159651524' AND `status` = 0 LIMIT 1   [ RunTime:0.0006s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491631611',`transaction_id`='4006042001201704086287608823',`status`='1' WHERE `orderid` = 'ln149163159651524' [ RunTime:0.0006s ]
DEBUG: order: {"id":"5703","refid":"8466","prepayid":"wx2017040814064307067aaa040065963826","orderid":"ln149163159651524","pay_orderid":"ln149163159651524","openid":"oLiX9wB2Avm2Jo1CiooAItmyMy0I","uid":"1491631602","gid":"1","time":"1491631602","status":"0","money":"25","ip":"60.16.151.115","call_url":"http:\/\/www.wxaso.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 5703 LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln149163159651524' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0009s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8466 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: bili:1--22222 -- 2017-04-06 21:50:32
DEBUG: {"account":1,"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8466","ref2_name":"1019","uid":"ln149163159651524","username":"","cps_app_id":"1000000001","pay_serial":"ln149163159651524","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4006042001201704086287608823","pay_channel":"1","pay_amount":"25","pay_type":1,"pay_time":"1491631611","pay_time_ymd":"2017-04-08","pay_time_h":"14","pay_time_ymdh":"2017040814","pay_ip":"60.16.151.115"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8389','mrpei','8466','1019','ln149163159651524','','1000000001','ln149163159651524','22222','22222','4006042001201704086287608823','1','25','1','1491631611','2017-04-08','14','2017040814','60.16.151.115') [ RunTime:0.0006s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-08T14:06:58+08:00 ] 122.190.2.12 /Pay/link?type=jscall&orderid=ln149163159651524&isvip=ln149163159651524&uiver=&money=25&ext=
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000266s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000269s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000289s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149163159651524' LIMIT 1   [ RunTime:0.0005s ]

[ 2017-04-08T14:07:03+08:00 ] 122.190.2.12 /Pay/link?uid=8466&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491631623_8466513099
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000200s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000228s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149163159651524' LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491631623_8466513099' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491631623_8466513099','ln1491631623_8466513099','ln1491631623_8466513099','1491631623','1491631623','8466','22222','22222','1','1491631623','0','25','60.16.151.115','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491631623_8466513099' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8466 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8466","ref2_name":"1019","account":0,"username":"","uid":19631623,"sex":1,"openid":"ln1491631623_8466513099","cps_app_id":"1000000001","reg_type":1,"reg_time":1491631623,"reg_ip":1007720307}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8466' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8466' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8466: reg:1 pay:2
DEBUG: reg--pay2-8466 randrate: 1.723
DEBUG: reg--pay2-8466 nowrate: 0.5
DEBUG: reg--pay2-8466 sql: update qw_register_log set account=1 where account=0 and ref2_id='8466' AND reg_time>1491580800 limit 2
SQL: update qw_register_log set account=1 where account=0 and ref2_id='8466' AND reg_time>1491580800 limit 2 [ RunTime:0.0052s ]
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8466','1019','0','','19631623','1','ln1491631623_8466513099','1000000001','1','1491631623','1007720307') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8466&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491631620549741

[ 2017-04-08T14:07:03+08:00 ] 122.190.2.12 /Pay/link?uid=8466&code=001iAHs40bTHlF1S8nr40EyRs40iAHsO&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000277s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000295s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408140703938ca1d1540460664625',`openid`='oLiX9wB2Avm2Jo1CiooAItmyMy0I' WHERE ( orderid='ln1491631623_8466513099' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002785s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002800s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000096s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000108s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000288s ]
INFO: [ app_end ] --END-- [ RunTime:0.000302s ]

[ 2017-04-08T14:07:05+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000009s ]
INFO: [ app_init ] --END-- [ RunTime:0.000181s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000272s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000294s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149163159651524' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491631611',`transaction_id`='4006042001201704086287608823',`status`='1' WHERE `orderid` = 'ln149163159651524' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000267s ]
INFO: [ app_end ] --END-- [ RunTime:0.000290s ]

[ 2017-04-08T14:07:06+08:00 ] 122.190.2.12 /Pay/link?uid=8466&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491631626_8466159488
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000235s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491631623_8466513099' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491631626_8466159488' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491631626_8466159488','ln1491631626_8466159488','ln1491631626_8466159488','1491631626','1491631626','8466','22222','22222','1','1491631626','0','25','60.16.151.115','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491631626_8466159488' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8466 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8466","ref2_name":"1019","account":0,"username":"","uid":19631626,"sex":1,"openid":"ln1491631626_8466159488","cps_app_id":"1000000001","reg_type":1,"reg_time":1491631626,"reg_ip":1007720307}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8466' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0008s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8466' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay2-8466: reg:3 pay:2
DEBUG: reg--pay2-8466 randrate: 1.715
DEBUG: reg--pay2-8466 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8466','1019','0','','19631626','1','ln1491631626_8466159488','1000000001','1','1491631626','1007720307') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8466&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491631625405117

[ 2017-04-08T14:07:07+08:00 ] 122.190.2.12 /Pay/link?uid=8466&code=041cUg0z0XOcKh1crC0z0yWq0z0cUg08&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000169s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408140707f57947a51b0291986455',`openid`='oLiX9wB2Avm2Jo1CiooAItmyMy0I' WHERE ( orderid='ln1491631626_8466159488' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002823s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002838s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000096s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000108s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000268s ]
INFO: [ app_end ] --END-- [ RunTime:0.000283s ]

[ 2017-04-08T14:07:17+08:00 ] 122.190.2.18 /Pay/link?uid=8461&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491631637376216
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000175s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000223s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000240s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491631637376216' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491631637376216','ln1491631637376216','ln1491631637376216','1491631637','1491631637','8461','22222','22222','1','1491631637','0','21','117.157.64.190','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491631637376216' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0009s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8461 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8461","ref2_name":"1014","account":0,"username":"","uid":19631637,"sex":1,"openid":"ln1491631637376216","cps_app_id":"1000000001","reg_type":1,"reg_time":1491631637,"reg_ip":1973239998}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8461' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8461' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8461: reg:10 pay:5
DEBUG: reg--pay2-8461 randrate: 2.315
DEBUG: reg--pay2-8461 nowrate: 2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8461','1014','0','','19631637','1','ln1491631637376216','1000000001','1','1491631637','1973239998') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8461&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491631637376216

[ 2017-04-08T14:07:18+08:00 ] 117.34.13.66 /Pay/link?uid=8461&code=001jSg0A0YfP1j13TL2A0Hsf0A0jSg0w&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000184s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000252s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408140718c2af8405790982615070',`openid`='oLiX9wDrezjm9ECHpsd8Pw9qLPjA' WHERE ( orderid='ln1491631637376216' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000040s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002933s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002948s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000112s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000129s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000277s ]
INFO: [ app_end ] --END-- [ RunTime:0.000294s ]

[ 2017-04-08T14:07:21+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000199s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149163159651524' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491631611',`transaction_id`='4006042001201704086287608823',`status`='1' WHERE `orderid` = 'ln149163159651524' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000333s ]
INFO: [ app_end ] --END-- [ RunTime:0.000357s ]

[ 2017-04-08T14:07:54+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000251s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149163159651524' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491631611',`transaction_id`='4006042001201704086287608823',`status`='1' WHERE `orderid` = 'ln149163159651524' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000275s ]
INFO: [ app_end ] --END-- [ RunTime:0.000304s ]

[ 2017-04-08T14:08:31+08:00 ] 122.190.2.72 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491631711581262
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000198s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491631711581262' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491631711581262','ln1491631711581262','ln1491631711581262','1491631711','1491631711','8478','22222','22222','1','1491631711','0','25','42.248.41.18','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0009s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491631711581262' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0010s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":0,"username":"","uid":19631711,"sex":1,"openid":"ln1491631711581262","cps_app_id":"1000000001","reg_type":1,"reg_time":1491631711,"reg_ip":720906514}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0009s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay2-8478: reg:42 pay:27
DEBUG: reg--pay2-8478 randrate: 1.621
DEBUG: reg--pay2-8478 nowrate: 1.5555555555556
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','0','','19631711','1','ln1491631711581262','1000000001','1','1491631711','720906514') [ RunTime:0.0006s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491631711581262

[ 2017-04-08T14:08:31+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000168s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000238s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000258s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491631445426939' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491631466',`transaction_id`='4004982001201704086289319981',`status`='1' WHERE `orderid` = 'ln1491631445426939' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000286s ]
INFO: [ app_end ] --END-- [ RunTime:0.000307s ]

[ 2017-04-08T14:08:32+08:00 ] 117.34.13.96 /Pay/link?uid=8478&code=041qEByj2XjjKH05JLvj2knByj2qEByZ&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000221s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000238s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081408324019e3b03c0449396030',`openid`='oLiX9wNrvTlKfyZ7S1Gr2muB4x1k' WHERE ( orderid='ln1491631711581262' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000028s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000049s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003030s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003053s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000107s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000128s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000294s ]
INFO: [ app_end ] --END-- [ RunTime:0.000312s ]

[ 2017-04-08T14:08:49+08:00 ] 117.34.13.66 /Pay/link?uid=8471&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491631728341245
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000008s ]
INFO: [ app_init ] --END-- [ RunTime:0.000208s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000247s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000264s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491631728341245' LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491631728341245','ln1491631728341245','ln1491631728341245','1491631729','1491631729','8471','22222','22222','1','1491631729','0','23','111.26.34.16','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491631728341245' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8471 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8471","ref2_name":"1024","account":1,"username":"","uid":19631729,"sex":1,"openid":"ln1491631728341245","cps_app_id":"1000000001","reg_type":1,"reg_time":1491631729,"reg_ip":1863983632}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8471' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8471' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8471: reg:7 pay:6
DEBUG: reg--pay2-8471 randrate: 2.385
DEBUG: reg--pay2-8471 nowrate: 1.1666666666667
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8471','1024','1','','19631729','1','ln1491631728341245','1000000001','1','1491631729','1863983632') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8471&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=23&orderid=ln1491631728341245

[ 2017-04-08T14:08:50+08:00 ] 117.34.13.66 /Pay/link?uid=8471&code=031r1yR52EU4iM0uVsV52lUHR52r1yR2&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000237s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000257s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081408501bd5b1a1c20285066624',`openid`='oLiX9wOoI23xed-XpSCU0Hu1GZl0' WHERE ( orderid='ln1491631728341245' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000027s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000047s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002794s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002808s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000096s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000109s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000281s ]
INFO: [ app_end ] --END-- [ RunTime:0.000302s ]

[ 2017-04-08T14:08:53+08:00 ] 122.190.2.12 /Pay/link?uid=8466&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491631733_8466521729
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000271s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000290s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491631626_8466159488' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491631733_8466521729' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491631733_8466521729','ln1491631733_8466521729','ln1491631733_8466521729','1491631733','1491631733','8466','22222','22222','1','1491631733','0','25','60.16.151.115','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491631733_8466521729' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8466 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8466","ref2_name":"1019","account":0,"username":"","uid":19631733,"sex":1,"openid":"ln1491631733_8466521729","cps_app_id":"1000000001","reg_type":1,"reg_time":1491631733,"reg_ip":1007720307}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8466' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8466' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8466: reg:3 pay:2
DEBUG: reg--pay2-8466 randrate: 2.024
DEBUG: reg--pay2-8466 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8466','1019','0','','19631733','1','ln1491631733_8466521729','1000000001','1','1491631733','1007720307') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8466&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=25&orderid=ln1491631727429431

[ 2017-04-08T14:08:56+08:00 ] 122.190.2.12 /Pay/link?uid=8466&code=001h5Sph18zI2x0KOBrh17gcqh1h5SpW&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000250s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408140856ee256cf87d0621712628',`openid`='oLiX9wB2Avm2Jo1CiooAItmyMy0I' WHERE ( orderid='ln1491631733_8466521729' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000059s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003369s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003404s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000094s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000108s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000283s ]
INFO: [ app_end ] --END-- [ RunTime:0.000298s ]

[ 2017-04-08T14:09:01+08:00 ] 58.211.2.30 /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491631740546052
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000204s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000255s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000273s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491631740546052' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491631740546052','ln1491631740546052','ln1491631740546052','1491631741','1491631741','8478','22222','22222','1','1491631741','0','21','113.128.146.192','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0012s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0021s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491631740546052' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0011s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8478 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0008s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8478","ref2_name":"1031","account":0,"username":"","uid":19631741,"sex":1,"openid":"ln1491631740546052","cps_app_id":"1000000001","reg_type":1,"reg_time":1491631741,"reg_ip":1904251584}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8478' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8478' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0006s ]
DEBUG: reg--pay2-8478: reg:42 pay:27
DEBUG: reg--pay2-8478 randrate: 2.454
DEBUG: reg--pay2-8478 nowrate: 1.5555555555556
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8478','1031','0','','19631741','1','ln1491631740546052','1000000001','1','1491631741','1904251584') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8478&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491631740546052

[ 2017-04-08T14:09:01+08:00 ] 58.211.2.30 /Pay/link?uid=8478&code=041QRH1i2nsF8H0D360i238E1i2QRH1L&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000253s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0010s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx2017040814090127517e90330263798884',`openid`='oLiX9wLjP29EP4ZE1AY8Bri7KDIs' WHERE ( orderid='ln1491631740546052' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000042s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003130s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003145s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000116s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000130s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000265s ]
INFO: [ app_end ] --END-- [ RunTime:0.000281s ]

[ 2017-04-08T14:09:24+08:00 ] 58.211.2.150 /Pay/link?uid=8435&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491631764866766
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000196s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000242s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000261s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491631764866766' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491631764866766','ln1491631764866766','ln1491631764866766','1491631764','1491631764','8435','22222','22222','1','1491631764','0','21','59.172.213.204','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491631764866766' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8435 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8435","ref2_name":"\u5c0f\u9648","account":1,"username":"","uid":19631764,"sex":1,"openid":"ln1491631764866766","cps_app_id":"1000000001","reg_type":1,"reg_time":1491631764,"reg_ip":1001182668}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8435' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8435' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8435: reg:5 pay:3
DEBUG: reg--pay2-8435 randrate: 2.276
DEBUG: reg--pay2-8435 nowrate: 1.6666666666667
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8435','小陈','1','','19631764','1','ln1491631764866766','1000000001','1','1491631764','1001182668') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8435&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491631764866766

[ 2017-04-08T14:09:25+08:00 ] 58.211.2.150 /Pay/link?uid=8435&code=011fa87S0W60pb2A2d7S0kNT6S0fa87q&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000183s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000243s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000264s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081409251514c8ac150023173966',`openid`='oLiX9wPPKalikwUuFDEG0aXaMtdc' WHERE ( orderid='ln1491631764866766' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000026s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000057s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003093s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003110s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000107s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000121s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000282s ]
INFO: [ app_end ] --END-- [ RunTime:0.000300s ]

[ 2017-04-08T14:09:26+08:00 ] 58.211.2.36 /favicon.ico
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.

[ 2017-04-08T14:09:34+08:00 ] 58.211.2.18 /Pay/link?uid=8435&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491631774973110
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000183s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000222s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000239s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491631774973110' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491631774973110','ln1491631774973110','ln1491631774973110','1491631774','1491631774','8435','22222','22222','1','1491631774','0','21','101.226.65.107','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491631774973110' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8435 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8435","ref2_name":"\u5c0f\u9648","account":0,"username":"","uid":19631774,"sex":1,"openid":"ln1491631774973110","cps_app_id":"1000000001","reg_type":1,"reg_time":1491631774,"reg_ip":1709326699}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8435' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8435' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8435: reg:6 pay:3
DEBUG: reg--pay2-8435 randrate: 2.035
DEBUG: reg--pay2-8435 nowrate: 2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8435','小陈','0','','19631774','1','ln1491631774973110','1000000001','1','1491631774','1709326699') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8435&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491631774973110

[ 2017-04-08T14:10:38+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000241s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000342s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000364s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491627982461437' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491627992',`transaction_id`='4000322001201704086283014652',`status`='1' WHERE `orderid` = 'ln1491627982461437' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000265s ]
INFO: [ app_end ] --END-- [ RunTime:0.000286s ]

[ 2017-04-08T14:10:56+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149163159651524' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491631611',`transaction_id`='4006042001201704086287608823',`status`='1' WHERE `orderid` = 'ln149163159651524' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000263s ]
INFO: [ app_end ] --END-- [ RunTime:0.000286s ]

[ 2017-04-08T14:11:15+08:00 ] 122.190.2.48 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000191s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000214s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000233s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000059s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000075s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000078s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000089s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000246s ]
INFO: [ app_end ] --END-- [ RunTime:0.000263s ]

[ 2017-04-08T14:11:15+08:00 ] 116.31.126.107 /Pay/link?uid=8448&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491631875348796
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000196s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000268s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000290s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0009s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491631875348796' LIMIT 1   [ RunTime:0.0020s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491631875348796','ln1491631875348796','ln1491631875348796','1491631875','1491631875','8448','22222','22222','1','1491631875','0','21','183.10.130.233','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491631875348796' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8448 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8448","ref2_name":"1001","account":0,"username":"","uid":19631875,"sex":1,"openid":"ln1491631875348796","cps_app_id":"1000000001","reg_type":1,"reg_time":1491631875,"reg_ip":3070919401}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8448' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8448' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8448: reg:9 pay:5
DEBUG: reg--pay2-8448 randrate: 2.337
DEBUG: reg--pay2-8448 nowrate: 1.8
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8448','1001','0','','19631875','1','ln1491631875348796','1000000001','1','1491631875','3070919401') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8448&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491631875348796

[ 2017-04-08T14:11:16+08:00 ] 116.31.126.107 /Pay/link?uid=8448&code=041UN7fR1PHNV71YTcbR1i6YeR1UN7fO&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000204s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000245s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000266s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408141116eeb3d9f49e0045472977',`openid`='oLiX9wP58jtcH2zmzuDU226_8LDY' WHERE ( orderid='ln1491631875348796' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000027s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000049s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003169s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003187s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000107s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000122s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000348s ]
INFO: [ app_end ] --END-- [ RunTime:0.000367s ]

[ 2017-04-08T14:11:17+08:00 ] 58.211.2.48 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000167s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000211s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000229s ]
INFO: [ view_parse ] --START--
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.000086s ]
INFO: [ view_parse ] --END-- [ RunTime:0.000118s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000085s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000098s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000234s ]
INFO: [ app_end ] --END-- [ RunTime:0.000248s ]

[ 2017-04-08T14:11:31+08:00 ] 117.34.13.96 /Pay/link?uid=8479&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491631890792476
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000281s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000300s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491631890792476' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491631890792476','ln1491631890792476','ln1491631890792476','1491631891','1491631891','8479','22222','22222','1','1491631891','0','21','123.10.97.162','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491631890792476' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8479 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8479","ref2_name":"1032","account":0,"username":"","uid":19631891,"sex":1,"openid":"ln1491631890792476","cps_app_id":"1000000001","reg_type":1,"reg_time":1491631891,"reg_ip":2064277922}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8479' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8479' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8479: reg:6 pay:3
DEBUG: reg--pay2-8479 randrate: 2.094
DEBUG: reg--pay2-8479 nowrate: 2
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8479','1032','0','','19631891','1','ln1491631890792476','1000000001','1','1491631891','2064277922') [ RunTime:0.0007s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8479&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491631890792476

[ 2017-04-08T14:11:32+08:00 ] 117.34.13.96 /Pay/link?uid=8479&code=021BYNDL18xj721LSIFL1a8zDL1BYNDv&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000223s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000241s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408141132726a1cde480763277044',`openid`='oLiX9wKnvs31YkB5kbLlQ35BIxOI' WHERE ( orderid='ln1491631890792476' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000024s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000049s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002895s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002909s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000096s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000109s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000266s ]
INFO: [ app_end ] --END-- [ RunTime:0.000286s ]

[ 2017-04-08T14:12:00+08:00 ] 116.31.126.154 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000189s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000252s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000270s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491631875348796' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491631919',`transaction_id`='4009682001201704086290861141',`status`='1' WHERE `orderid` = 'ln1491631875348796' [ RunTime:0.0005s ]
DEBUG: order: {"id":"5716","refid":"8448","prepayid":"wx20170408141116eeb3d9f49e0045472977","orderid":"ln1491631875348796","pay_orderid":"ln1491631875348796","openid":"oLiX9wP58jtcH2zmzuDU226_8LDY","uid":"1491631875","gid":"1","time":"1491631875","status":"0","money":"21","ip":"183.10.130.233","call_url":"http:\/\/www.wxaso.cn\/index\/pay\/callback","call_status":"0","pay_time":null,"ad_app_id":"22222","ad_app_uid":"22222","transaction_id":"","stop_time":null,"pay_channel":"1","utype":"","uiver":"","merchant_id":null,"iplocation":null,"pay_source":"1","templet":null}
SQL: SELECT * FROM `qw_payapi_log` WHERE `id` = 5716 LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( cps_app_id='1000000001' AND pay_serial='ln1491631875348796' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid,`t`,`deduct_rate` FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8448 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: bili:1--22222 -- 2017-04-06 21:39:34
DEBUG: {"account":1,"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8448","ref2_name":"1001","uid":"ln1491631875348796","username":"","cps_app_id":"1000000001","pay_serial":"ln1491631875348796","ad_app_id":"22222","ad_app_uid":"22222","pay_channel_serial":"4009682001201704086290861141","pay_channel":"1","pay_amount":"21","pay_type":1,"pay_time":"1491631919","pay_time_ymd":"2017-04-08","pay_time_h":"14","pay_time_ymdh":"2017040814","pay_ip":"183.10.130.233"}
SQL: INSERT INTO `qw_pay_log` (`account`,`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`uid`,`username`,`cps_app_id`,`pay_serial`,`ad_app_id`,`ad_app_uid`,`pay_channel_serial`,`pay_channel`,`pay_amount`,`pay_type`,`pay_time`,`pay_time_ymd`,`pay_time_h`,`pay_time_ymdh`,`pay_ip`) VALUES ('1','8389','mrpei','8448','1001','ln1491631875348796','','1000000001','ln1491631875348796','22222','22222','4009682001201704086290861141','1','21','1','1491631919','2017-04-08','14','2017040814','183.10.130.233') [ RunTime:0.0005s ]
ERR: Think\Controller:actiontoken方法不存在！

[ 2017-04-08T14:12:10+08:00 ] 117.34.13.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000179s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000358s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000381s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491631875348796' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491631919',`transaction_id`='4009682001201704086290861141',`status`='1' WHERE `orderid` = 'ln1491631875348796' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000258s ]
INFO: [ app_end ] --END-- [ RunTime:0.000279s ]

[ 2017-04-08T14:12:20+08:00 ] 117.34.13.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000195s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000257s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000278s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0009s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491629883627896' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491629890',`transaction_id`='4007432001201704086286678196',`status`='1' WHERE `orderid` = 'ln1491629883627896' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000298s ]
INFO: [ app_end ] --END-- [ RunTime:0.000318s ]

[ 2017-04-08T14:12:25+08:00 ] 116.31.126.102 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000161s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000267s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000288s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491620884_8469701759' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491620889',`transaction_id`='4002352001201704086265806654',`status`='1' WHERE `orderid` = 'ln1491620884_8469701759' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000346s ]
INFO: [ app_end ] --END-- [ RunTime:0.000371s ]

[ 2017-04-08T14:12:27+08:00 ] 58.211.2.60 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000198s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000238s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000260s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491631875348796' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491631919',`transaction_id`='4009682001201704086290861141',`status`='1' WHERE `orderid` = 'ln1491631875348796' [ RunTime:0.0006s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000281s ]
INFO: [ app_end ] --END-- [ RunTime:0.000302s ]

[ 2017-04-08T14:12:39+08:00 ] 122.190.2.6 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491631958648505
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000233s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000250s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491631958648505' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491631958648505','ln1491631958648505','ln1491631958648505','1491631959','1491631959','8409','22222','22222','1','1491631959','0','29','117.151.191.25','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491631958648505' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":1,"username":"","uid":19631959,"sex":1,"openid":"ln1491631958648505","cps_app_id":"1000000001","reg_type":1,"reg_time":1491631959,"reg_ip":1972879129}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8409: reg:5 pay:1
DEBUG: reg--pay2-8409 randrate: 2.011
DEBUG: reg--pay2-8409 nowrate: 5
DEBUG: reg--pay2-8409 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19631959','1','ln1491631958648505','1000000001','1','1491631959','1972879129') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln1491631958648505

[ 2017-04-08T14:12:39+08:00 ] 122.190.2.6 /Pay/link?uid=8409&code=011lxCUl1UQ1nj0ROyTl16nhUl1lxCUw&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000212s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000280s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000306s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408141239af317eec380162000544',`openid`='oLiX9wCfRzgx74DZB6OUyIFjuerE' WHERE ( orderid='ln1491631958648505' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000044s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003035s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003049s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000098s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000111s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000310s ]
INFO: [ app_end ] --END-- [ RunTime:0.000332s ]

[ 2017-04-08T14:12:43+08:00 ] 116.31.126.151 /Pay/link?uid=8448&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491631963_8448122923
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000007s ]
INFO: [ app_init ] --END-- [ RunTime:0.000180s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000227s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491631875348796' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491631963_8448122923' LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491631963_8448122923','ln1491631963_8448122923','ln1491631963_8448122923','1491631963','1491631963','8448','22222','22222','1','1491631963','0','21','183.10.130.233','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491631963_8448122923' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8448 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8448","ref2_name":"1001","account":0,"username":"","uid":19631963,"sex":1,"openid":"ln1491631963_8448122923","cps_app_id":"1000000001","reg_type":1,"reg_time":1491631963,"reg_ip":3070919401}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8448' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0009s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8448' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8448: reg:9 pay:6
DEBUG: reg--pay2-8448 randrate: 1.965
DEBUG: reg--pay2-8448 nowrate: 1.5
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8448','1001','0','','19631963','1','ln1491631963_8448122923','1000000001','1','1491631963','3070919401') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8448&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=21&orderid=ln1491631963924496

[ 2017-04-08T14:12:44+08:00 ] 116.31.126.107 /Pay/link?uid=8448&code=021hSYoo0X9O5q1LMfpo0VVgpo0hSYoJ&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000190s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000208s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000225s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408141244ac2cc7634a0764800976',`openid`='oLiX9wP58jtcH2zmzuDU226_8LDY' WHERE ( orderid='ln1491631963_8448122923' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000032s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000049s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003221s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003235s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000097s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000109s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000381s ]
INFO: [ app_end ] --END-- [ RunTime:0.000401s ]

[ 2017-04-08T14:12:44+08:00 ] 116.31.126.151 /Pay/link?uid=8448&code=0214G98l12hiik0rol7l12t88l14G98H&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000192s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000254s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000276s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx20170408141244ac2cc7634a0309950279',`openid`='oLiX9wP58jtcH2zmzuDU226_8LDY' WHERE ( orderid='ln1491631963_8448122923' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000041s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003198s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003213s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000091s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000105s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000279s ]
INFO: [ app_end ] --END-- [ RunTime:0.000297s ]

[ 2017-04-08T14:12:58+08:00 ] 101.71.55.100 /Pay/callback
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000170s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000219s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000237s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491631875348796' AND `status` = 0 LIMIT 1   [ RunTime:0.0005s ]
SQL: UPDATE `qw_payapi_log` SET `pay_time`='1491631919',`transaction_id`='4009682001201704086290861141',`status`='1' WHERE `orderid` = 'ln1491631875348796' [ RunTime:0.0005s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000360s ]
INFO: [ app_end ] --END-- [ RunTime:0.000388s ]

[ 2017-04-08T14:12:58+08:00 ] 58.211.2.48 /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln149163197861657
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000165s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000215s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000233s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149163197861657' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149163197861657','ln149163197861657','ln149163197861657','1491631978','1491631978','8409','22222','22222','1','1491631978','0','29','61.151.218.118','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149163197861657' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0009s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8409 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8400 ) LIMIT 1   [ RunTime:0.0007s ]
DEBUG: reg--pay-data: {"ref1_id":"8400","ref1_name":"\u6587","ref2_id":"8409","ref2_name":"\u706b\u4e91\u90aa\u795e","account":1,"username":"","uid":19631978,"sex":1,"openid":"ln149163197861657","cps_app_id":"1000000001","reg_type":1,"reg_time":1491631978,"reg_ip":1033362038}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8409' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0009s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8409' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0005s ]
DEBUG: reg--pay2-8409: reg:5 pay:1
DEBUG: reg--pay2-8409 randrate: 2.06
DEBUG: reg--pay2-8409 nowrate: 5
DEBUG: reg--pay2-8409 randrate account set to 0
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8400','文','8409','火云邪神','0','','19631978','1','ln149163197861657','1000000001','1','1491631978','1033362038') [ RunTime:0.0006s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8409&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=29&orderid=ln149163197861657

[ 2017-04-08T14:14:41+08:00 ] 117.34.13.24 /Pay/link?uid=8471&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln149163208177230
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000164s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000248s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln149163208177230' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln149163208177230','ln149163208177230','ln149163208177230','1491632081','1491632081','8471','22222','22222','1','1491632081','0','39','27.205.5.235','http://www.wxasj.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln149163208177230' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0007s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8471 ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8471","ref2_name":"1024","account":0,"username":"","uid":19632081,"sex":1,"openid":"ln149163208177230","cps_app_id":"1000000001","reg_type":1,"reg_time":1491632081,"reg_ip":466421227}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8471' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0010s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8471' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8471: reg:8 pay:6
DEBUG: reg--pay2-8471 randrate: 1.793
DEBUG: reg--pay2-8471 nowrate: 1.3333333333333
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8471','1024','0','','19632081','1','ln149163208177230','1000000001','1','1491632081','466421227') [ RunTime:0.0004s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8471&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxasj.cn/index/pay/callback&money=39&orderid=ln149163208177230

[ 2017-04-08T14:14:42+08:00 ] 117.34.13.24 /Pay/link?uid=8471&code=041dPP5N0ui8w72FYg2N0hJW5N0dPP5Y&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000186s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000225s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000245s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0007s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081414421e182697b90623363187',`openid`='oLiX9wCGH8pSjhyFUZNVVCZuWUks' WHERE ( orderid='ln149163208177230' ) [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000032s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000054s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.002942s ]
INFO: [ view_parse ] --END-- [ RunTime:0.002956s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000095s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000107s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000265s ]
INFO: [ app_end ] --END-- [ RunTime:0.000280s ]

[ 2017-04-08T14:14:42+08:00 ] 122.190.2.18 /Pay/link?uid=8471&code=051aDVqj0I9qYl187Rqj0ekDqj0aDVqz&state=STATE
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000006s ]
INFO: [ app_init ] --END-- [ RunTime:0.000197s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000252s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000272s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: errcode /data/www/pay/App/Index/Controller/PayController.class.php 第 514 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: UPDATE `qw_payapi_log` SET `prepayid`='wx201704081414421e182697b90536093429',`openid`='oLiX9wCGH8pSjhyFUZNVVCZuWUks' WHERE ( orderid='ln149163208177230' ) [ RunTime:0.0006s ]
NOTIC: [8] Undefined index: call_url /data/www/pay/App/Index/Controller/PayController.class.php 第 758 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000025s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000043s ]
NOTIC: [8] Undefined index: uiver /data/www/pay/App/Runtime/Cache/Index/2d0a421a9c8583bd1c7454ef76305c01.php 第 93 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.003246s ]
INFO: [ view_parse ] --END-- [ RunTime:0.003264s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000102s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000120s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000302s ]
INFO: [ app_end ] --END-- [ RunTime:0.000318s ]

[ 2017-04-08T14:15:49+08:00 ] 58.211.2.18 /Pay/link?uid=8471&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491632149454382
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000005s ]
INFO: [ app_init ] --END-- [ RunTime:0.000195s ]
NOTIC: [2] array_merge(): Argument #1 is not an array /data/www/pay/App/Index/Conf/config.php 第 13 行.
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000228s ]
SQL: SHOW COLUMNS FROM `qw_pay_wechat` [ RunTime:0.0006s ]
SQL: SELECT * FROM `qw_pay_wechat` WHERE ( status=1 AND web_id=1 ) LIMIT 1   [ RunTime:0.0004s ]
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 78 行.
NOTIC: [8] Undefined index: openid /data/www/pay/App/Index/Controller/PayController.class.php 第 109 行.
NOTIC: [8] Undefined index: rurl /data/www/pay/App/Index/Controller/PayController.class.php 第 110 行.
NOTIC: [8] Undefined index: appid /data/www/pay/App/Index/Controller/PayController.class.php 第 113 行.
DEBUG: payment-wechat-token: ACyKYk06G7d-HIyBMyvPgzTA-Ape7I-n1tjJIi2EaZOoxJJyamhxCLPB58_dHutOYYrOGjifxhnZuUhQC1HIU2Nf2uTt01sumU9IK_csnnRT0y9hgbx2C31Mi8YYi_25NJLiACAJFH
NOTIC: [8] Undefined index: isvip /data/www/pay/App/Index/Controller/PayController.class.php 第 685 行.
NOTIC: [8] Undefined index: type /data/www/pay/App/Index/Controller/PayController.class.php 第 696 行.
NOTIC: [8] Undefined index: test /data/www/pay/App/Index/Controller/PayController.class.php 第 140 行.
SQL: SHOW COLUMNS FROM `qw_payapi_log` [ RunTime:0.0008s ]
SQL: SELECT * FROM `qw_payapi_log` WHERE `orderid` = 'ln1491632149454382' LIMIT 1   [ RunTime:0.0005s ]
NOTIC: [8] Undefined index: ad_app_id /data/www/pay/App/Index/Controller/PayController.class.php 第 634 行.
NOTIC: [8] Undefined index: ad_app_uid /data/www/pay/App/Index/Controller/PayController.class.php 第 635 行.
NOTIC: [8] Undefined index: time /data/www/pay/App/Index/Controller/PayController.class.php 第 643 行.
SQL: INSERT INTO `qw_payapi_log` (`prepayid`,`orderid`,`pay_orderid`,`openid`,`uid`,`refid`,`ad_app_id`,`ad_app_uid`,`gid`,`time`,`status`,`money`,`ip`,`call_url`,`pay_channel`,`stop_time`,`utype`,`uiver`) VALUES ('ln1491632149454382','ln1491632149454382','ln1491632149454382','1491632149','1491632149','8471','22222','22222','1','1491632149','0','21','223.104.130.43','http://www.wxaso.cn/index/pay/callback','1',NULL,'','') [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `qw_register_log` [ RunTime:0.0006s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( openid='ln1491632149454382' AND cps_app_id='1000000001' ) LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `qw_member` [ RunTime:0.0008s ]
SQL: SELECT `user`,`cid`,g.uid,g.group_id AS gid FROM `qw_member` LEFT JOIN qw_auth_group_access g ON g.uid=qw_member.uid  WHERE ( qw_member.uid=8471 ) LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT * FROM `qw_member` WHERE ( uid=8389 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay-data: {"ref1_id":"8389","ref1_name":"mrpei","ref2_id":"8471","ref2_name":"1024","account":1,"username":"","uid":19632149,"sex":1,"openid":"ln1491632149454382","cps_app_id":"1000000001","reg_type":1,"reg_time":1491632149,"reg_ip":3748168235}
SQL: SELECT COUNT(*) AS tp_count FROM `qw_register_log` WHERE ( ref2_id='8471' AND reg_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0007s ]
SQL: SHOW COLUMNS FROM `qw_pay_log` [ RunTime:0.0007s ]
SQL: SELECT COUNT(*) AS tp_count FROM `qw_pay_log` WHERE ( ref2_id='8471' AND pay_time>1491580800 and account=1 ) LIMIT 1   [ RunTime:0.0004s ]
DEBUG: reg--pay2-8471: reg:8 pay:6
DEBUG: reg--pay2-8471 randrate: 1.704
DEBUG: reg--pay2-8471 nowrate: 1.3333333333333
SQL: INSERT INTO `qw_register_log` (`ref1_id`,`ref1_name`,`ref2_id`,`ref2_name`,`account`,`username`,`uid`,`sex`,`openid`,`cps_app_id`,`reg_type`,`reg_time`,`reg_ip`) VALUES ('8389','mrpei','8471','1024','1','','19632149','1','ln1491632149454382','1000000001','1','1491632149','3748168235') [ RunTime:0.0005s ]
DEBUG: pay_link_time_err: /Pay/link?uid=8471&timestamp=&sign=5d27e76a2fa125a15c10bebf8f69736a&call_url=http://www.wxaso.cn/index/pay/callback&money=21&orderid=ln1491632149454382

